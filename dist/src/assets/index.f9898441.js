(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function W(){}function ot(l,e){for(const t in e)l[t]=e[t];return l}function et(l){return l()}function Ie(){return Object.create(null)}function Y(l){l.forEach(et)}function tt(l){return typeof l=="function"}function N(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let _e;function oe(l,e){return _e||(_e=document.createElement("a")),_e.href=e,l===_e.href}function st(l){return Object.keys(l).length===0}function it(l,e,t,n){if(l){const o=nt(l,e,t,n);return l[0](o)}}function nt(l,e,t,n){return l[1]&&n?ot(t.ctx.slice(),l[1](n(e))):t.ctx}function rt(l,e,t,n){if(l[2]&&n){const o=l[2](n(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],s=Math.max(e.dirty.length,o.length);for(let r=0;r<s;r+=1)i[r]=e.dirty[r]|o[r];return i}return e.dirty|o}return e.dirty}function ct(l,e,t,n,o,i){if(o){const s=nt(e,t,n,i);l.p(s,o)}}function at(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ut(l){return l==null?"":l}function m(l,e){l.appendChild(e)}function M(l,e,t){l.insertBefore(e,t||null)}function S(l){l.parentNode.removeChild(l)}function fe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function b(l){return document.createElement(l)}function U(l){return document.createTextNode(l)}function $(){return U(" ")}function Te(){return U("")}function E(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function f(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function ft(l){return l===""?null:+l}function dt(l){return Array.from(l.childNodes)}function G(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function P(l,e){l.value=e==null?"":e}function V(l,e,t,n){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function je(l,e){for(let t=0;t<l.options.length;t+=1){const n=l.options[t];if(n.__value===e){n.selected=!0;return}}l.selectedIndex=-1}function pt(l){const e=l.querySelector(":checked")||l.options[0];return e&&e.__value}function J(l,e,t){l.classList[t?"add":"remove"](e)}function _t(l,e,{bubbles:t=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(l,t,n,e),o}let ue;function ae(l){ue=l}function ve(){if(!ue)throw new Error("Function called outside component initialization");return ue}function Ae(l){ve().$$.on_mount.push(l)}function te(){const l=ve();return(e,t,{cancelable:n=!1}={})=>{const o=l.$$.callbacks[e];if(o){const i=_t(e,t,{cancelable:n});return o.slice().forEach(s=>{s.call(l,i)}),!i.defaultPrevented}return!0}}function re(l,e){return ve().$$.context.set(l,e),e}function le(l){return ve().$$.context.get(l)}function be(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const ce=[],Ce=[],he=[],Se=[],mt=Promise.resolve();let Me=!1;function ht(){Me||(Me=!0,mt.then(lt))}function we(l){he.push(l)}function gt(l){Se.push(l)}const ye=new Set;let me=0;function lt(){const l=ue;do{for(;me<ce.length;){const e=ce[me];me++,ae(e),bt(e.$$)}for(ae(null),ce.length=0,me=0;Ce.length;)Ce.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];ye.has(t)||(ye.add(t),t())}he.length=0}while(ce.length);for(;Se.length;)Se.pop()();Me=!1,ye.clear(),ae(l)}function bt(l){if(l.fragment!==null){l.update(),Y(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(we)}}const ge=new Set;let ne;function Z(){ne={r:0,c:[],p:ne}}function Q(){ne.r||Y(ne.c),ne=ne.p}function C(l,e){l&&l.i&&(ge.delete(l),l.i(e))}function T(l,e,t,n){if(l&&l.o){if(ge.has(l))return;ge.add(l),ne.c.push(()=>{ge.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function wt(l,e){l.d(1),e.delete(l.key)}function vt(l,e,t,n,o,i,s,r,u,a,c,p){let h=l.length,d=i.length,_=h;const v={};for(;_--;)v[l[_].key]=_;const y=[],w=new Map,g=new Map;for(_=d;_--;){const A=p(o,i,_),H=t(A);let z=s.get(H);z?n&&z.p(A,e):(z=a(H,A),z.c()),w.set(H,y[_]=z),H in v&&g.set(H,Math.abs(_-v[H]))}const k=new Set,L=new Set;function q(A){C(A,1),A.m(r,c),s.set(A.key,A),c=A.first,d--}for(;h&&d;){const A=y[d-1],H=l[h-1],z=A.key,X=H.key;A===H?(c=A.first,h--,d--):w.has(X)?!s.has(z)||k.has(z)?q(A):L.has(X)?h--:g.get(z)>g.get(X)?(L.add(z),q(A)):(k.add(X),h--):(u(H,s),h--)}for(;h--;){const A=l[h];w.has(A.key)||u(A,s)}for(;d;)q(y[d-1]);return y}function kt(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function j(l){l&&l.c()}function B(l,e,t,n){const{fragment:o,after_update:i}=l.$$;o&&o.m(e,t),n||we(()=>{const s=l.$$.on_mount.map(et).filter(tt);l.$$.on_destroy?l.$$.on_destroy.push(...s):Y(s),l.$$.on_mount=[]}),i.forEach(we)}function I(l,e){const t=l.$$;t.fragment!==null&&(Y(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function yt(l,e){l.$$.dirty[0]===-1&&(ce.push(l),ht(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function O(l,e,t,n,o,i,s,r=[-1]){const u=ue;ae(l);const a=l.$$={fragment:null,ctx:[],props:i,update:W,not_equal:o,bound:Ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ie(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(p,h,...d)=>{const _=d.length?d[0]:h;return a.ctx&&o(a.ctx[p],a.ctx[p]=_)&&(!a.skip_bound&&a.bound[p]&&a.bound[p](_),c&&yt(l,p)),h}):[],a.update(),c=!0,Y(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const p=dt(e.target);a.fragment&&a.fragment.l(p),p.forEach(S)}else a.fragment&&a.fragment.c();e.intro&&C(l.$$.fragment),B(l,e.target,e.anchor,e.customElement),lt()}ae(u)}class F{$destroy(){I(this,1),this.$destroy=W}$on(e,t){if(!tt(t))return W;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!st(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function $t(l){let e,t;return{c(){e=b("img"),oe(e.src,t="/Nexion/src/assets/icons/apps/asteroids.png")||f(e,"src",t),f(e,"alt",l[1]),f(e,"class","dock-item-icon svelte-19cqtqb")},m(n,o){M(n,e,o)},p(n,o){o&2&&f(e,"alt",n[1])},d(n){n&&S(e)}}}function Ct(l){let e,t;return{c(){e=b("img"),oe(e.src,t=`/Nexion/src/assets/icons/apps/${l[1].toLowerCase()}.svg`)||f(e,"src",t),f(e,"alt",l[1]),f(e,"class","dock-item-icon svelte-19cqtqb")},m(n,o){M(n,e,o)},p(n,o){o&2&&!oe(e.src,t=`/Nexion/src/assets/icons/apps/${n[1].toLowerCase()}.svg`)&&f(e,"src",t),o&2&&f(e,"alt",n[1])},d(n){n&&S(e)}}}function St(l){let e,t,n,o,i;function s(a,c){return a[1]!="Asteroids"?Ct:$t}let r=s(l),u=r(l);return{c(){e=b("span"),u.c(),t=$(),n=b("span"),f(n,"class","running-indicator svelte-19cqtqb"),J(n,"hide",!l[0]),f(e,"class","dock-item svelte-19cqtqb"),J(e,"focused",l[2])},m(a,c){M(a,e,c),u.m(e,null),m(e,t),m(e,n),o||(i=E(e,"click",l[4]),o=!0)},p(a,[c]){r===(r=s(a))&&u?u.p(a,c):(u.d(1),u=r(a),u&&(u.c(),u.m(e,t))),c&1&&J(n,"hide",!a[0]),c&4&&J(e,"focused",a[2])},i:W,o:W,d(a){a&&S(e),u.d(),o=!1,i()}}}function Mt(l,e,t){let n=te(),{running:o}=e,{app:i}=e,{focused:s}=e;const r=()=>{n("newWindow",{app:i,focused:!0})};return l.$$set=u=>{"running"in u&&t(0,o=u.running),"app"in u&&t(1,i=u.app),"focused"in u&&t(2,s=u.focused)},[o,i,s,n,r]}class Tt extends F{constructor(e){super(),O(this,e,Mt,St,N,{running:0,app:1,focused:2})}}function ze(l,e,t){const n=l.slice();return n[3]=e[t],n}function Ne(l){let e,t;return e=new Tt({props:{app:l[3].name,running:l[3].running,focused:l[3].focused}}),e.$on("newWindow",l[2]),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.app=n[3].name),o&1&&(i.running=n[3].running),o&1&&(i.focused=n[3].focused),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function At(l){let e,t,n=l[0],o=[];for(let s=0;s<n.length;s+=1)o[s]=Ne(ze(l,n,s));const i=s=>T(o[s],1,1,()=>{o[s]=null});return{c(){e=b("div");for(let s=0;s<o.length;s+=1)o[s].c();f(e,"id","dock"),f(e,"class",ut(l[1])+" svelte-uufmbn")},m(s,r){M(s,e,r);for(let u=0;u<o.length;u+=1)o[u].m(e,null);t=!0},p(s,[r]){if(r&1){n=s[0];let u;for(u=0;u<n.length;u+=1){const a=ze(s,n,u);o[u]?(o[u].p(a,r),C(o[u],1)):(o[u]=Ne(a),o[u].c(),C(o[u],1),o[u].m(e,null))}for(Z(),u=n.length;u<o.length;u+=1)i(u);Q()}},i(s){if(!t){for(let r=0;r<n.length;r+=1)C(o[r]);t=!0}},o(s){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)T(o[r]);t=!1},d(s){s&&S(e),fe(o,s)}}}function qt(l,e,t){let n=localStorage.getItem("dockStyle")||"panel-dock",{apps_list:o}=e;function i(s){be.call(this,l,s)}return l.$$set=s=>{"apps_list"in s&&t(0,o=s.apps_list)},[o,n,i]}class Wt extends F{constructor(e){super(),O(this,e,qt,At,N,{apps_list:0})}}function Oe(l,e,t){const n=l.slice();return n[3]=e[t],n}function Fe(l,e){let t,n=e[3].output+"",o,i,s,r,u,a,c,p;function h(...d){return e[2](e[3],...d)}return{key:l,first:null,c(){t=b("div"),i=$(),s=b("input"),f(t,"id",o="output"+e[3].id),f(t,"class","shell-output svelte-186f04z"),f(s,"id",r="prompt"+e[3].id),s.disabled=u=e[3].disabled,s.value=a=e[3].text,f(s,"type","text"),f(s,"class","shell-prompt svelte-186f04z"),this.first=t},m(d,_){M(d,t,_),t.innerHTML=n,M(d,i,_),M(d,s,_),c||(p=E(s,"keyup",h),c=!0)},p(d,_){e=d,_&1&&n!==(n=e[3].output+"")&&(t.innerHTML=n),_&1&&o!==(o="output"+e[3].id)&&f(t,"id",o),_&1&&r!==(r="prompt"+e[3].id)&&f(s,"id",r),_&1&&u!==(u=e[3].disabled)&&(s.disabled=u),_&1&&a!==(a=e[3].text)&&s.value!==a&&(s.value=a)},d(d){d&&S(t),d&&S(i),d&&S(s),c=!1,p()}}}function Et(l){let e,t=[],n=new Map,o=l[0];const i=s=>s[3].id;for(let s=0;s<o.length;s+=1){let r=Oe(l,o,s),u=i(r);n.set(u,t[s]=Fe(u,r))}return{c(){e=b("div");for(let s=0;s<t.length;s+=1)t[s].c();f(e,"class","window-container svelte-186f04z")},m(s,r){M(s,e,r);for(let u=0;u<t.length;u+=1)t[u].m(e,null)},p(s,[r]){r&3&&(o=s[0],t=vt(t,r,i,1,s,o,n,e,wt,Fe,null,Oe))},i:W,o:W,d(s){s&&S(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}let ie="~ $ ";function Dt(l,e,t){let n=[{id:0,text:ie,disabled:!1,output:""}];function o(s,r){if(s.key=="Enter"){let u="",a=s.target.value.trim();a===`${ie}sudo rm -rf /`?u="rm: it is dangerous to operate recursively on '/'<br>rm: use --no-preserve-root to override this failsafe":a===`${ie}sudo rm -rf / --no-preserve-root`?document.body.innerHTML="":a===`${ie}ls`&&(u='<pre><span style="color:#9B6BDF; font-weight: bold;">Desktop</span>   <span style="color:#9B6BDF; font-weight: bold;">Downloads</span>   <span style="color:#9B6BDF; font-weight: bold;">Music</span>   <span style="color:#9B6BDF; font-weight: bold;">Pictures</span>   <span style="color:#9B6BDF; font-weight: bold;">Templates</span>   <span style="color:#9B6BDF; font-weight: bold;">Documents</span>   <span style="color:#9B6BDF; font-weight: bold;">Public</span>   <span style="color:#9B6BDF; font-weight: bold;">Videos</span></pre>');let c={id:n.length,text:ie,disabled:!1,output:u};n.at(-1).disabled=!0,n.push(c),t(0,n),setTimeout(()=>{document.getElementById("prompt"+c.id).focus()},20)}else s.key==="ArrowUp"&&(s.preventDefault(),n.length!=1&&(t(0,n[r].text=document.getElementById("prompt"+(r-1)).value,n),console.log(n[r].text),t(0,n)))}return[n,o,(s,r)=>o(r,s.id)]}class Lt extends F{constructor(e){super(),O(this,e,Dt,Et,N,{})}}function Bt(l,e,t){const n=l.slice();return n[1]=e[t],n}function It(l){let e;return{c(){e=b("span"),f(e,"class","folder-icon svelte-kgqlpk")},m(t,n){M(t,e,n)},p:W,d(t){t&&S(e)}}}function jt(l){let e,t,n,o,i=l[0],s=[];for(let r=0;r<i.length;r+=1)s[r]=It(Bt(l,i,r));return{c(){e=b("div"),t=b("div"),t.innerHTML=`<div class="files-sidebar-link svelte-kgqlpk">\uF7DB Home <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF6C3 Desktop <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF718 Documents <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF6D9 Downloads <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF1C5 Pictures <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uFA66 Videos <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF014 Trash <br/></div>`,n=$(),o=b("div");for(let r=0;r<s.length;r+=1)s[r].c();f(t,"class","sidebar svelte-kgqlpk"),f(o,"class","main-content svelte-kgqlpk"),f(e,"class","window-container svelte-kgqlpk")},m(r,u){M(r,e,u),m(e,t),m(e,n),m(e,o);for(let a=0;a<s.length;a+=1)s[a].m(o,null)},p:W,i:W,o:W,d(r){r&&S(e),fe(s,r)}}}function zt(l){return[Array(20).fill(0)]}class Nt extends F{constructor(e){super(),O(this,e,zt,jt,N,{})}}function Ot(l){let e,t,n,o,i,s,r,u,a,c,p,h,d,_,v,y,w,g,k,L,q,A,H,z,X,de,pe,D,qe,x,We,Ee,De,se,Le,R,ke,Be;return{c(){e=b("div"),t=b("label"),t.textContent="Dock Style",n=$(),o=b("select"),i=b("option"),i.textContent="Panel (Full width)",s=b("option"),s.textContent="Compact (MacOS style)",r=$(),u=b("br"),a=$(),c=b("label"),c.innerHTML=`Color 1 <br/> 
        <span class="desc svelte-o8gjw0">Window titlebars, applications menu, dock, topbar and other system components</span>`,p=$(),h=b("input"),d=$(),_=b("br"),v=$(),y=b("label"),y.innerHTML=`Color 2 <br/> 
        <span class="desc svelte-o8gjw0">Window background</span>`,w=$(),g=b("input"),k=$(),L=b("br"),q=$(),A=b("label"),A.innerHTML=`Color 3 <br/> 
        <span class="desc svelte-o8gjw0">Misc. components</span>`,H=$(),z=b("input"),X=$(),de=b("br"),pe=$(),D=b("label"),D.innerHTML=`Accent Color <br/> 
        <span class="desc svelte-o8gjw0">Accent color used for borders, buttons, etc</span>`,qe=$(),x=b("input"),We=$(),Ee=b("br"),De=$(),se=b("label"),se.innerHTML=`Blur<br/> 
        <span class="desc svelte-o8gjw0">Window backgrounds, system components</span>`,Le=$(),R=b("input"),f(t,"for","dock-style-selector"),f(t,"class","svelte-o8gjw0"),i.__value="panel-dock",i.value=i.__value,s.__value="compact-dock",s.value=s.__value,f(o,"name","dock-style-selector"),f(o,"id","dock-style-selector"),l[0]===void 0&&we(()=>l[6].call(o)),f(c,"for","--color1"),f(c,"class","svelte-o8gjw0"),f(h,"type","color"),f(h,"name","--color1"),f(h,"id","--color1"),f(y,"for","--color2"),f(y,"class","svelte-o8gjw0"),f(g,"type","color"),f(g,"name","--color2"),f(g,"id","--color2"),f(A,"for","--color3"),f(A,"class","svelte-o8gjw0"),f(z,"type","color"),f(z,"name","--color3"),f(z,"id","--color3"),f(D,"for","--accent-color"),f(D,"class","svelte-o8gjw0"),f(x,"type","color"),f(x,"name","--accent-color"),f(x,"id","--accent-color"),f(se,"for","--blur"),f(se,"class","svelte-o8gjw0"),f(R,"type","range"),f(R,"min","0"),f(R,"max","100"),f(R,"name","--blur"),f(R,"id","--blur"),f(e,"class","customize-container svelte-o8gjw0")},m(K,ee){M(K,e,ee),m(e,t),m(e,n),m(e,o),m(o,i),m(o,s),je(o,l[0]),m(e,r),m(e,u),m(e,a),m(e,c),m(e,p),m(e,h),P(h,l[1]),m(e,d),m(e,_),m(e,v),m(e,y),m(e,w),m(e,g),P(g,l[2]),m(e,k),m(e,L),m(e,q),m(e,A),m(e,H),m(e,z),P(z,l[3]),m(e,X),m(e,de),m(e,pe),m(e,D),m(e,qe),m(e,x),P(x,l[4]),m(e,We),m(e,Ee),m(e,De),m(e,se),m(e,Le),m(e,R),P(R,l[5]),ke||(Be=[E(o,"change",l[6]),E(h,"input",l[7]),E(g,"input",l[8]),E(z,"input",l[9]),E(x,"input",l[10]),E(R,"change",l[11]),E(R,"input",l[11])],ke=!0)},p(K,[ee]){ee&1&&je(o,K[0]),ee&2&&P(h,K[1]),ee&4&&P(g,K[2]),ee&8&&P(z,K[3]),ee&16&&P(x,K[4]),ee&32&&P(R,K[5])},i:W,o:W,d(K){K&&S(e),ke=!1,Y(Be)}}}function Ft(l,e,t){let n=localStorage.getItem("dockStyle")||"panel-dock",o=le("colorConfig")||{},i=o["--color1"]||"#060610ae",s=o["--color2"]||"#161620cf",r=o["--color3"]||"#111118cf",u=o["--accent-color"]||"#736099",a=o["--blur"]||20;const c=le("setCSSVar");le("getCSSVar");function p(){n=pt(this),t(0,n)}function h(){i=this.value,t(1,i)}function d(){s=this.value,t(2,s)}function _(){r=this.value,t(3,r)}function v(){u=this.value,t(4,u)}function y(){a=ft(this.value),t(5,a)}return l.$$.update=()=>{l.$$.dirty&1&&(console.log(n),document.querySelector("#dock").classList.remove(n=="compact-dock"?"panel-dock":"compact-dock"),document.querySelector("#dock").classList.add(n=="compact-dock"?"compact-dock":"panel-dock"),localStorage.setItem("dockStyle",n)),l.$$.dirty&62&&(c("--color1",i),c("--color2",s),c("--color3",r),c("--accent-color",u),c("--blur",a+"px"),localStorage.setItem("colorConfig",JSON.stringify({"--color1":i,"--color2":s,"--color3":r,"--accent-color":u,"--blur":a})))},[n,i,s,r,u,a,p,h,d,_,v,y]}class Ht extends F{constructor(e){super(),O(this,e,Ft,Ot,N,{})}}function He(l){let e,t;return e=new Ht({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pt(l){let e,t,n,o,i,s,r,u,a=l[0]==="Customize"&&He();return{c(){e=b("div"),t=b("div"),n=b("div"),n.textContent="\uF77B Customize",o=$(),i=b("div"),a&&a.c(),f(n,"class","sidebar-link svelte-1vdha6f"),J(n,"active",l[0]==="Customize"),f(t,"class","sidebar svelte-1vdha6f"),f(i,"class","main-content svelte-1vdha6f"),f(e,"class","window-container svelte-1vdha6f")},m(c,p){M(c,e,p),m(e,t),m(t,n),m(e,o),m(e,i),a&&a.m(i,null),s=!0,r||(u=E(n,"click",l[1]),r=!0)},p(c,[p]){(!s||p&1)&&J(n,"active",c[0]==="Customize"),c[0]==="Customize"?a?p&1&&C(a,1):(a=He(),a.c(),C(a,1),a.m(i,null)):a&&(Z(),T(a,1,1,()=>{a=null}),Q())},i(c){s||(C(a),s=!0)},o(c){T(a),s=!1},d(c){c&&S(e),a&&a.d(),r=!1,u()}}}function Vt(l,e,t){let n="Customize";return[n,()=>t(0,n="Customize")]}class Ut extends F{constructor(e){super(),O(this,e,Vt,Pt,N,{})}}function Jt(l){let e,t,n,o,i,s;return{c(){e=b("input"),t=$(),n=b("label"),o=U(l[0]),f(e,"type","file"),f(e,"id",l[4]),V(e,"display","none"),f(n,"for",l[4]),f(n,"class","svelte-193v6ke")},m(r,u){M(r,e,u),M(r,t,u),M(r,n,u),m(n,o),i||(s=[E(e,"change",l[6]),E(e,"change",l[7])],i=!0)},p(r,u){u&1&&G(o,r[0])},d(r){r&&S(e),r&&S(t),r&&S(n),i=!1,Y(s)}}}function Rt(l){let e,t,n,o;return{c(){e=b("button"),t=U(l[0]),f(e,"title",l[1]),f(e,"class","svelte-193v6ke")},m(i,s){M(i,e,s),m(e,t),n||(o=E(e,"click",l[5]),n=!0)},p(i,s){s&1&&G(t,i[0]),s&2&&f(e,"title",i[1])},d(i){i&&S(e),n=!1,o()}}}function Yt(l){let e;function t(i,s){return i[1]!=="Open"?Rt:Jt}let n=t(l),o=n(l);return{c(){o.c(),e=Te()},m(i,s){o.m(i,s),M(i,e,s)},p(i,[s]){n===(n=t(i))&&o?o.p(i,s):(o.d(1),o=n(i),o&&(o.c(),o.m(e.parentNode,e)))},i:W,o:W,d(i){o.d(i),i&&S(e)}}}function Kt(l,e,t){let{text:n}=e,{title:o}=e;const i=te();let s;const r=le("window_id")+"file_input";function u(p){be.call(this,l,p)}const a=()=>{t(2,s=document.getElementById(r).files),i("fileOpen",{files:s})};function c(){s=this.files,t(2,s)}return l.$$set=p=>{"text"in p&&t(0,n=p.text),"title"in p&&t(1,o=p.title)},[n,o,s,i,r,u,a,c]}class $e extends F{constructor(e){super(),O(this,e,Kt,Yt,N,{text:0,title:1})}}function Pe(l){let e,t,n,o,i,s,r;const u=l[2].default,a=it(u,l,l[1],null);return{c(){e=b("div"),t=b("div"),a&&a.c(),n=$(),o=b("button"),o.textContent="Close",f(t,"class","modal svelte-1a3y4ns"),f(e,"class","backdrop svelte-1a3y4ns")},m(c,p){M(c,e,p),m(e,t),a&&a.m(t,null),m(t,n),m(t,o),i=!0,s||(r=E(o,"click",l[3]),s=!0)},p(c,p){a&&a.p&&(!i||p&2)&&ct(a,u,c,c[1],i?rt(u,c[1],p,null):at(c[1]),null)},i(c){i||(C(a,c),i=!0)},o(c){T(a,c),i=!1},d(c){c&&S(e),a&&a.d(c),s=!1,r()}}}function Xt(l){let e,t,n=l[0]&&Pe(l);return{c(){n&&n.c(),e=Te()},m(o,i){n&&n.m(o,i),M(o,e,i),t=!0},p(o,[i]){o[0]?n?(n.p(o,i),i&1&&C(n,1)):(n=Pe(o),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(Z(),T(n,1,1,()=>{n=null}),Q())},i(o){t||(C(n),t=!0)},o(o){T(n),t=!1},d(o){n&&n.d(o),o&&S(e)}}}function Gt(l,e,t){let{$$slots:n={},$$scope:o}=e,{show_modal:i=!1}=e;const s=()=>t(0,i=!1);return l.$$set=r=>{"show_modal"in r&&t(0,i=r.show_modal),"$$scope"in r&&t(1,o=r.$$scope)},[i,o,n,s]}class Zt extends F{constructor(e){super(),O(this,e,Gt,Xt,N,{show_modal:0})}}function Qt(l){let e,t,n,o,i,s;return{c(){e=b("h1"),e.textContent="You have unsaved work!",t=$(),n=b("h3"),o=U("Your changes to "),i=U(l[1]),s=U(" will be lost if you don't save them.")},m(r,u){M(r,e,u),M(r,t,u),M(r,n,u),m(n,o),m(n,i),m(n,s)},p(r,u){u&2&&G(i,r[1])},d(r){r&&S(e),r&&S(t),r&&S(n)}}}function xt(l){let e,t,n,o,i,s,r,u,a,c,p,h,d,_,v;n=new $e({props:{text:"\uEA7F",title:"New"}}),n.$on("click",l[4]),i=new $e({props:{text:"\uEB4B",title:"Save"}}),i.$on("click",l[3]),r=new $e({props:{text:"\uEAF7",title:"Open"}}),r.$on("fileOpen",l[5]);function y(g){l[8](g)}let w={$$slots:{default:[Qt]},$$scope:{ctx:l}};return l[2]!==void 0&&(w.show_modal=l[2]),p=new Zt({props:w}),Ce.push(()=>kt(p,"show_modal",y)),{c(){e=b("div"),t=b("div"),j(n.$$.fragment),o=$(),j(i.$$.fragment),s=$(),j(r.$$.fragment),u=$(),a=b("textarea"),c=$(),j(p.$$.fragment),f(t,"class","toolbar svelte-aninbu"),f(a,"wrap",en),f(a,"class","svelte-aninbu"),f(e,"class","window-container svelte-aninbu")},m(g,k){M(g,e,k),m(e,t),B(n,t,null),m(t,o),B(i,t,null),m(t,s),B(r,t,null),m(e,u),m(e,a),P(a,l[0]),m(e,c),B(p,e,null),d=!0,_||(v=E(a,"input",l[7]),_=!0)},p(g,[k]){k&1&&P(a,g[0]);const L={};k&2050&&(L.$$scope={dirty:k,ctx:g}),!h&&k&4&&(h=!0,L.show_modal=g[2],gt(()=>h=!1)),p.$set(L)},i(g){d||(C(n.$$.fragment,g),C(i.$$.fragment,g),C(r.$$.fragment,g),C(p.$$.fragment,g),d=!0)},o(g){T(n.$$.fragment,g),T(i.$$.fragment,g),T(r.$$.fragment,g),T(p.$$.fragment,g),d=!1},d(g){g&&S(e),I(n),I(i),I(r),I(p),_=!1,v()}}}let en="off";function tn(l,e,t){let n,o=new FileReader,i,s,r="Untitled.txt",u=!1;const a=()=>{let _=i,v=document.createElement("a"),y=new Blob([_],{type:"text/plain"});v.href=window.URL.createObjectURL(y),v.download=r,v.click(),n=!0},c=()=>{n?t(0,i=""):t(2,u=!0)},p=_=>{let v=_.detail.files[0];o.onload=()=>{t(0,i=t(6,s=o.result.toString()))},o.readAsText(v),t(1,r=v.name)};function h(){i=this.value,t(0,i)}function d(_){u=_,t(2,u)}return l.$$.update=()=>{l.$$.dirty&65&&(n=s==i)},[i,r,u,a,c,p,s,h,d]}class nn extends F{constructor(e){super(),O(this,e,tn,xt,N,{})}}function Ve(l){let e;return{c(){e=b("div"),e.innerHTML="<h2>Click &quot;Allow&quot; in the browser prompt to use your camera.</h2>",f(e,"class","grant-permission svelte-ujczn")},m(t,n){M(t,e,n)},d(t){t&&S(e)}}}function ln(l){let e,t,n,o,i,s,r,u,a,c=!l[0]&&Ve();return{c(){e=b("div"),t=b("div"),n=b("video"),o=$(),c&&c.c(),i=$(),s=b("div"),r=b("button"),r.textContent="\uEADA",f(n,"id",l[1]),f(n,"class","svelte-ujczn"),f(t,"class","video-container svelte-ujczn"),f(r,"class","photo-btn svelte-ujczn"),f(s,"class","controls svelte-ujczn"),f(e,"class","window-container svelte-ujczn")},m(p,h){M(p,e,h),m(e,t),m(t,n),m(t,o),c&&c.m(t,null),m(e,i),m(e,s),m(s,r),u||(a=E(r,"click",l[2]),u=!0)},p(p,[h]){p[0]?c&&(c.d(1),c=null):c||(c=Ve(),c.c(),c.m(t,null))},i:W,o:W,d(p){p&&S(e),c&&c.d(),u=!1,a()}}}function on(l,e,t){let n=le("window_id")+"video",o=!1;return navigator.mediaDevices.getUserMedia({audio:!1,video:{width:1e3,height:560}}).then(s=>{t(0,o=!0);let r=document.getElementById(n);console.log(n),r.srcObject=s,r.onloadedmetadata=()=>{r.play()}}).catch(s=>{console.log(s)}),[o,n,()=>{let s=document.getElementById(n);const r=document.createElement("canvas");r.width=s.videoWidth,r.height=s.videoHeight,r.getContext("2d").drawImage(s,0,0,r.width,r.height);let a=document.createElement("a");r.toBlob(c=>{a.href=URL.createObjectURL(c),a.download="picture.png",a.click()})}]}class sn extends F{constructor(e){super(),O(this,e,on,ln,N,{})}}function rn(l){let e;return{c(){e=b("div"),e.innerHTML='<iframe src="/Nexion/src/assets/Asteroids.html" title="Asteroids" frameborder="0" class="svelte-1witeso"></iframe>',f(e,"class","window-container svelte-1witeso")},m(t,n){M(t,e,n)},p:W,i:W,o:W,d(t){t&&S(e)}}}class cn extends F{constructor(e){super(),O(this,e,null,rn,N,{})}}function Ue(l){let e,t,n,o;return{c(){e=b("br"),t=$(),n=b("div"),o=U(l[2]),f(n,"class","error svelte-tntr7w")},m(i,s){M(i,e,s),M(i,t,s),M(i,n,s),m(n,o)},p(i,s){s&4&&G(o,i[2])},d(i){i&&S(e),i&&S(t),i&&S(n)}}}function an(l){let e,t,n,o,i,s,r,u,a,c,p,h,d,_,v,y,w=l[2]&&Ue(l);return{c(){e=b("div"),t=b("div"),n=b("p"),n.textContent="Add Todo",o=$(),i=b("input"),s=$(),w&&w.c(),r=$(),u=b("br"),a=$(),c=b("textarea"),p=$(),h=b("br"),d=$(),_=b("button"),_.textContent="Add",f(n,"class","svelte-tntr7w"),f(i,"type","text"),f(i,"class","svelte-tntr7w"),f(c,"type","text"),f(c,"class","svelte-tntr7w"),f(_,"class","svelte-tntr7w"),f(t,"class","add-todo-container svelte-tntr7w"),f(e,"class","backdrop svelte-tntr7w")},m(g,k){M(g,e,k),m(e,t),m(t,n),m(t,o),m(t,i),P(i,l[0]),m(t,s),w&&w.m(t,null),m(t,r),m(t,u),m(t,a),m(t,c),P(c,l[1]),m(t,p),m(t,h),m(t,d),m(t,_),v||(y=[E(i,"input",l[5]),E(c,"input",l[6]),E(_,"click",l[3]),E(e,"keyup",l[4])],v=!0)},p(g,[k]){k&1&&i.value!==g[0]&&P(i,g[0]),g[2]?w?w.p(g,k):(w=Ue(g),w.c(),w.m(t,r)):w&&(w.d(1),w=null),k&2&&P(c,g[1])},i:W,o:W,d(g){g&&S(e),w&&w.d(),v=!1,Y(y)}}}function un(l,e,t){const n=te();let o="",i="",s="";const r=()=>{o.trim()!==""?n("addTodoItem",{title:o,content:i}):t(2,s="Title cannot be empty!")},u=p=>{p.key=="Escape"&&n("closeModal")};Ae(()=>{document.querySelector(".add-todo-container input").focus()});function a(){o=this.value,t(0,o)}function c(){i=this.value,t(1,i)}return[o,i,s,r,u,a,c]}class fn extends F{constructor(e){super(),O(this,e,un,an,N,{})}}function dn(l){let e,t,n,o,i,s,r,u,a,c,p,h,d,_,v,y;return{c(){e=b("div"),t=b("div"),n=b("h4"),o=U(l[0]),i=$(),s=b("span"),r=U(l[3]),u=$(),a=b("div"),c=b("div"),p=$(),h=b("button"),h.textContent="\uF62B",d=$(),_=b("button"),_.textContent="\uF6BF",f(n,"class","svelte-funw"),J(n,"done",l[2]),f(s,"class","toggle-btn svelte-funw"),f(t,"class","title svelte-funw"),f(c,"class","content svelte-funw"),f(h,"class","done-btn svelte-funw"),f(_,"class","delete-btn svelte-funw"),f(a,"class","content-container svelte-funw"),J(a,"show",l[4]),f(e,"class","todo-item svelte-funw")},m(w,g){M(w,e,g),m(e,t),m(t,n),m(n,o),m(t,i),m(t,s),m(s,r),m(e,u),m(e,a),m(a,c),c.innerHTML=l[1],m(a,p),m(a,h),m(a,d),m(a,_),v||(y=[E(t,"click",l[5]),E(h,"click",l[6]),E(_,"click",l[7])],v=!0)},p(w,[g]){g&1&&G(o,w[0]),g&4&&J(n,"done",w[2]),g&8&&G(r,w[3]),g&2&&(c.innerHTML=w[1]),g&16&&J(a,"show",w[4])},i:W,o:W,d(w){w&&S(e),v=!1,Y(y)}}}function pn(l,e,t){let{id:n}=e,{title:o}=e,{content:i}=e,{done:s}=e;const r=te();let u="+",a=!1;const c=()=>{t(4,a=!a),a?t(3,u="-"):t(3,u="+")},p=()=>{r("taskDone",n)},h=()=>{r("taskDelete",n)};return l.$$set=d=>{"id"in d&&t(8,n=d.id),"title"in d&&t(0,o=d.title),"content"in d&&t(1,i=d.content),"done"in d&&t(2,s=d.done)},[o,i,s,u,a,c,p,h,n]}class _n extends F{constructor(e){super(),O(this,e,pn,dn,N,{id:8,title:0,content:1,done:2})}}function Je(l,e,t){const n=l.slice();return n[7]=e[t],n}function Re(l){let e;return{c(){e=b("h5"),e.textContent="Click the + button below to add your first todo!",V(e,"text-align","center")},m(t,n){M(t,e,n)},p:W,d(t){t&&S(e)}}}function Ye(l){let e,t;return e=new _n({props:{title:l[7].title,content:l[7].content,done:l[7].done,id:l[7].id}}),e.$on("taskDone",l[3]),e.$on("taskDelete",l[4]),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.title=n[7].title),o&1&&(i.content=n[7].content),o&1&&(i.done=n[7].done),o&1&&(i.id=n[7].id),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ke(l){let e,t;return e=new fn({}),e.$on("addTodoItem",l[2]),e.$on("closeModal",l[6]),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p:W,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mn(l){let e,t,n,o,i,s,r,u,a,c,p,h=l[0],d=[];for(let w=0;w<h.length;w+=1)d[w]=Ye(Je(l,h,w));const _=w=>T(d[w],1,1,()=>{d[w]=null});let v=null;h.length||(v=Re());let y=l[1]&&Ke(l);return{c(){e=b("div"),t=b("h2"),t.textContent="Your Todos",n=$(),o=b("br"),i=$();for(let w=0;w<d.length;w+=1)d[w].c();v&&v.c(),s=$(),r=b("button"),r.textContent="+",u=$(),y&&y.c(),f(r,"class","add-todo-btn svelte-sr8q5g"),f(e,"class","window-container svelte-sr8q5g")},m(w,g){M(w,e,g),m(e,t),m(e,n),m(e,o),m(e,i);for(let k=0;k<d.length;k+=1)d[k].m(e,null);v&&v.m(e,null),m(e,s),m(e,r),m(e,u),y&&y.m(e,null),a=!0,c||(p=E(r,"click",l[5]),c=!0)},p(w,[g]){if(g&25){h=w[0];let k;for(k=0;k<h.length;k+=1){const L=Je(w,h,k);d[k]?(d[k].p(L,g),C(d[k],1)):(d[k]=Ye(L),d[k].c(),C(d[k],1),d[k].m(e,s))}for(Z(),k=h.length;k<d.length;k+=1)_(k);Q(),!h.length&&v?v.p(w,g):h.length?v&&(v.d(1),v=null):(v=Re(),v.c(),v.m(e,s))}w[1]?y?(y.p(w,g),g&2&&C(y,1)):(y=Ke(w),y.c(),C(y,1),y.m(e,null)):y&&(Z(),T(y,1,1,()=>{y=null}),Q())},i(w){if(!a){for(let g=0;g<h.length;g+=1)C(d[g]);C(y),a=!0}},o(w){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)T(d[g]);T(y),a=!1},d(w){w&&S(e),fe(d,w),v&&v.d(),y&&y.d(),c=!1,p()}}}function hn(l,e,t){let n=[],o=!1;return[n,o,c=>{t(1,o=!1);let{title:p,content:h}=c.detail;h=h.replaceAll(`
`,"<br>");let d=Math.floor(Math.random()*1e3);n.push({id:d,title:p,content:h,done:!1}),t(0,n),localStorage.setItem("todos",n.toString())},c=>{let p=c.detail;for(let h of n)h.id==p&&(h.done=!0);t(0,n)},c=>{let p=c.detail;n.forEach((h,d)=>{h.id==p&&n.splice(d,1)}),t(0,n)},()=>{t(1,o=!o)},()=>t(1,o=!1)]}class gn extends F{constructor(e){super(),O(this,e,hn,mn,N,{})}}function bn(l){let e;return{c(){e=b("div"),e.innerHTML=`<div class="content-container svelte-scqifq"><h1 class="svelte-scqifq">Welcome to Nexion!</h1> 

        <p style="text-align: center; color: #ddd">Nexion is an online desktop inspired by <a href="https://www.gnome.org/" class="svelte-scqifq">GNOME</a>.</p> 
        <br/> 
        <h2 class="svelte-scqifq">Before you start</h2> 
        <ul style="list-style-type:square"><li>Enter fullscreen mode</li> 
            <li>Zoom out intil this welcome window is completely visible.</li></ul> 

        <h2 class="svelte-scqifq">My aim</h2> 
        <p>To create a beautiful extensible portable online desktop that looks consistent wherever you go.</p> 
        <p>Contributions are welcome. Refer the README for more details</p> 

        <footer class="svelte-scqifq"><a href="https://github.com/OrangeFalcon14/Nexion" class="svelte-scqifq">\uEA84 GitHub</a></footer></div>`,f(e,"class","window-container svelte-scqifq")},m(t,n){M(t,e,n)},p:W,i:W,o:W,d(t){t&&S(e)}}}class wn extends F{constructor(e){super(),O(this,e,null,bn,N,{})}}function vn(l){let e,t;return e=new wn({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kn(l){let e,t;return e=new gn({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yn(l){let e,t;return e=new cn({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $n(l){let e,t;return e=new sn({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Cn(l){let e,t;return e=new nn({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sn(l){let e,t;return e=new Ut({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mn(l){let e,t;return e=new Lt({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Tn(l){let e,t;return e=new Nt({}),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function An(l){let e,t,n,o,i,s,r,u,a,c,p,h,d,_,v,y,w;const g=[Tn,Mn,Sn,Cn,$n,yn,kn,vn],k=[];function L(q,A){return q[0]==="Files"?0:q[0]==="Alacritty"?1:q[0]==="Settings"?2:q[0]==="Text Editor"?3:q[0]==="Camera"?4:q[0]==="Asteroids"?5:q[0]==="Todo"?6:q[0]==="Welcome"?7:-1}return~(d=L(l))&&(_=k[d]=g[d](l)),{c(){e=b("div"),t=b("div"),n=b("button"),o=$(),i=b("button"),s=$(),r=b("button"),u=$(),a=b("div"),c=U(l[0]),h=$(),_&&_.c(),f(n,"class","titlebar-btn close-btn svelte-4x6te9"),f(i,"class","titlebar-btn maximize-btn svelte-4x6te9"),f(r,"class","titlebar-btn minimize-btn svelte-4x6te9"),f(a,"class","window-title svelte-4x6te9"),f(t,"class","window-titlebar svelte-4x6te9"),f(t,"id",p=`${l[1]}titlebar`),f(e,"id",l[1]),f(e,"class","window svelte-4x6te9"),V(e,"top",l[8]),V(e,"left",l[7]),V(e,"height",l[6]),V(e,"width",l[5]),J(e,"focused",l[2])},m(q,A){M(q,e,A),m(e,t),m(t,n),m(t,o),m(t,i),m(t,s),m(t,r),m(t,u),m(t,a),m(a,c),m(e,h),~d&&k[d].m(e,null),v=!0,y||(w=[E(n,"click",l[13]),E(i,"click",l[14]),E(r,"click",l[15]),E(t,"mousedown",l[16]),E(e,"mousedown",l[17])],y=!0)},p(q,[A]){(!v||A&1)&&G(c,q[0]),(!v||A&2&&p!==(p=`${q[1]}titlebar`))&&f(t,"id",p);let H=d;d=L(q),d!==H&&(_&&(Z(),T(k[H],1,1,()=>{k[H]=null}),Q()),~d?(_=k[d],_||(_=k[d]=g[d](q),_.c()),C(_,1),_.m(e,null)):_=null),(!v||A&2)&&f(e,"id",q[1]),(!v||A&256)&&V(e,"top",q[8]),(!v||A&128)&&V(e,"left",q[7]),(!v||A&64)&&V(e,"height",q[6]),(!v||A&32)&&V(e,"width",q[5]),(!v||A&4)&&J(e,"focused",q[2])},i(q){v||(C(_),v=!0)},o(q){T(_),v=!1},d(q){q&&S(e),~d&&k[d].d(),y=!1,Y(w)}}}function qn(l,e,t){let n,o,i,s,r=te(),{app:u}=e,{number:a}=e,{focused:c}=e,{initalTop:p}=e,{initalLeft:h}=e;re("window_id",a);let d=!1,_=!0;var v=0,y=0,w=0,g=0;let k;function L(D){k=document.getElementById(a),r("focusWindow",{number:a,app:u}),D=D,w=D.clientX,g=D.clientY,document.onmouseup=A,document.onmousemove=q}function q(D){D=D,D.preventDefault(),v=w-D.clientX,y=g-D.clientY,w=D.clientX,g=D.clientY,k.style.top=k.offsetTop-y+"px",k.style.left=k.offsetLeft-v+"px"}function A(){document.onmouseup=null,document.onmousemove=null,r("windowMoved",{number:a,top:k.style.top,left:k.style.left})}const H=()=>r("closeWindow",{app:u,number:a}),z=()=>{t(4,_=!1),t(3,d=!0)},X=()=>{t(3,d=!1),t(4,_=!0)},de=D=>L(D),pe=()=>r("focusWindow",{number:a,app:u});return l.$$set=D=>{"app"in D&&t(0,u=D.app),"number"in D&&t(1,a=D.number),"focused"in D&&t(2,c=D.focused),"initalTop"in D&&t(11,p=D.initalTop),"initalLeft"in D&&t(12,h=D.initalLeft)},l.$$.update=()=>{l.$$.dirty&2056&&t(8,n=d?"22px":p),l.$$.dirty&4104&&t(7,o=d?"0px":h),l.$$.dirty&8&&t(6,i=d?"calc(100% - 62px)":"750px"),l.$$.dirty&8&&t(5,s=d?"100%":"1000px")},[u,a,c,d,_,s,i,o,n,r,L,p,h,H,z,X,de,pe]}class Wn extends F{constructor(e){super(),O(this,e,qn,An,N,{app:0,number:1,focused:2,initalTop:11,initalLeft:12})}}function En(l){let e,t;return{c(){e=b("img"),oe(e.src,t="/Nexion/src/assets/icons/apps/asteroids.png")||f(e,"src",t),f(e,"alt",l[0]),V(e,"width","64px"),V(e,"height","54px"),V(e,"margin-bottom","10px")},m(n,o){M(n,e,o)},p(n,o){o&1&&f(e,"alt",n[0])},d(n){n&&S(e)}}}function Dn(l){let e,t;return{c(){e=b("img"),oe(e.src,t="/Nexion/src/assets/icons/apps/"+l[0].toLowerCase()+".svg")||f(e,"src",t),f(e,"alt",l[0]),V(e,"height","64px")},m(n,o){M(n,e,o)},p(n,o){o&1&&!oe(e.src,t="/Nexion/src/assets/icons/apps/"+n[0].toLowerCase()+".svg")&&f(e,"src",t),o&1&&f(e,"alt",n[0])},d(n){n&&S(e)}}}function Ln(l){let e,t,n,o,i,s;function r(c,p){return c[0]!="Asteroids"?Dn:En}let u=r(l),a=u(l);return{c(){e=b("div"),a.c(),t=$(),n=b("br"),o=U(l[0]),f(e,"class","applications-menu-app svelte-2kdast"),f(e,"title",l[0])},m(c,p){M(c,e,p),a.m(e,null),m(e,t),m(e,n),m(e,o),i||(s=E(e,"click",l[2]),i=!0)},p(c,[p]){u===(u=r(c))&&a?a.p(c,p):(a.d(1),a=u(c),a&&(a.c(),a.m(e,t))),p&1&&G(o,c[0]),p&1&&f(e,"title",c[0])},i:W,o:W,d(c){c&&S(e),a.d(),i=!1,s()}}}function Bn(l,e,t){const n=te();let{app:o}=e;const i=()=>{n("newWindow",{app:o,focused:!0})};return l.$$set=s=>{"app"in s&&t(0,o=s.app)},[o,n,i]}class In extends F{constructor(e){super(),O(this,e,Bn,Ln,N,{app:0})}}function jn(l){let e,t,n;return{c(){e=b("input"),f(e,"type","text"),f(e,"id","applications-menu-search"),f(e,"placeholder","Search..."),f(e,"class","svelte-nrj43d")},m(o,i){M(o,e,i),P(e,l[0]),t||(n=[E(e,"input",l[3]),E(e,"keyup",l[1])],t=!0)},p(o,[i]){i&1&&e.value!==o[0]&&P(e,o[0])},i:W,o:W,d(o){o&&S(e),t=!1,Y(n)}}}function zn(l,e){return l.indexOf(e)!=-1}function Nn(l,e,t){let n,{apps_list:o}=e;const i=te();let s="";function r(a){if(a.key=="Escape"){i("closeApplicationMenu");return}n==""&&i("showApps",o);let c=[];for(let p of o)zn(p.toLowerCase(),n)&&c.push(p);i("showApps",c)}function u(){s=this.value,t(0,s)}return l.$$set=a=>{"apps_list"in a&&t(2,o=a.apps_list)},l.$$.update=()=>{l.$$.dirty&1&&(n=s.trim().toLocaleLowerCase())},[s,r,o,u]}class On extends F{constructor(e){super(),O(this,e,Nn,jn,N,{apps_list:2})}}function Xe(l,e,t){const n=l.slice();return n[5]=e[t],n}function Ge(l){let e,t;return e=new In({props:{app:l[5]}}),e.$on("newWindow",l[4]),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.app=n[5]),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Fn(l){let e,t,n,o,i,s,r,u;t=new On({props:{apps_list:l[1]}}),t.$on("closeApplicationMenu",l[3]),t.$on("showApps",l[2]);let a=l[0],c=[];for(let h=0;h<a.length;h+=1)c[h]=Ge(Xe(l,a,h));const p=h=>T(c[h],1,1,()=>{c[h]=null});return{c(){e=b("div"),j(t.$$.fragment),n=$(),o=b("br"),i=b("br"),s=$(),r=b("div");for(let h=0;h<c.length;h+=1)c[h].c();f(r,"id","apps-container"),f(r,"class","svelte-1meoz1g"),f(e,"id","applications-menu"),f(e,"class","svelte-1meoz1g")},m(h,d){M(h,e,d),B(t,e,null),m(e,n),m(e,o),m(e,i),m(e,s),m(e,r);for(let _=0;_<c.length;_+=1)c[_].m(r,null);u=!0},p(h,[d]){if(d&1){a=h[0];let _;for(_=0;_<a.length;_+=1){const v=Xe(h,a,_);c[_]?(c[_].p(v,d),C(c[_],1)):(c[_]=Ge(v),c[_].c(),C(c[_],1),c[_].m(r,null))}for(Z(),_=a.length;_<c.length;_+=1)p(_);Q()}},i(h){if(!u){C(t.$$.fragment,h);for(let d=0;d<a.length;d+=1)C(c[d]);u=!0}},o(h){T(t.$$.fragment,h),c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)T(c[d]);u=!1},d(h){h&&S(e),I(t),fe(c,h)}}}function Hn(l,e,t){let n=le("apps_list"),o=JSON.parse(JSON.stringify(n));function i(u){t(0,o=u.detail)}Ae(()=>{document.getElementById("applications-menu-search").focus()});function s(u){be.call(this,l,u)}function r(u){be.call(this,l,u)}return[o,n,i,s,r]}class Pn extends F{constructor(e){super(),O(this,e,Hn,Fn,N,{})}}function Ze(l){let e,t;return e=new Pn({}),e.$on("closeApplicationMenu",l[4]),e.$on("newWindow",l[5]),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p:W,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vn(l){let e,t,n,o,i,s,r,u,a,c,p,h,d=l[0]&&Ze(l);return{c(){e=b("div"),t=b("span"),t.textContent="Applications",n=$(),o=b("span"),i=U(l[1]),s=$(),r=b("span"),r.textContent="\uF1EB \uF028 \uF240",u=$(),d&&d.c(),a=Te(),f(t,"id","applications-menu-launcher"),f(t,"class","svelte-1r8fkfh"),f(o,"id","date-time"),f(o,"class","svelte-1r8fkfh"),f(r,"id","sys-tray"),f(r,"class","svelte-1r8fkfh"),f(e,"id","topbar"),f(e,"class","svelte-1r8fkfh")},m(_,v){M(_,e,v),m(e,t),m(e,n),m(e,o),m(o,i),m(e,s),m(e,r),M(_,u,v),d&&d.m(_,v),M(_,a,v),c=!0,p||(h=E(t,"click",l[3]),p=!0)},p(_,[v]){(!c||v&2)&&G(i,_[1]),_[0]?d?(d.p(_,v),v&1&&C(d,1)):(d=Ze(_),d.c(),C(d,1),d.m(a.parentNode,a)):d&&(Z(),T(d,1,1,()=>{d=null}),Q())},i(_){c||(C(d),c=!0)},o(_){T(d),c=!1},d(_){_&&S(e),_&&S(u),d&&d.d(_),_&&S(a),p=!1,h()}}}function Un(l,e,t){let n=te(),o;const i=["January","February","March","April","May","June","July","August","September","October","November","December"];function s(){const p=new Date;let h=p.getHours(),d=p.getSeconds()<10?`0${p.getSeconds()}`:p.getSeconds(),_=p.getMinutes()<10?`0${p.getMinutes()}`:p.getMinutes();p.getHours()<12;let v=p.getDay(),y;switch(v){case 0:y="Sun";break;case 1:y="Mon";break;case 2:y="Tue";break;case 3:y="Wed";break;case 4:y="Thu";break;case 5:y="Fri";break;case 6:y="Sat";break}t(1,o=`${y} ${i[p.getMonth()].slice(0,3)} ${p.getDate()} ${h}:${_}:${d}`)}s(),setInterval(s,1e3);let{applications_menu_show:r=!1}=e;console.log(r);const u=()=>{t(0,r=!r)},a=()=>{t(0,r=!1)},c=p=>{t(0,r=!1),n("newWindow",p.detail)};return l.$$set=p=>{"applications_menu_show"in p&&t(0,r=p.applications_menu_show)},[r,o,n,u,a,c]}class Jn extends F{constructor(e){super(),O(this,e,Un,Vn,N,{applications_menu_show:0})}}function Qe(l,e,t){const n=l.slice();return n[14]=e[t],n}function xe(l){let e,t;return e=new Wn({props:{app:l[14].app,number:l[14].number,focused:l[14].focused,initalTop:l[14].top,initalLeft:l[14].left}}),e.$on("focusWindow",l[5]),e.$on("closeWindow",l[4]),e.$on("windowMoved",l[6]),{c(){j(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p(n,o){const i={};o&2&&(i.app=n[14].app),o&2&&(i.number=n[14].number),o&2&&(i.focused=n[14].focused),o&2&&(i.initalTop=n[14].top),o&2&&(i.initalLeft=n[14].left),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Rn(l){let e,t,n,o,i,s;t=new Jn({props:{applications_menu_show:l[2]}}),t.$on("newWindow",l[3]),o=new Wt({props:{apps_list:l[0]}}),o.$on("newWindow",l[3]);let r=l[1],u=[];for(let c=0;c<r.length;c+=1)u[c]=xe(Qe(l,r,c));const a=c=>T(u[c],1,1,()=>{u[c]=null});return{c(){e=b("div"),j(t.$$.fragment),n=$(),j(o.$$.fragment),i=$();for(let c=0;c<u.length;c+=1)u[c].c();f(e,"id","container")},m(c,p){M(c,e,p),B(t,e,null),m(e,n),B(o,e,null),m(e,i);for(let h=0;h<u.length;h+=1)u[h].m(e,null);s=!0},p(c,[p]){const h={};p&4&&(h.applications_menu_show=c[2]),t.$set(h);const d={};if(p&1&&(d.apps_list=c[0]),o.$set(d),p&114){r=c[1];let _;for(_=0;_<r.length;_+=1){const v=Qe(c,r,_);u[_]?(u[_].p(v,p),C(u[_],1)):(u[_]=xe(v),u[_].c(),C(u[_],1),u[_].m(e,null))}for(Z(),_=r.length;_<u.length;_+=1)a(_);Q()}},i(c){if(!s){C(t.$$.fragment,c),C(o.$$.fragment,c);for(let p=0;p<r.length;p+=1)C(u[p]);s=!0}},o(c){T(t.$$.fragment,c),T(o.$$.fragment,c),u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)T(u[p]);s=!1},d(c){c&&S(e),I(t),I(o),fe(u,c)}}}function Yn(l,e,t){re("apps_list",["Files","Firefox","Asteroids","Alacritty","Camera","Pycharm Community Edition","Settings","Text Editor","Todo","Visual Studio Code"]);let o=[{name:"Files",running:!1,focused:!1},{name:"Firefox",running:!1,focused:!1},{name:"Alacritty",running:!1,focused:!1},{name:"Pycharm Community Edition",running:!1,focused:!1},{name:"Visual Studio Code",running:!1,focused:!1}],i=[],s=[],r=!1;function u(w){t(2,r=!1);let g=w.detail;for(;;){if(g.number=Math.floor(Math.random()*1e3),i.length==0){i=[...i,g.number];break}if(i.indexOf(g.number)==-1)break}g.top="100px",g.left="100px",t(1,s=[...s,g]),c({detail:{number:g.number,app:g.app}});let k=!1;o.forEach(L=>{L.name===g.app&&(L.running=!0,k=!0)}),!k&&g.app!=="Welcome"&&o.push({name:g.app,running:!0,focused:!0}),t(0,o)}function a(w){for(var g=0;g<s.length;g++)s[g].number===w.detail.number&&(s.splice(g,1),t(1,s));o.forEach(k=>{if(k.name===w.detail.app){let L=!1;for(let q of s)q.app===w.detail.app&&(L=!0);L||(k.running=!1,k.focused=!1)}}),t(0,o)}function c(w){let g=w.detail.number;for(let k of s)k.focused=!1;for(let k of s)k.number==g&&(k.focused=!0);t(1,s);for(let k of o)k.name==w.detail.app?k.focused=!0:k.focused=!1;t(0,o)}function p(w){for(const g of s)if(g.number==w)return g}function h(w){let g=w.detail.top,k=w.detail.left,L=p(w.detail.number);L.top=g,L.left=k}const d=document.querySelector(":root");function _(w,g){d.style.setProperty(w,g)}function v(w){getComputedStyle(d).getPropertyValue(w)}re("setCSSVar",_),re("getCSSVar",v);let y=JSON.parse(localStorage.getItem("colorConfig"))||void 0;return y&&(_("--color1",y["--color1"]),_("--color2",y["--color2"]),_("--color3",y["--color3"]),_("--accent-color",y["--accent-color"]),_("--blur",y["--blur"]+"px")),re("colorConfig",y),Ae(()=>{u({detail:{app:"Welcome",focused:!0}})}),[o,s,r,u,a,c,h]}class Kn extends F{constructor(e){super(),O(this,e,Yn,Rn,N,{})}}new Kn({target:document.getElementById("app")});
