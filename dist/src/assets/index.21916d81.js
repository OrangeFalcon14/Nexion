(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function A(){}function Je(l,e){for(const n in e)l[n]=e[n];return l}function Oe(l){return l()}function ve(){return Object.create(null)}function Y(l){l.forEach(Oe)}function je(l){return typeof l=="function"}function z(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let ie;function x(l,e){return ie||(ie=document.createElement("a")),ie.href=e,l===ie.href}function Ke(l){return Object.keys(l).length===0}function Ve(l,e,n,t){if(l){const o=He(l,e,n,t);return l[0](o)}}function He(l,e,n,t){return l[1]&&t?Je(n.ctx.slice(),l[1](t(e))):n.ctx}function Xe(l,e,n,t){if(l[2]&&t){const o=l[2](t(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],i=Math.max(e.dirty.length,o.length);for(let r=0;r<i;r+=1)s[r]=e.dirty[r]|o[r];return s}return e.dirty|o}return e.dirty}function Ge(l,e,n,t,o,s){if(o){const i=He(e,n,t,s);l.p(i,o)}}function Ze(l){if(l.ctx.length>32){const e=[],n=l.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function Qe(l){return l==null?"":l}function h(l,e){l.appendChild(e)}function M(l,e,n){l.insertBefore(e,n||null)}function T(l){l.parentNode.removeChild(l)}function oe(l,e){for(let n=0;n<l.length;n+=1)l[n]&&l[n].d(e)}function w(l){return document.createElement(l)}function P(l){return document.createTextNode(l)}function q(){return P(" ")}function ge(){return P("")}function D(l,e,n,t){return l.addEventListener(e,n,t),()=>l.removeEventListener(e,n,t)}function _(l,e,n){n==null?l.removeAttribute(e):l.getAttribute(e)!==n&&l.setAttribute(e,n)}function xe(l){return Array.from(l.childNodes)}function J(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function X(l,e){l.value=e==null?"":e}function H(l,e,n,t){n===null?l.style.removeProperty(e):l.style.setProperty(e,n,t?"important":"")}function ke(l,e){for(let n=0;n<l.options.length;n+=1){const t=l.options[n];if(t.__value===e){t.selected=!0;return}}l.selectedIndex=-1}function et(l){const e=l.querySelector(":checked")||l.options[0];return e&&e.__value}function R(l,e,n){l.classList[n?"add":"remove"](e)}function tt(l,e,{bubbles:n=!1,cancelable:t=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(l,n,t,e),o}let le;function ne(l){le=l}function fe(){if(!le)throw new Error("Function called outside component initialization");return le}function we(l){fe().$$.on_mount.push(l)}function G(){const l=fe();return(e,n,{cancelable:t=!1}={})=>{const o=l.$$.callbacks[e];if(o){const s=tt(e,n,{cancelable:t});return o.slice().forEach(i=>{i.call(l,s)}),!s.defaultPrevented}return!0}}function Pe(l,e){return fe().$$.context.set(l,e),e}function be(l){return fe().$$.context.get(l)}function ue(l,e){const n=l.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const te=[],_e=[],re=[],me=[],nt=Promise.resolve();let he=!1;function lt(){he||(he=!0,nt.then(Ue))}function ae(l){re.push(l)}function ot(l){me.push(l)}const de=new Set;let se=0;function Ue(){const l=le;do{for(;se<te.length;){const e=te[se];se++,ne(e),it(e.$$)}for(ne(null),te.length=0,se=0;_e.length;)_e.pop()();for(let e=0;e<re.length;e+=1){const n=re[e];de.has(n)||(de.add(n),n())}re.length=0}while(te.length);for(;me.length;)me.pop()();he=!1,de.clear(),ne(l)}function it(l){if(l.fragment!==null){l.update(),Y(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(ae)}}const ce=new Set;let Z;function K(){Z={r:0,c:[],p:Z}}function V(){Z.r||Y(Z.c),Z=Z.p}function $(l,e){l&&l.i&&(ce.delete(l),l.i(e))}function C(l,e,n,t){if(l&&l.o){if(ce.has(l))return;ce.add(l),Z.c.push(()=>{ce.delete(l),t&&(n&&l.d(1),t())}),l.o(e)}else t&&t()}function st(l,e){l.d(1),e.delete(l.key)}function rt(l,e,n,t,o,s,i,r,c,u,a,p){let m=l.length,f=s.length,d=m;const g={};for(;d--;)g[l[d].key]=d;const k=[],b=new Map,v=new Map;for(d=f;d--;){const E=p(o,s,d),O=n(E);let U=i.get(O);U?t&&U.p(E,e):(U=u(O,E),U.c()),b.set(O,k[d]=U),O in g&&v.set(O,Math.abs(d-g[O]))}const y=new Set,j=new Set;function W(E){$(E,1),E.m(r,a),i.set(E.key,E),a=E.first,f--}for(;m&&f;){const E=k[f-1],O=l[m-1],U=E.key,Q=O.key;E===O?(a=E.first,m--,f--):b.has(Q)?!i.has(U)||y.has(U)?W(E):j.has(Q)?m--:v.get(U)>v.get(Q)?(j.add(U),W(E)):(y.add(Q),m--):(c(O,i),m--)}for(;m--;){const E=l[m];b.has(E.key)||c(E,i)}for(;f;)W(k[f-1]);return k}function ct(l,e,n){const t=l.$$.props[e];t!==void 0&&(l.$$.bound[t]=n,n(l.$$.ctx[t]))}function I(l){l&&l.c()}function L(l,e,n,t){const{fragment:o,after_update:s}=l.$$;o&&o.m(e,n),t||ae(()=>{const i=l.$$.on_mount.map(Oe).filter(je);l.$$.on_destroy?l.$$.on_destroy.push(...i):Y(i),l.$$.on_mount=[]}),s.forEach(ae)}function B(l,e){const n=l.$$;n.fragment!==null&&(Y(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ut(l,e){l.$$.dirty[0]===-1&&(te.push(l),lt(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function F(l,e,n,t,o,s,i,r=[-1]){const c=le;ne(l);const u=l.$$={fragment:null,ctx:[],props:s,update:A,not_equal:o,bound:ve(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ve(),dirty:r,skip_bound:!1,root:e.target||c.$$.root};i&&i(u.root);let a=!1;if(u.ctx=n?n(l,e.props||{},(p,m,...f)=>{const d=f.length?f[0]:m;return u.ctx&&o(u.ctx[p],u.ctx[p]=d)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](d),a&&ut(l,p)),m}):[],u.update(),a=!0,Y(u.before_update),u.fragment=t?t(u.ctx):!1,e.target){if(e.hydrate){const p=xe(e.target);u.fragment&&u.fragment.l(p),p.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&$(l.$$.fragment),L(l,e.target,e.anchor,e.customElement),Ue()}ne(c)}class N{$destroy(){B(this,1),this.$destroy=A}$on(e,n){if(!je(n))return A;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const o=t.indexOf(n);o!==-1&&t.splice(o,1)}}$set(e){this.$$set&&!Ke(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function at(l){let e,n;return{c(){e=w("img"),x(e.src,n="/Nexion/src/assets/icons/apps/asteroids.png")||_(e,"src",n),_(e,"alt",l[1]),_(e,"class","dock-item-icon svelte-19cqtqb")},m(t,o){M(t,e,o)},p(t,o){o&2&&_(e,"alt",t[1])},d(t){t&&T(e)}}}function ft(l){let e,n;return{c(){e=w("img"),x(e.src,n=`/Nexion/src/assets/icons/apps/${l[1].toLowerCase()}.svg`)||_(e,"src",n),_(e,"alt",l[1]),_(e,"class","dock-item-icon svelte-19cqtqb")},m(t,o){M(t,e,o)},p(t,o){o&2&&!x(e.src,n=`/Nexion/src/assets/icons/apps/${t[1].toLowerCase()}.svg`)&&_(e,"src",n),o&2&&_(e,"alt",t[1])},d(t){t&&T(e)}}}function dt(l){let e,n,t,o,s;function i(u,a){return u[1]!="Asteroids"?ft:at}let r=i(l),c=r(l);return{c(){e=w("span"),c.c(),n=q(),t=w("span"),_(t,"class","running-indicator svelte-19cqtqb"),R(t,"hide",!l[0]),_(e,"class","dock-item svelte-19cqtqb"),R(e,"focused",l[2])},m(u,a){M(u,e,a),c.m(e,null),h(e,n),h(e,t),o||(s=D(e,"click",l[4]),o=!0)},p(u,[a]){r===(r=i(u))&&c?c.p(u,a):(c.d(1),c=r(u),c&&(c.c(),c.m(e,n))),a&1&&R(t,"hide",!u[0]),a&4&&R(e,"focused",u[2])},i:A,o:A,d(u){u&&T(e),c.d(),o=!1,s()}}}function pt(l,e,n){let t=G(),{running:o}=e,{app:s}=e,{focused:i}=e;const r=()=>{t("newWindow",{app:s,focused:!0})};return l.$$set=c=>{"running"in c&&n(0,o=c.running),"app"in c&&n(1,s=c.app),"focused"in c&&n(2,i=c.focused)},[o,s,i,t,r]}class _t extends N{constructor(e){super(),F(this,e,pt,dt,z,{running:0,app:1,focused:2})}}function ye(l,e,n){const t=l.slice();return t[3]=e[n],t}function $e(l){let e,n;return e=new _t({props:{app:l[3].name,running:l[3].running,focused:l[3].focused}}),e.$on("newWindow",l[2]),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},p(t,o){const s={};o&1&&(s.app=t[3].name),o&1&&(s.running=t[3].running),o&1&&(s.focused=t[3].focused),e.$set(s)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function mt(l){let e,n,t=l[0],o=[];for(let i=0;i<t.length;i+=1)o[i]=$e(ye(l,t,i));const s=i=>C(o[i],1,1,()=>{o[i]=null});return{c(){e=w("div");for(let i=0;i<o.length;i+=1)o[i].c();_(e,"id","dock"),_(e,"class",Qe(l[1])+" svelte-1pcb8k2")},m(i,r){M(i,e,r);for(let c=0;c<o.length;c+=1)o[c].m(e,null);n=!0},p(i,[r]){if(r&1){t=i[0];let c;for(c=0;c<t.length;c+=1){const u=ye(i,t,c);o[c]?(o[c].p(u,r),$(o[c],1)):(o[c]=$e(u),o[c].c(),$(o[c],1),o[c].m(e,null))}for(K(),c=t.length;c<o.length;c+=1)s(c);V()}},i(i){if(!n){for(let r=0;r<t.length;r+=1)$(o[r]);n=!0}},o(i){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)C(o[r]);n=!1},d(i){i&&T(e),oe(o,i)}}}function ht(l,e,n){let t=localStorage.getItem("dockStyle")||"panel-dock",{apps_list:o}=e;function s(i){ue.call(this,l,i)}return l.$$set=i=>{"apps_list"in i&&n(0,o=i.apps_list)},[o,t,s]}class gt extends N{constructor(e){super(),F(this,e,ht,mt,z,{apps_list:0})}}function Te(l,e,n){const t=l.slice();return t[3]=e[n],t}function Me(l,e){let n,t=e[3].output+"",o,s,i,r,c,u,a,p;function m(...f){return e[2](e[3],...f)}return{key:l,first:null,c(){n=w("div"),s=q(),i=w("input"),_(n,"id",o="output"+e[3].id),_(n,"class","shell-output svelte-186f04z"),_(i,"id",r="prompt"+e[3].id),i.disabled=c=e[3].disabled,i.value=u=e[3].text,_(i,"type","text"),_(i,"class","shell-prompt svelte-186f04z"),this.first=n},m(f,d){M(f,n,d),n.innerHTML=t,M(f,s,d),M(f,i,d),a||(p=D(i,"keyup",m),a=!0)},p(f,d){e=f,d&1&&t!==(t=e[3].output+"")&&(n.innerHTML=t),d&1&&o!==(o="output"+e[3].id)&&_(n,"id",o),d&1&&r!==(r="prompt"+e[3].id)&&_(i,"id",r),d&1&&c!==(c=e[3].disabled)&&(i.disabled=c),d&1&&u!==(u=e[3].text)&&i.value!==u&&(i.value=u)},d(f){f&&T(n),f&&T(s),f&&T(i),a=!1,p()}}}function wt(l){let e,n=[],t=new Map,o=l[0];const s=i=>i[3].id;for(let i=0;i<o.length;i+=1){let r=Te(l,o,i),c=s(r);t.set(c,n[i]=Me(c,r))}return{c(){e=w("div");for(let i=0;i<n.length;i+=1)n[i].c();_(e,"class","window-container svelte-186f04z")},m(i,r){M(i,e,r);for(let c=0;c<n.length;c+=1)n[c].m(e,null)},p(i,[r]){r&3&&(o=i[0],n=rt(n,r,s,1,i,o,t,e,st,Me,null,Te))},i:A,o:A,d(i){i&&T(e);for(let r=0;r<n.length;r+=1)n[r].d()}}}let ee="~ $ ";function bt(l,e,n){let t=[{id:0,text:ee,disabled:!1,output:""}];function o(i,r){if(i.key=="Enter"){let c="",u=i.target.value.trim();u===`${ee}sudo rm -rf /`?c="rm: it is dangerous to operate recursively on '/'<br>rm: use --no-preserve-root to override this failsafe":u===`${ee}sudo rm -rf / --no-preserve-root`?document.body.innerHTML="":u===`${ee}ls`&&(c='<pre><span style="color:#9B6BDF; font-weight: bold;">Desktop</span>   <span style="color:#9B6BDF; font-weight: bold;">Downloads</span>   <span style="color:#9B6BDF; font-weight: bold;">Music</span>   <span style="color:#9B6BDF; font-weight: bold;">Pictures</span>   <span style="color:#9B6BDF; font-weight: bold;">Templates</span>   <span style="color:#9B6BDF; font-weight: bold;">Documents</span>   <span style="color:#9B6BDF; font-weight: bold;">Public</span>   <span style="color:#9B6BDF; font-weight: bold;">Videos</span></pre>');let a={id:t.length,text:ee,disabled:!1,output:c};t.at(-1).disabled=!0,t.push(a),n(0,t),setTimeout(()=>{document.getElementById("prompt"+a.id).focus()},20)}else i.key==="ArrowUp"&&(i.preventDefault(),t.length!=1&&(n(0,t[r].text=document.getElementById("prompt"+(r-1)).value,t),console.log(t[r].text),n(0,t)))}return[t,o,(i,r)=>o(r,i.id)]}class vt extends N{constructor(e){super(),F(this,e,bt,wt,z,{})}}function kt(l,e,n){const t=l.slice();return t[1]=e[n],t}function yt(l){let e;return{c(){e=w("span"),_(e,"class","folder-icon svelte-kgqlpk")},m(n,t){M(n,e,t)},p:A,d(n){n&&T(e)}}}function $t(l){let e,n,t,o,s=l[0],i=[];for(let r=0;r<s.length;r+=1)i[r]=yt(kt(l,s,r));return{c(){e=w("div"),n=w("div"),n.innerHTML=`<div class="files-sidebar-link svelte-kgqlpk">\uF7DB Home <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF6C3 Desktop <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF718 Documents <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF6D9 Downloads <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF1C5 Pictures <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uFA66 Videos <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF014 Trash <br/></div>`,t=q(),o=w("div");for(let r=0;r<i.length;r+=1)i[r].c();_(n,"class","sidebar svelte-kgqlpk"),_(o,"class","main-content svelte-kgqlpk"),_(e,"class","window-container svelte-kgqlpk")},m(r,c){M(r,e,c),h(e,n),h(e,t),h(e,o);for(let u=0;u<i.length;u+=1)i[u].m(o,null)},p:A,i:A,o:A,d(r){r&&T(e),oe(i,r)}}}function Tt(l){return[Array(20).fill(0)]}class Mt extends N{constructor(e){super(),F(this,e,Tt,$t,z,{})}}function qt(l){let e,n,t,o,s,i,r;return{c(){e=w("label"),e.textContent="Dock Style",n=q(),t=w("select"),o=w("option"),o.textContent="Panel (Full width)",s=w("option"),s.textContent="Compact (MacOS style)",_(e,"for","dock-style-selector"),o.__value="panel-dock",o.value=o.__value,s.__value="compact-dock",s.value=s.__value,_(t,"name","dock-style-selector"),_(t,"id","dock-style-selector"),l[0]===void 0&&ae(()=>l[1].call(t))},m(c,u){M(c,e,u),M(c,n,u),M(c,t,u),h(t,o),h(t,s),ke(t,l[0]),i||(r=D(t,"change",l[1]),i=!0)},p(c,[u]){u&1&&ke(t,c[0])},i:A,o:A,d(c){c&&T(e),c&&T(n),c&&T(t),i=!1,r()}}}function Ct(l,e,n){let t=localStorage.getItem("dockStyle")||"panel-dock";function o(){t=et(this),n(0,t)}return l.$$.update=()=>{l.$$.dirty&1&&(console.log(t),document.querySelector("#dock").classList.remove(t=="compact-dock"?"panel-dock":"compact-dock"),document.querySelector("#dock").classList.add(t=="compact-dock"?"compact-dock":"panel-dock"),localStorage.setItem("dockStyle",t))},[t,o]}class At extends N{constructor(e){super(),F(this,e,Ct,qt,z,{})}}function qe(l){let e,n;return e=new At({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Et(l){let e,n,t,o,s,i,r,c,u=l[0]==="Customize"&&qe();return{c(){e=w("div"),n=w("div"),t=w("div"),t.textContent="\uF77B Customize",o=q(),s=w("div"),u&&u.c(),_(t,"class","sidebar-link svelte-1f94cxf"),_(n,"class","sidebar svelte-1f94cxf"),_(s,"class","main-content svelte-1f94cxf"),_(e,"class","window-container svelte-1f94cxf")},m(a,p){M(a,e,p),h(e,n),h(n,t),h(e,o),h(e,s),u&&u.m(s,null),i=!0,r||(c=D(t,"click",l[1]),r=!0)},p(a,[p]){a[0]==="Customize"?u?p&1&&$(u,1):(u=qe(),u.c(),$(u,1),u.m(s,null)):u&&(K(),C(u,1,1,()=>{u=null}),V())},i(a){i||($(u),i=!0)},o(a){C(u),i=!1},d(a){a&&T(e),u&&u.d(),r=!1,c()}}}function Wt(l,e,n){let t="Customize";return[t,()=>n(0,t="Customize")]}class Dt extends N{constructor(e){super(),F(this,e,Wt,Et,z,{})}}function St(l){let e,n,t,o,s,i;return{c(){e=w("input"),n=q(),t=w("label"),o=P(l[0]),_(e,"type","file"),_(e,"id",l[4]),H(e,"display","none"),_(t,"for",l[4]),_(t,"class","svelte-193v6ke")},m(r,c){M(r,e,c),M(r,n,c),M(r,t,c),h(t,o),s||(i=[D(e,"change",l[6]),D(e,"change",l[7])],s=!0)},p(r,c){c&1&&J(o,r[0])},d(r){r&&T(e),r&&T(n),r&&T(t),s=!1,Y(i)}}}function Lt(l){let e,n,t,o;return{c(){e=w("button"),n=P(l[0]),_(e,"title",l[1]),_(e,"class","svelte-193v6ke")},m(s,i){M(s,e,i),h(e,n),t||(o=D(e,"click",l[5]),t=!0)},p(s,i){i&1&&J(n,s[0]),i&2&&_(e,"title",s[1])},d(s){s&&T(e),t=!1,o()}}}function Bt(l){let e;function n(s,i){return s[1]!=="Open"?Lt:St}let t=n(l),o=t(l);return{c(){o.c(),e=ge()},m(s,i){o.m(s,i),M(s,e,i)},p(s,[i]){t===(t=n(s))&&o?o.p(s,i):(o.d(1),o=t(s),o&&(o.c(),o.m(e.parentNode,e)))},i:A,o:A,d(s){o.d(s),s&&T(e)}}}function It(l,e,n){let{text:t}=e,{title:o}=e;const s=G();let i;const r=be("window_id")+"file_input";function c(p){ue.call(this,l,p)}const u=()=>{n(2,i=document.getElementById(r).files),s("fileOpen",{files:i})};function a(){i=this.files,n(2,i)}return l.$$set=p=>{"text"in p&&n(0,t=p.text),"title"in p&&n(1,o=p.title)},[t,o,i,s,r,c,u,a]}class pe extends N{constructor(e){super(),F(this,e,It,Bt,z,{text:0,title:1})}}function Ce(l){let e,n,t,o,s,i,r;const c=l[2].default,u=Ve(c,l,l[1],null);return{c(){e=w("div"),n=w("div"),u&&u.c(),t=q(),o=w("button"),o.textContent="Close",_(n,"class","modal svelte-1a3y4ns"),_(e,"class","backdrop svelte-1a3y4ns")},m(a,p){M(a,e,p),h(e,n),u&&u.m(n,null),h(n,t),h(n,o),s=!0,i||(r=D(o,"click",l[3]),i=!0)},p(a,p){u&&u.p&&(!s||p&2)&&Ge(u,c,a,a[1],s?Xe(c,a[1],p,null):Ze(a[1]),null)},i(a){s||($(u,a),s=!0)},o(a){C(u,a),s=!1},d(a){a&&T(e),u&&u.d(a),i=!1,r()}}}function zt(l){let e,n,t=l[0]&&Ce(l);return{c(){t&&t.c(),e=ge()},m(o,s){t&&t.m(o,s),M(o,e,s),n=!0},p(o,[s]){o[0]?t?(t.p(o,s),s&1&&$(t,1)):(t=Ce(o),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(K(),C(t,1,1,()=>{t=null}),V())},i(o){n||($(t),n=!0)},o(o){C(t),n=!1},d(o){t&&t.d(o),o&&T(e)}}}function Ft(l,e,n){let{$$slots:t={},$$scope:o}=e,{show_modal:s=!1}=e;const i=()=>n(0,s=!1);return l.$$set=r=>{"show_modal"in r&&n(0,s=r.show_modal),"$$scope"in r&&n(1,o=r.$$scope)},[s,o,t,i]}class Nt extends N{constructor(e){super(),F(this,e,Ft,zt,z,{show_modal:0})}}function Ot(l){let e,n,t,o,s,i;return{c(){e=w("h1"),e.textContent="You have unsaved work!",n=q(),t=w("h3"),o=P("Your changes to "),s=P(l[1]),i=P(" will be lost if you don't save them.")},m(r,c){M(r,e,c),M(r,n,c),M(r,t,c),h(t,o),h(t,s),h(t,i)},p(r,c){c&2&&J(s,r[1])},d(r){r&&T(e),r&&T(n),r&&T(t)}}}function jt(l){let e,n,t,o,s,i,r,c,u,a,p,m,f,d,g;t=new pe({props:{text:"\uEA7F",title:"New"}}),t.$on("click",l[4]),s=new pe({props:{text:"\uEB4B",title:"Save"}}),s.$on("click",l[3]),r=new pe({props:{text:"\uEAF7",title:"Open"}}),r.$on("fileOpen",l[5]);function k(v){l[8](v)}let b={$$slots:{default:[Ot]},$$scope:{ctx:l}};return l[2]!==void 0&&(b.show_modal=l[2]),p=new Nt({props:b}),_e.push(()=>ct(p,"show_modal",k)),{c(){e=w("div"),n=w("div"),I(t.$$.fragment),o=q(),I(s.$$.fragment),i=q(),I(r.$$.fragment),c=q(),u=w("textarea"),a=q(),I(p.$$.fragment),_(n,"class","toolbar svelte-aninbu"),_(u,"wrap",Ht),_(u,"class","svelte-aninbu"),_(e,"class","window-container svelte-aninbu")},m(v,y){M(v,e,y),h(e,n),L(t,n,null),h(n,o),L(s,n,null),h(n,i),L(r,n,null),h(e,c),h(e,u),X(u,l[0]),h(e,a),L(p,e,null),f=!0,d||(g=D(u,"input",l[7]),d=!0)},p(v,[y]){y&1&&X(u,v[0]);const j={};y&2050&&(j.$$scope={dirty:y,ctx:v}),!m&&y&4&&(m=!0,j.show_modal=v[2],ot(()=>m=!1)),p.$set(j)},i(v){f||($(t.$$.fragment,v),$(s.$$.fragment,v),$(r.$$.fragment,v),$(p.$$.fragment,v),f=!0)},o(v){C(t.$$.fragment,v),C(s.$$.fragment,v),C(r.$$.fragment,v),C(p.$$.fragment,v),f=!1},d(v){v&&T(e),B(t),B(s),B(r),B(p),d=!1,g()}}}let Ht="off";function Pt(l,e,n){let t,o=new FileReader,s,i,r="Untitled.txt",c=!1;const u=()=>{let d=s,g=document.createElement("a"),k=new Blob([d],{type:"text/plain"});g.href=window.URL.createObjectURL(k),g.download=r,g.click(),t=!0},a=()=>{t?n(0,s=""):n(2,c=!0)},p=d=>{let g=d.detail.files[0];o.onload=()=>{n(0,s=n(6,i=o.result.toString()))},o.readAsText(g),n(1,r=g.name)};function m(){s=this.value,n(0,s)}function f(d){c=d,n(2,c)}return l.$$.update=()=>{l.$$.dirty&65&&(t=i==s)},[s,r,c,u,a,p,i,m,f]}class Ut extends N{constructor(e){super(),F(this,e,Pt,jt,z,{})}}function Ae(l){let e;return{c(){e=w("div"),e.innerHTML="<h2>Click &quot;Allow&quot; in the browser prompt to use your camera.</h2>",_(e,"class","grant-permission svelte-ujczn")},m(n,t){M(n,e,t)},d(n){n&&T(e)}}}function Rt(l){let e,n,t,o,s,i,r,c,u,a=!l[0]&&Ae();return{c(){e=w("div"),n=w("div"),t=w("video"),o=q(),a&&a.c(),s=q(),i=w("div"),r=w("button"),r.textContent="\uEADA",_(t,"id",l[1]),_(t,"class","svelte-ujczn"),_(n,"class","video-container svelte-ujczn"),_(r,"class","photo-btn svelte-ujczn"),_(i,"class","controls svelte-ujczn"),_(e,"class","window-container svelte-ujczn")},m(p,m){M(p,e,m),h(e,n),h(n,t),h(n,o),a&&a.m(n,null),h(e,s),h(e,i),h(i,r),c||(u=D(r,"click",l[2]),c=!0)},p(p,[m]){p[0]?a&&(a.d(1),a=null):a||(a=Ae(),a.c(),a.m(n,null))},i:A,o:A,d(p){p&&T(e),a&&a.d(),c=!1,u()}}}function Yt(l,e,n){let t=be("window_id")+"video",o=!1;return navigator.mediaDevices.getUserMedia({audio:!1,video:{width:1e3,height:560}}).then(i=>{n(0,o=!0);let r=document.getElementById(t);console.log(t),r.srcObject=i,r.onloadedmetadata=()=>{r.play()}}).catch(i=>{console.log(i)}),[o,t,()=>{let i=document.getElementById(t);const r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight,r.getContext("2d").drawImage(i,0,0,r.width,r.height);let u=document.createElement("a");r.toBlob(a=>{u.href=URL.createObjectURL(a),u.download="picture.png",u.click()})}]}class Jt extends N{constructor(e){super(),F(this,e,Yt,Rt,z,{})}}function Kt(l){let e;return{c(){e=w("div"),e.innerHTML='<iframe src="/Nexion/src/assets/Asteroids.html" title="Asteroids" frameborder="0" class="svelte-1witeso"></iframe>',_(e,"class","window-container svelte-1witeso")},m(n,t){M(n,e,t)},p:A,i:A,o:A,d(n){n&&T(e)}}}class Vt extends N{constructor(e){super(),F(this,e,null,Kt,z,{})}}function Ee(l){let e,n,t,o;return{c(){e=w("br"),n=q(),t=w("div"),o=P(l[2]),_(t,"class","error svelte-tntr7w")},m(s,i){M(s,e,i),M(s,n,i),M(s,t,i),h(t,o)},p(s,i){i&4&&J(o,s[2])},d(s){s&&T(e),s&&T(n),s&&T(t)}}}function Xt(l){let e,n,t,o,s,i,r,c,u,a,p,m,f,d,g,k,b=l[2]&&Ee(l);return{c(){e=w("div"),n=w("div"),t=w("p"),t.textContent="Add Todo",o=q(),s=w("input"),i=q(),b&&b.c(),r=q(),c=w("br"),u=q(),a=w("textarea"),p=q(),m=w("br"),f=q(),d=w("button"),d.textContent="Add",_(t,"class","svelte-tntr7w"),_(s,"type","text"),_(s,"class","svelte-tntr7w"),_(a,"type","text"),_(a,"class","svelte-tntr7w"),_(d,"class","svelte-tntr7w"),_(n,"class","add-todo-container svelte-tntr7w"),_(e,"class","backdrop svelte-tntr7w")},m(v,y){M(v,e,y),h(e,n),h(n,t),h(n,o),h(n,s),X(s,l[0]),h(n,i),b&&b.m(n,null),h(n,r),h(n,c),h(n,u),h(n,a),X(a,l[1]),h(n,p),h(n,m),h(n,f),h(n,d),g||(k=[D(s,"input",l[5]),D(a,"input",l[6]),D(d,"click",l[3]),D(e,"keyup",l[4])],g=!0)},p(v,[y]){y&1&&s.value!==v[0]&&X(s,v[0]),v[2]?b?b.p(v,y):(b=Ee(v),b.c(),b.m(n,r)):b&&(b.d(1),b=null),y&2&&X(a,v[1])},i:A,o:A,d(v){v&&T(e),b&&b.d(),g=!1,Y(k)}}}function Gt(l,e,n){const t=G();let o="",s="",i="";const r=()=>{o.trim()!==""?t("addTodoItem",{title:o,content:s}):n(2,i="Title cannot be empty!")},c=p=>{p.key=="Escape"&&t("closeModal")};we(()=>{document.querySelector(".add-todo-container input").focus()});function u(){o=this.value,n(0,o)}function a(){s=this.value,n(1,s)}return[o,s,i,r,c,u,a]}class Zt extends N{constructor(e){super(),F(this,e,Gt,Xt,z,{})}}function Qt(l){let e,n,t,o,s,i,r,c,u,a,p,m,f,d,g,k;return{c(){e=w("div"),n=w("div"),t=w("h4"),o=P(l[0]),s=q(),i=w("span"),r=P(l[3]),c=q(),u=w("div"),a=w("div"),p=q(),m=w("button"),m.textContent="\uF62B",f=q(),d=w("button"),d.textContent="\uF6BF",_(t,"class","svelte-funw"),R(t,"done",l[2]),_(i,"class","toggle-btn svelte-funw"),_(n,"class","title svelte-funw"),_(a,"class","content svelte-funw"),_(m,"class","done-btn svelte-funw"),_(d,"class","delete-btn svelte-funw"),_(u,"class","content-container svelte-funw"),R(u,"show",l[4]),_(e,"class","todo-item svelte-funw")},m(b,v){M(b,e,v),h(e,n),h(n,t),h(t,o),h(n,s),h(n,i),h(i,r),h(e,c),h(e,u),h(u,a),a.innerHTML=l[1],h(u,p),h(u,m),h(u,f),h(u,d),g||(k=[D(n,"click",l[5]),D(m,"click",l[6]),D(d,"click",l[7])],g=!0)},p(b,[v]){v&1&&J(o,b[0]),v&4&&R(t,"done",b[2]),v&8&&J(r,b[3]),v&2&&(a.innerHTML=b[1]),v&16&&R(u,"show",b[4])},i:A,o:A,d(b){b&&T(e),g=!1,Y(k)}}}function xt(l,e,n){let{id:t}=e,{title:o}=e,{content:s}=e,{done:i}=e;const r=G();let c="+",u=!1;const a=()=>{n(4,u=!u),u?n(3,c="-"):n(3,c="+")},p=()=>{r("taskDone",t)},m=()=>{r("taskDelete",t)};return l.$$set=f=>{"id"in f&&n(8,t=f.id),"title"in f&&n(0,o=f.title),"content"in f&&n(1,s=f.content),"done"in f&&n(2,i=f.done)},[o,s,i,c,u,a,p,m,t]}class en extends N{constructor(e){super(),F(this,e,xt,Qt,z,{id:8,title:0,content:1,done:2})}}function We(l,e,n){const t=l.slice();return t[7]=e[n],t}function De(l){let e;return{c(){e=w("h5"),e.textContent="Click the + button below to add your first todo!",H(e,"text-align","center")},m(n,t){M(n,e,t)},p:A,d(n){n&&T(e)}}}function Se(l){let e,n;return e=new en({props:{title:l[7].title,content:l[7].content,done:l[7].done,id:l[7].id}}),e.$on("taskDone",l[3]),e.$on("taskDelete",l[4]),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},p(t,o){const s={};o&1&&(s.title=t[7].title),o&1&&(s.content=t[7].content),o&1&&(s.done=t[7].done),o&1&&(s.id=t[7].id),e.$set(s)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Le(l){let e,n;return e=new Zt({}),e.$on("addTodoItem",l[2]),e.$on("closeModal",l[6]),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},p:A,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function tn(l){let e,n,t,o,s,i,r,c,u,a,p,m=l[0],f=[];for(let b=0;b<m.length;b+=1)f[b]=Se(We(l,m,b));const d=b=>C(f[b],1,1,()=>{f[b]=null});let g=null;m.length||(g=De());let k=l[1]&&Le(l);return{c(){e=w("div"),n=w("h2"),n.textContent="Your Todos",t=q(),o=w("br"),s=q();for(let b=0;b<f.length;b+=1)f[b].c();g&&g.c(),i=q(),r=w("button"),r.textContent="+",c=q(),k&&k.c(),_(r,"class","add-todo-btn svelte-sr8q5g"),_(e,"class","window-container svelte-sr8q5g")},m(b,v){M(b,e,v),h(e,n),h(e,t),h(e,o),h(e,s);for(let y=0;y<f.length;y+=1)f[y].m(e,null);g&&g.m(e,null),h(e,i),h(e,r),h(e,c),k&&k.m(e,null),u=!0,a||(p=D(r,"click",l[5]),a=!0)},p(b,[v]){if(v&25){m=b[0];let y;for(y=0;y<m.length;y+=1){const j=We(b,m,y);f[y]?(f[y].p(j,v),$(f[y],1)):(f[y]=Se(j),f[y].c(),$(f[y],1),f[y].m(e,i))}for(K(),y=m.length;y<f.length;y+=1)d(y);V(),!m.length&&g?g.p(b,v):m.length?g&&(g.d(1),g=null):(g=De(),g.c(),g.m(e,i))}b[1]?k?(k.p(b,v),v&2&&$(k,1)):(k=Le(b),k.c(),$(k,1),k.m(e,null)):k&&(K(),C(k,1,1,()=>{k=null}),V())},i(b){if(!u){for(let v=0;v<m.length;v+=1)$(f[v]);$(k),u=!0}},o(b){f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)C(f[v]);C(k),u=!1},d(b){b&&T(e),oe(f,b),g&&g.d(),k&&k.d(),a=!1,p()}}}function nn(l,e,n){let t=[],o=!1;return[t,o,a=>{n(1,o=!1);let{title:p,content:m}=a.detail;m=m.replaceAll(`
`,"<br>");let f=Math.floor(Math.random()*1e3);t.push({id:f,title:p,content:m,done:!1}),n(0,t),localStorage.setItem("todos",t.toString())},a=>{let p=a.detail;for(let m of t)m.id==p&&(m.done=!0);n(0,t)},a=>{let p=a.detail;t.forEach((m,f)=>{m.id==p&&t.splice(f,1)}),n(0,t)},()=>{n(1,o=!o)},()=>n(1,o=!1)]}class ln extends N{constructor(e){super(),F(this,e,nn,tn,z,{})}}function on(l){let e;return{c(){e=w("div"),e.innerHTML=`<div class="content-container svelte-scqifq"><h1 class="svelte-scqifq">Welcome to Nexion!</h1> 

        <p style="text-align: center; color: #ddd">Nexion is an online desktop inspired by <a href="https://www.gnome.org/" class="svelte-scqifq">GNOME</a>.</p> 
        <br/> 
        <h2 class="svelte-scqifq">Before you start</h2> 
        <ul style="list-style-type:square"><li>Enter fullscreen mode</li> 
            <li>Zoom out intil this welcome window is completely visible.</li></ul> 

        <h2 class="svelte-scqifq">My aim</h2> 
        <p>To create a beautiful extensible portable online desktop that looks consistent wherever you go.</p> 
        <p>Contributions are welcome. Refer the README for more details</p> 

        <footer class="svelte-scqifq"><a href="https://github.com/OrangeFalcon14/Nexion" class="svelte-scqifq">\uEA84 GitHub</a></footer></div>`,_(e,"class","window-container svelte-scqifq")},m(n,t){M(n,e,t)},p:A,i:A,o:A,d(n){n&&T(e)}}}class sn extends N{constructor(e){super(),F(this,e,null,on,z,{})}}function rn(l){let e,n;return e=new sn({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function cn(l){let e,n;return e=new ln({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function un(l){let e,n;return e=new Vt({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function an(l){let e,n;return e=new Jt({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function fn(l){let e,n;return e=new Ut({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function dn(l){let e,n;return e=new Dt({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function pn(l){let e,n;return e=new vt({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function _n(l){let e,n;return e=new Mt({}),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function mn(l){let e,n,t,o,s,i,r,c,u,a,p,m,f,d,g,k,b;const v=[_n,pn,dn,fn,an,un,cn,rn],y=[];function j(W,E){return W[0]==="Files"?0:W[0]==="Alacritty"?1:W[0]==="Settings"?2:W[0]==="Text Editor"?3:W[0]==="Camera"?4:W[0]==="Asteroids"?5:W[0]==="Todo"?6:W[0]==="Welcome"?7:-1}return~(f=j(l))&&(d=y[f]=v[f](l)),{c(){e=w("div"),n=w("div"),t=w("button"),o=q(),s=w("button"),i=q(),r=w("button"),c=q(),u=w("div"),a=P(l[0]),m=q(),d&&d.c(),_(t,"class","titlebar-btn close-btn svelte-1y06hgi"),_(s,"class","titlebar-btn maximize-btn svelte-1y06hgi"),_(r,"class","titlebar-btn minimize-btn svelte-1y06hgi"),_(u,"class","window-title svelte-1y06hgi"),_(n,"class","window-titlebar svelte-1y06hgi"),_(n,"id",p=`${l[1]}titlebar`),_(e,"id",l[1]),_(e,"class","window svelte-1y06hgi"),H(e,"top",l[8]),H(e,"left",l[7]),H(e,"height",l[6]),H(e,"width",l[5]),R(e,"focused",l[2])},m(W,E){M(W,e,E),h(e,n),h(n,t),h(n,o),h(n,s),h(n,i),h(n,r),h(n,c),h(n,u),h(u,a),h(e,m),~f&&y[f].m(e,null),g=!0,k||(b=[D(t,"click",l[13]),D(s,"click",l[14]),D(r,"click",l[15]),D(n,"mousedown",l[16]),D(e,"mousedown",l[17])],k=!0)},p(W,[E]){(!g||E&1)&&J(a,W[0]),(!g||E&2&&p!==(p=`${W[1]}titlebar`))&&_(n,"id",p);let O=f;f=j(W),f!==O&&(d&&(K(),C(y[O],1,1,()=>{y[O]=null}),V()),~f?(d=y[f],d||(d=y[f]=v[f](W),d.c()),$(d,1),d.m(e,null)):d=null),(!g||E&2)&&_(e,"id",W[1]),(!g||E&256)&&H(e,"top",W[8]),(!g||E&128)&&H(e,"left",W[7]),(!g||E&64)&&H(e,"height",W[6]),(!g||E&32)&&H(e,"width",W[5]),(!g||E&4)&&R(e,"focused",W[2])},i(W){g||($(d),g=!0)},o(W){C(d),g=!1},d(W){W&&T(e),~f&&y[f].d(),k=!1,Y(b)}}}function hn(l,e,n){let t,o,s,i,r=G(),{app:c}=e,{number:u}=e,{focused:a}=e,{initalTop:p}=e,{initalLeft:m}=e;Pe("window_id",u);let f=!1,d=!0;var g=0,k=0,b=0,v=0;let y;function j(S){y=document.getElementById(u),r("focusWindow",{number:u,app:c}),S=S,b=S.clientX,v=S.clientY,document.onmouseup=E,document.onmousemove=W}function W(S){S=S,S.preventDefault(),g=b-S.clientX,k=v-S.clientY,b=S.clientX,v=S.clientY,y.style.top=y.offsetTop-k+"px",y.style.left=y.offsetLeft-g+"px"}function E(){document.onmouseup=null,document.onmousemove=null,r("windowMoved",{number:u,top:y.style.top,left:y.style.left})}const O=()=>r("closeWindow",{app:c,number:u}),U=()=>{n(4,d=!1),n(3,f=!0)},Q=()=>{n(3,f=!1),n(4,d=!0)},Re=S=>j(S),Ye=()=>r("focusWindow",{number:u,app:c});return l.$$set=S=>{"app"in S&&n(0,c=S.app),"number"in S&&n(1,u=S.number),"focused"in S&&n(2,a=S.focused),"initalTop"in S&&n(11,p=S.initalTop),"initalLeft"in S&&n(12,m=S.initalLeft)},l.$$.update=()=>{l.$$.dirty&2056&&n(8,t=f?"22px":p),l.$$.dirty&4104&&n(7,o=f?"0px":m),l.$$.dirty&8&&n(6,s=f?"calc(100% - 62px)":"750px"),l.$$.dirty&8&&n(5,i=f?"100%":"1000px")},[c,u,a,f,d,i,s,o,t,r,j,p,m,O,U,Q,Re,Ye]}class gn extends N{constructor(e){super(),F(this,e,hn,mn,z,{app:0,number:1,focused:2,initalTop:11,initalLeft:12})}}function wn(l){let e,n;return{c(){e=w("img"),x(e.src,n="/Nexion/src/assets/icons/apps/asteroids.png")||_(e,"src",n),_(e,"alt",l[0]),H(e,"width","64px"),H(e,"height","54px"),H(e,"margin-bottom","10px")},m(t,o){M(t,e,o)},p(t,o){o&1&&_(e,"alt",t[0])},d(t){t&&T(e)}}}function bn(l){let e,n;return{c(){e=w("img"),x(e.src,n="/Nexion/src/assets/icons/apps/"+l[0].toLowerCase()+".svg")||_(e,"src",n),_(e,"alt",l[0]),H(e,"height","64px")},m(t,o){M(t,e,o)},p(t,o){o&1&&!x(e.src,n="/Nexion/src/assets/icons/apps/"+t[0].toLowerCase()+".svg")&&_(e,"src",n),o&1&&_(e,"alt",t[0])},d(t){t&&T(e)}}}function vn(l){let e,n,t,o,s,i;function r(a,p){return a[0]!="Asteroids"?bn:wn}let c=r(l),u=c(l);return{c(){e=w("div"),u.c(),n=q(),t=w("br"),o=P(l[0]),_(e,"class","applications-menu-app svelte-2kdast"),_(e,"title",l[0])},m(a,p){M(a,e,p),u.m(e,null),h(e,n),h(e,t),h(e,o),s||(i=D(e,"click",l[2]),s=!0)},p(a,[p]){c===(c=r(a))&&u?u.p(a,p):(u.d(1),u=c(a),u&&(u.c(),u.m(e,n))),p&1&&J(o,a[0]),p&1&&_(e,"title",a[0])},i:A,o:A,d(a){a&&T(e),u.d(),s=!1,i()}}}function kn(l,e,n){const t=G();let{app:o}=e;const s=()=>{t("newWindow",{app:o,focused:!0})};return l.$$set=i=>{"app"in i&&n(0,o=i.app)},[o,t,s]}class yn extends N{constructor(e){super(),F(this,e,kn,vn,z,{app:0})}}function $n(l){let e,n,t;return{c(){e=w("input"),_(e,"type","text"),_(e,"id","applications-menu-search"),_(e,"placeholder","Search..."),_(e,"class","svelte-nrj43d")},m(o,s){M(o,e,s),X(e,l[0]),n||(t=[D(e,"input",l[3]),D(e,"keyup",l[1])],n=!0)},p(o,[s]){s&1&&e.value!==o[0]&&X(e,o[0])},i:A,o:A,d(o){o&&T(e),n=!1,Y(t)}}}function Tn(l,e){return l.indexOf(e)!=-1}function Mn(l,e,n){let t,{apps_list:o}=e;const s=G();let i="";function r(u){if(u.key=="Escape"){s("closeApplicationMenu");return}t==""&&s("showApps",o);let a=[];for(let p of o)Tn(p.toLowerCase(),t)&&a.push(p);s("showApps",a)}function c(){i=this.value,n(0,i)}return l.$$set=u=>{"apps_list"in u&&n(2,o=u.apps_list)},l.$$.update=()=>{l.$$.dirty&1&&(t=i.trim().toLocaleLowerCase())},[i,r,o,c]}class qn extends N{constructor(e){super(),F(this,e,Mn,$n,z,{apps_list:2})}}function Be(l,e,n){const t=l.slice();return t[5]=e[n],t}function Ie(l){let e,n;return e=new yn({props:{app:l[5]}}),e.$on("newWindow",l[4]),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},p(t,o){const s={};o&1&&(s.app=t[5]),e.$set(s)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Cn(l){let e,n,t,o,s,i,r,c;n=new qn({props:{apps_list:l[1]}}),n.$on("closeApplicationMenu",l[3]),n.$on("showApps",l[2]);let u=l[0],a=[];for(let m=0;m<u.length;m+=1)a[m]=Ie(Be(l,u,m));const p=m=>C(a[m],1,1,()=>{a[m]=null});return{c(){e=w("div"),I(n.$$.fragment),t=q(),o=w("br"),s=w("br"),i=q(),r=w("div");for(let m=0;m<a.length;m+=1)a[m].c();_(r,"id","apps-container"),_(r,"class","svelte-5gxo25"),_(e,"id","applications-menu"),_(e,"class","svelte-5gxo25")},m(m,f){M(m,e,f),L(n,e,null),h(e,t),h(e,o),h(e,s),h(e,i),h(e,r);for(let d=0;d<a.length;d+=1)a[d].m(r,null);c=!0},p(m,[f]){if(f&1){u=m[0];let d;for(d=0;d<u.length;d+=1){const g=Be(m,u,d);a[d]?(a[d].p(g,f),$(a[d],1)):(a[d]=Ie(g),a[d].c(),$(a[d],1),a[d].m(r,null))}for(K(),d=u.length;d<a.length;d+=1)p(d);V()}},i(m){if(!c){$(n.$$.fragment,m);for(let f=0;f<u.length;f+=1)$(a[f]);c=!0}},o(m){C(n.$$.fragment,m),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)C(a[f]);c=!1},d(m){m&&T(e),B(n),oe(a,m)}}}function An(l,e,n){let t=be("apps_list"),o=JSON.parse(JSON.stringify(t));function s(c){n(0,o=c.detail)}we(()=>{document.getElementById("applications-menu-search").focus()});function i(c){ue.call(this,l,c)}function r(c){ue.call(this,l,c)}return[o,t,s,i,r]}class En extends N{constructor(e){super(),F(this,e,An,Cn,z,{})}}function ze(l){let e,n;return e=new En({}),e.$on("closeApplicationMenu",l[4]),e.$on("newWindow",l[5]),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},p:A,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Wn(l){let e,n,t,o,s,i,r,c,u,a,p,m,f=l[0]&&ze(l);return{c(){e=w("div"),n=w("span"),n.textContent="Applications",t=q(),o=w("span"),s=P(l[1]),i=q(),r=w("span"),r.textContent="\uF1EB \uF028 \uF240",c=q(),f&&f.c(),u=ge(),_(n,"id","applications-menu-launcher"),_(n,"class","svelte-112zuqe"),_(o,"id","date-time"),_(o,"class","svelte-112zuqe"),_(r,"id","sys-tray"),_(r,"class","svelte-112zuqe"),_(e,"id","topbar"),_(e,"class","svelte-112zuqe")},m(d,g){M(d,e,g),h(e,n),h(e,t),h(e,o),h(o,s),h(e,i),h(e,r),M(d,c,g),f&&f.m(d,g),M(d,u,g),a=!0,p||(m=D(n,"click",l[3]),p=!0)},p(d,[g]){(!a||g&2)&&J(s,d[1]),d[0]?f?(f.p(d,g),g&1&&$(f,1)):(f=ze(d),f.c(),$(f,1),f.m(u.parentNode,u)):f&&(K(),C(f,1,1,()=>{f=null}),V())},i(d){a||($(f),a=!0)},o(d){C(f),a=!1},d(d){d&&T(e),d&&T(c),f&&f.d(d),d&&T(u),p=!1,m()}}}function Dn(l,e,n){let t=G(),o;const s=["January","February","March","April","May","June","July","August","September","October","November","December"];function i(){const p=new Date;let m=p.getHours(),f=p.getSeconds()<10?`0${p.getSeconds()}`:p.getSeconds(),d=p.getMinutes()<10?`0${p.getMinutes()}`:p.getMinutes();p.getHours()<12;let g=p.getDay(),k;switch(g){case 0:k="Sun";break;case 1:k="Mon";break;case 2:k="Tue";break;case 3:k="Wed";break;case 4:k="Thu";break;case 5:k="Fri";break;case 6:k="Sat";break}n(1,o=`${k} ${s[p.getMonth()].slice(0,3)} ${p.getDate()} ${m}:${d}:${f}`)}i(),setInterval(i,1e3);let{applications_menu_show:r=!1}=e;console.log(r);const c=()=>{n(0,r=!r)},u=()=>{n(0,r=!1)},a=p=>{n(0,r=!1),t("newWindow",p.detail)};return l.$$set=p=>{"applications_menu_show"in p&&n(0,r=p.applications_menu_show)},[r,o,t,c,u,a]}class Sn extends N{constructor(e){super(),F(this,e,Dn,Wn,z,{applications_menu_show:0})}}function Fe(l,e,n){const t=l.slice();return t[10]=e[n],t}function Ne(l){let e,n;return e=new gn({props:{app:l[10].app,number:l[10].number,focused:l[10].focused,initalTop:l[10].top,initalLeft:l[10].left}}),e.$on("focusWindow",l[5]),e.$on("closeWindow",l[4]),e.$on("windowMoved",l[6]),{c(){I(e.$$.fragment)},m(t,o){L(e,t,o),n=!0},p(t,o){const s={};o&2&&(s.app=t[10].app),o&2&&(s.number=t[10].number),o&2&&(s.focused=t[10].focused),o&2&&(s.initalTop=t[10].top),o&2&&(s.initalLeft=t[10].left),e.$set(s)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Ln(l){let e,n,t,o,s,i;n=new Sn({props:{applications_menu_show:l[2]}}),n.$on("newWindow",l[3]),o=new gt({props:{apps_list:l[0]}}),o.$on("newWindow",l[3]);let r=l[1],c=[];for(let a=0;a<r.length;a+=1)c[a]=Ne(Fe(l,r,a));const u=a=>C(c[a],1,1,()=>{c[a]=null});return{c(){e=w("div"),I(n.$$.fragment),t=q(),I(o.$$.fragment),s=q();for(let a=0;a<c.length;a+=1)c[a].c();_(e,"id","container")},m(a,p){M(a,e,p),L(n,e,null),h(e,t),L(o,e,null),h(e,s);for(let m=0;m<c.length;m+=1)c[m].m(e,null);i=!0},p(a,[p]){const m={};p&4&&(m.applications_menu_show=a[2]),n.$set(m);const f={};if(p&1&&(f.apps_list=a[0]),o.$set(f),p&114){r=a[1];let d;for(d=0;d<r.length;d+=1){const g=Fe(a,r,d);c[d]?(c[d].p(g,p),$(c[d],1)):(c[d]=Ne(g),c[d].c(),$(c[d],1),c[d].m(e,null))}for(K(),d=r.length;d<c.length;d+=1)u(d);V()}},i(a){if(!i){$(n.$$.fragment,a),$(o.$$.fragment,a);for(let p=0;p<r.length;p+=1)$(c[p]);i=!0}},o(a){C(n.$$.fragment,a),C(o.$$.fragment,a),c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)C(c[p]);i=!1},d(a){a&&T(e),B(n),B(o),oe(c,a)}}}function Bn(l,e,n){Pe("apps_list",["Files","Firefox","Asteroids","Alacritty","Camera","Pycharm Community Edition","Settings","Text Editor","Todo","Visual Studio Code"]);let o=[{name:"Files",running:!1,focused:!1},{name:"Firefox",running:!1,focused:!1},{name:"Alacritty",running:!1,focused:!1},{name:"Pycharm Community Edition",running:!1,focused:!1},{name:"Visual Studio Code",running:!1,focused:!1}],s=[],i=[],r=!1;function c(f){n(2,r=!1);let d=f.detail;for(;;){if(d.number=Math.floor(Math.random()*1e3),s.length==0){s=[...s,d.number];break}if(s.indexOf(d.number)==-1)break}d.top="100px",d.left="100px",n(1,i=[...i,d]),a({detail:{number:d.number,app:d.app}});let g=!1;o.forEach(k=>{k.name===d.app&&(k.running=!0,g=!0)}),!g&&d.app!=="Welcome"&&o.push({name:d.app,running:!0,focused:!0}),n(0,o)}function u(f){for(var d=0;d<i.length;d++)i[d].number===f.detail.number&&(i.splice(d,1),n(1,i));o.forEach(g=>{if(g.name===f.detail.app){let k=!1;for(let b of i)b.app===f.detail.app&&(k=!0);k||(g.running=!1,g.focused=!1)}}),n(0,o)}function a(f){let d=f.detail.number;for(let g of i)g.focused=!1;for(let g of i)g.number==d&&(g.focused=!0);n(1,i);for(let g of o)g.name==f.detail.app?g.focused=!0:g.focused=!1;n(0,o)}function p(f){for(const d of i)if(d.number==f)return d}function m(f){let d=f.detail.top,g=f.detail.left,k=p(f.detail.number);k.top=d,k.left=g}return we(()=>{c({detail:{app:"Welcome",focused:!0}})}),[o,i,r,c,u,a,m]}class In extends N{constructor(e){super(),F(this,e,Bn,Ln,z,{})}}new In({target:document.getElementById("app")});
