(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function C(){}function qe(t,e){for(const n in e)t[n]=e[n];return t}function Ce(t){return t()}function ge(){return Object.create(null)}function J(t){t.forEach(Ce)}function Te(t){return typeof t=="function"}function I(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ee;function oe(t,e){return ee||(ee=document.createElement("a")),ee.href=e,t===ee.href}function ze(t){return Object.keys(t).length===0}function Ne(t,e,n,l){if(t){const i=Se(t,e,n,l);return t[0](i)}}function Se(t,e,n,l){return t[1]&&l?qe(n.ctx.slice(),t[1](l(e))):n.ctx}function Pe(t,e,n,l){if(t[2]&&l){const i=t[2](l(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],o=Math.max(e.dirty.length,i.length);for(let s=0;s<o;s+=1)r[s]=e.dirty[s]|i[s];return r}return e.dirty|i}return e.dirty}function He(t,e,n,l,i,r){if(i){const o=Se(e,n,l,r);t.p(o,i)}}function Ue(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function h(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function ce(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function j(){return H(" ")}function Oe(){return H("")}function T(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Je(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function se(t,e){t.value=e==null?"":e}function U(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function we(t,e,n){t.classList[n?"add":"remove"](e)}function Re(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,l,e),i}let x;function Z(t){x=t}function ue(){if(!x)throw new Error("Function called outside component initialization");return x}function Ye(t){ue().$$.on_mount.push(t)}function V(){const t=ue();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=Re(e,n,{cancelable:l});return i.slice().forEach(o=>{o.call(t,r)}),!r.defaultPrevented}return!0}}function Be(t,e){return ue().$$.context.set(t,e),e}function he(t){return ue().$$.context.get(t)}function re(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const Q=[],de=[],le=[],pe=[],Ke=Promise.resolve();let _e=!1;function Ve(){_e||(_e=!0,Ke.then(De))}function me(t){le.push(t)}function Xe(t){pe.push(t)}const ae=new Set;let te=0;function De(){const t=x;do{for(;te<Q.length;){const e=Q[te];te++,Z(e),Ge(e.$$)}for(Z(null),Q.length=0,te=0;de.length;)de.pop()();for(let e=0;e<le.length;e+=1){const n=le[e];ae.has(n)||(ae.add(n),n())}le.length=0}while(Q.length);for(;pe.length;)pe.pop()();_e=!1,ae.clear(),Z(t)}function Ge(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(me)}}const ie=new Set;let R;function X(){R={r:0,c:[],p:R}}function G(){R.r||J(R.c),R=R.p}function b(t,e){t&&t.i&&(ie.delete(t),t.i(e))}function $(t,e,n,l){if(t&&t.o){if(ie.has(t))return;ie.add(t),R.c.push(()=>{ie.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function Qe(t,e){t.d(1),e.delete(t.key)}function Ze(t,e,n,l,i,r,o,s,c,a,u,p){let _=t.length,f=r.length,d=_;const w={};for(;d--;)w[t[d].key]=d;const M=[],z=new Map,y=new Map;for(d=f;d--;){const v=p(i,r,d),B=n(v);let P=o.get(B);P?l&&P.p(v,e):(P=a(B,v),P.c()),z.set(B,M[d]=P),B in w&&y.set(B,Math.abs(d-w[B]))}const W=new Set,N=new Set;function k(v){b(v,1),v.m(s,u),o.set(v.key,v),u=v.first,f--}for(;_&&f;){const v=M[f-1],B=t[_-1],P=v.key,Y=B.key;v===B?(u=v.first,_--,f--):z.has(Y)?!o.has(P)||W.has(P)?k(v):N.has(Y)?_--:y.get(P)>y.get(Y)?(N.add(P),k(v)):(W.add(Y),_--):(c(B,o),_--)}for(;_--;){const v=t[_];z.has(v.key)||c(v,o)}for(;f;)k(M[f-1]);return M}function xe(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function D(t){t&&t.c()}function S(t,e,n,l){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),l||me(()=>{const o=t.$$.on_mount.map(Ce).filter(Te);t.$$.on_destroy?t.$$.on_destroy.push(...o):J(o),t.$$.on_mount=[]}),r.forEach(me)}function O(t,e){const n=t.$$;n.fragment!==null&&(J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){t.$$.dirty[0]===-1&&(Q.push(t),Ve(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(t,e,n,l,i,r,o,s=[-1]){const c=x;Z(t);const a=t.$$={fragment:null,ctx:[],props:r,update:C,not_equal:i,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ge(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(a.root);let u=!1;if(a.ctx=n?n(t,e.props||{},(p,_,...f)=>{const d=f.length?f[0]:_;return a.ctx&&i(a.ctx[p],a.ctx[p]=d)&&(!a.skip_bound&&a.bound[p]&&a.bound[p](d),u&&et(t,p)),_}):[],a.update(),u=!0,J(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const p=Je(e.target);a.fragment&&a.fragment.l(p),p.forEach(E)}else a.fragment&&a.fragment.c();e.intro&&b(t.$$.fragment),S(t,e.target,e.anchor,e.customElement),De()}Z(c)}class q{$destroy(){O(this,1),this.$destroy=C}$on(e,n){if(!Te(n))return C;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!ze(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function tt(t){let e,n,l,i,r;return{c(){e=g("span"),n=g("img"),oe(n.src,l=`/Nexion/src/assets/icons/apps/${t[0].toLowerCase()}.svg`)||m(n,"src",l),m(n,"alt",t[0]),m(n,"class","dock-item-icon svelte-1kztcyd"),m(e,"class","dock-item svelte-1kztcyd")},m(o,s){A(o,e,s),h(e,n),i||(r=T(e,"click",t[2]),i=!0)},p(o,[s]){s&1&&!oe(n.src,l=`/Nexion/src/assets/icons/apps/${o[0].toLowerCase()}.svg`)&&m(n,"src",l),s&1&&m(n,"alt",o[0])},i:C,o:C,d(o){o&&E(e),i=!1,r()}}}function nt(t,e,n){let l=V(),{app:i}=e;const r=()=>{l("newWindow",{app:i,focused:!0})};return t.$$set=o=>{"app"in o&&n(0,i=o.app)},[i,l,r]}class lt extends q{constructor(e){super(),F(this,e,nt,tt,I,{app:0})}}function be(t,e,n){const l=t.slice();return l[2]=e[n],l}function ve(t){let e,n;return e=new lt({props:{app:t[2]}}),e.$on("newWindow",t[1]),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},p:C,i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function it(t){let e,n,l=t[0],i=[];for(let o=0;o<l.length;o+=1)i[o]=ve(be(t,l,o));const r=o=>$(i[o],1,1,()=>{i[o]=null});return{c(){e=g("div");for(let o=0;o<i.length;o+=1)i[o].c();m(e,"id","dock"),m(e,"class","panel-dock svelte-14fgh07")},m(o,s){A(o,e,s);for(let c=0;c<i.length;c+=1)i[c].m(e,null);n=!0},p(o,[s]){if(s&1){l=o[0];let c;for(c=0;c<l.length;c+=1){const a=be(o,l,c);i[c]?(i[c].p(a,s),b(i[c],1)):(i[c]=ve(a),i[c].c(),b(i[c],1),i[c].m(e,null))}for(X(),c=l.length;c<i.length;c+=1)r(c);G()}},i(o){if(!n){for(let s=0;s<l.length;s+=1)b(i[s]);n=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(o){o&&E(e),ce(i,o)}}}function ot(t){let e=["Files","Firefox","Alacritty","Pycharm Community Edition","Visual Studio Code"];function n(l){re.call(this,t,l)}return[e,n]}class st extends q{constructor(e){super(),F(this,e,ot,it,I,{})}}function ye(t,e,n){const l=t.slice();return l[3]=e[n],l}function $e(t,e){let n,l=e[3].output+"",i,r,o,s,c,a,u,p;function _(...f){return e[2](e[3],...f)}return{key:t,first:null,c(){n=g("div"),r=j(),o=g("input"),m(n,"id",i="output"+e[3].id),m(n,"class","shell-output svelte-rnfbsm"),m(o,"id",s="prompt"+e[3].id),o.disabled=c=e[3].disabled,o.value=a=e[3].text,m(o,"type","text"),m(o,"class","shell-prompt svelte-rnfbsm"),this.first=n},m(f,d){A(f,n,d),n.innerHTML=l,A(f,r,d),A(f,o,d),u||(p=T(o,"keyup",_),u=!0)},p(f,d){e=f,d&1&&l!==(l=e[3].output+"")&&(n.innerHTML=l),d&1&&i!==(i="output"+e[3].id)&&m(n,"id",i),d&1&&s!==(s="prompt"+e[3].id)&&m(o,"id",s),d&1&&c!==(c=e[3].disabled)&&(o.disabled=c),d&1&&a!==(a=e[3].text)&&o.value!==a&&(o.value=a)},d(f){f&&E(n),f&&E(r),f&&E(o),u=!1,p()}}}function rt(t){let e,n=[],l=new Map,i=t[0];const r=o=>o[3].id;for(let o=0;o<i.length;o+=1){let s=ye(t,i,o),c=r(s);l.set(c,n[o]=$e(c,s))}return{c(){e=g("div");for(let o=0;o<n.length;o+=1)n[o].c();m(e,"class","window-container svelte-rnfbsm")},m(o,s){A(o,e,s);for(let c=0;c<n.length;c+=1)n[c].m(e,null)},p(o,[s]){s&3&&(i=o[0],n=Ze(n,s,r,1,o,i,l,e,Qe,$e,null,ye))},i:C,o:C,d(o){o&&E(e);for(let s=0;s<n.length;s+=1)n[s].d()}}}let ne="~ $ ";function ct(t,e,n){let l=[{id:0,text:ne,disabled:!1,output:""}];function i(o,s){if(o.key=="Enter"){let c="";o.target.value.trim()===`${ne}sudo rm -rf /`&&(c="rm: it is dangerous to operate recursively on '/'<br>rm: use --no-preserve-root to override this failsafe"),o.target.value===`${ne}sudo rm -rf / --no-preserve-root`&&(document.body.innerHTML="");let a={id:l.length,text:ne,disabled:!1,output:c};l.at(-1).disabled=!0,l.push(a),n(0,l),setTimeout(()=>{document.getElementById("prompt"+a.id).focus()},20)}else o.key==="ArrowUp"&&(o.preventDefault(),l.length!=1&&(n(0,l[s].text=document.getElementById("prompt"+(s-1)).value,l),console.log(l[s].text),n(0,l)))}return[l,i,(o,s)=>i(s,o.id)]}class ut extends q{constructor(e){super(),F(this,e,ct,rt,I,{})}}function at(t,e,n){const l=t.slice();return l[1]=e[n],l}function ft(t){let e;return{c(){e=g("span"),m(e,"class","folder-icon svelte-1jy8t44")},m(n,l){A(n,e,l)},p:C,d(n){n&&E(e)}}}function dt(t){let e,n,l,i,r=t[0],o=[];for(let s=0;s<r.length;s+=1)o[s]=ft(at(t,r,s));return{c(){e=g("div"),n=g("div"),n.innerHTML=`<div class="files-sidebar-link svelte-1jy8t44">\uF7DB Home <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF6C3 Desktop <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF718 Documents <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF6D9 Downloads <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF1C5 Pictures <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uFA66 Videos <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF014 Trash <br/></div>`,l=j(),i=g("div");for(let s=0;s<o.length;s+=1)o[s].c();m(n,"class","sidebar svelte-1jy8t44"),m(i,"class","main-content svelte-1jy8t44"),m(e,"class","window-container svelte-1jy8t44")},m(s,c){A(s,e,c),h(e,n),h(e,l),h(e,i);for(let a=0;a<o.length;a+=1)o[a].m(i,null)},p:C,i:C,o:C,d(s){s&&E(e),ce(o,s)}}}function pt(t){return[Array(20).fill(0)]}class _t extends q{constructor(e){super(),F(this,e,pt,dt,I,{})}}class mt extends q{constructor(e){super(),F(this,e,null,null,I,{})}}function ht(t){let e,n,l,i,r,o;return{c(){e=g("input"),n=j(),l=g("label"),i=H(t[0]),m(e,"type","file"),m(e,"id",t[4]),U(e,"display","none"),m(l,"for",t[4]),m(l,"class","svelte-193v6ke")},m(s,c){A(s,e,c),A(s,n,c),A(s,l,c),h(l,i),r||(o=[T(e,"change",t[6]),T(e,"change",t[7])],r=!0)},p(s,c){c&1&&K(i,s[0])},d(s){s&&E(e),s&&E(n),s&&E(l),r=!1,J(o)}}}function gt(t){let e,n,l,i;return{c(){e=g("button"),n=H(t[0]),m(e,"title",t[1]),m(e,"class","svelte-193v6ke")},m(r,o){A(r,e,o),h(e,n),l||(i=T(e,"click",t[5]),l=!0)},p(r,o){o&1&&K(n,r[0]),o&2&&m(e,"title",r[1])},d(r){r&&E(e),l=!1,i()}}}function wt(t){let e;function n(r,o){return r[1]!=="Open"?gt:ht}let l=n(t),i=l(t);return{c(){i.c(),e=Oe()},m(r,o){i.m(r,o),A(r,e,o)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},i:C,o:C,d(r){i.d(r),r&&E(e)}}}function bt(t,e,n){let{text:l}=e,{title:i}=e;const r=V();let o;const s=he("window_id")+"file_input";function c(p){re.call(this,t,p)}const a=()=>{n(2,o=document.getElementById(s).files),r("fileOpen",{files:o})};function u(){o=this.files,n(2,o)}return t.$$set=p=>{"text"in p&&n(0,l=p.text),"title"in p&&n(1,i=p.title)},[l,i,o,r,s,c,a,u]}class fe extends q{constructor(e){super(),F(this,e,bt,wt,I,{text:0,title:1})}}function ke(t){let e,n,l,i,r,o,s;const c=t[2].default,a=Ne(c,t,t[1],null);return{c(){e=g("div"),n=g("div"),a&&a.c(),l=j(),i=g("button"),i.textContent="Close",m(n,"class","modal svelte-1a3y4ns"),m(e,"class","backdrop svelte-1a3y4ns")},m(u,p){A(u,e,p),h(e,n),a&&a.m(n,null),h(n,l),h(n,i),r=!0,o||(s=T(i,"click",t[3]),o=!0)},p(u,p){a&&a.p&&(!r||p&2)&&He(a,c,u,u[1],r?Pe(c,u[1],p,null):Ue(u[1]),null)},i(u){r||(b(a,u),r=!0)},o(u){$(a,u),r=!1},d(u){u&&E(e),a&&a.d(u),o=!1,s()}}}function vt(t){let e,n,l=t[0]&&ke(t);return{c(){l&&l.c(),e=Oe()},m(i,r){l&&l.m(i,r),A(i,e,r),n=!0},p(i,[r]){i[0]?l?(l.p(i,r),r&1&&b(l,1)):(l=ke(i),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(X(),$(l,1,1,()=>{l=null}),G())},i(i){n||(b(l),n=!0)},o(i){$(l),n=!1},d(i){l&&l.d(i),i&&E(e)}}}function yt(t,e,n){let{$$slots:l={},$$scope:i}=e,{show_modal:r=!1}=e;const o=()=>n(0,r=!1);return t.$$set=s=>{"show_modal"in s&&n(0,r=s.show_modal),"$$scope"in s&&n(1,i=s.$$scope)},[r,i,l,o]}class $t extends q{constructor(e){super(),F(this,e,yt,vt,I,{show_modal:0})}}function kt(t){let e,n,l,i,r,o;return{c(){e=g("h1"),e.textContent="You have unsaved work!",n=j(),l=g("h3"),i=H("Your changes to "),r=H(t[1]),o=H(" will be lost if you don't save them.")},m(s,c){A(s,e,c),A(s,n,c),A(s,l,c),h(l,i),h(l,r),h(l,o)},p(s,c){c&2&&K(r,s[1])},d(s){s&&E(e),s&&E(n),s&&E(l)}}}function Et(t){let e,n,l,i,r,o,s,c,a,u,p,_,f,d,w;l=new fe({props:{text:"\uEA7F",title:"New"}}),l.$on("click",t[4]),r=new fe({props:{text:"\uEB4B",title:"Save"}}),r.$on("click",t[3]),s=new fe({props:{text:"\uEAF7",title:"Open"}}),s.$on("fileOpen",t[5]);function M(y){t[8](y)}let z={$$slots:{default:[kt]},$$scope:{ctx:t}};return t[2]!==void 0&&(z.show_modal=t[2]),p=new $t({props:z}),de.push(()=>xe(p,"show_modal",M)),{c(){e=g("div"),n=g("div"),D(l.$$.fragment),i=j(),D(r.$$.fragment),o=j(),D(s.$$.fragment),c=j(),a=g("textarea"),u=j(),D(p.$$.fragment),m(n,"class","toolbar svelte-aninbu"),m(a,"wrap",Mt),m(a,"class","svelte-aninbu"),m(e,"class","window-container svelte-aninbu")},m(y,W){A(y,e,W),h(e,n),S(l,n,null),h(n,i),S(r,n,null),h(n,o),S(s,n,null),h(e,c),h(e,a),se(a,t[0]),h(e,u),S(p,e,null),f=!0,d||(w=T(a,"input",t[7]),d=!0)},p(y,[W]){W&1&&se(a,y[0]);const N={};W&2050&&(N.$$scope={dirty:W,ctx:y}),!_&&W&4&&(_=!0,N.show_modal=y[2],Xe(()=>_=!1)),p.$set(N)},i(y){f||(b(l.$$.fragment,y),b(r.$$.fragment,y),b(s.$$.fragment,y),b(p.$$.fragment,y),f=!0)},o(y){$(l.$$.fragment,y),$(r.$$.fragment,y),$(s.$$.fragment,y),$(p.$$.fragment,y),f=!1},d(y){y&&E(e),O(l),O(r),O(s),O(p),d=!1,w()}}}let Mt="off";function At(t,e,n){let l,i=new FileReader,r,o,s="Untitled.txt",c=!1;const a=()=>{let d=r,w=document.createElement("a"),M=new Blob([d],{type:"text/plain"});w.href=window.URL.createObjectURL(M),w.download=s,w.click(),l=!0},u=()=>{l?n(0,r=""):n(2,c=!0)},p=d=>{let w=d.detail.files[0];i.onload=()=>{n(0,r=n(6,o=i.result.toString()))},i.readAsText(w),n(1,s=w.name)};function _(){r=this.value,n(0,r)}function f(d){c=d,n(2,c)}return t.$$.update=()=>{t.$$.dirty&65&&(l=o==r)},[r,s,c,a,u,p,o,_,f]}class Wt extends q{constructor(e){super(),F(this,e,At,Et,I,{})}}function Ee(t){let e;return{c(){e=g("div"),e.innerHTML="<h2>Click &quot;Allow&quot; in the browser prompt to use your camera.</h2>",m(e,"class","grant-permission svelte-ujczn")},m(n,l){A(n,e,l)},d(n){n&&E(e)}}}function Lt(t){let e,n,l,i,r,o,s,c,a,u=!t[0]&&Ee();return{c(){e=g("div"),n=g("div"),l=g("video"),i=j(),u&&u.c(),r=j(),o=g("div"),s=g("button"),s.textContent="\uEADA",m(l,"id",t[1]),m(l,"class","svelte-ujczn"),m(n,"class","video-container svelte-ujczn"),m(s,"class","photo-btn svelte-ujczn"),m(o,"class","controls svelte-ujczn"),m(e,"class","window-container svelte-ujczn")},m(p,_){A(p,e,_),h(e,n),h(n,l),h(n,i),u&&u.m(n,null),h(e,r),h(e,o),h(o,s),c||(a=T(s,"click",t[2]),c=!0)},p(p,[_]){p[0]?u&&(u.d(1),u=null):u||(u=Ee(),u.c(),u.m(n,null))},i:C,o:C,d(p){p&&E(e),u&&u.d(),c=!1,a()}}}function jt(t,e,n){let l=he("window_id")+"video",i=!1;return navigator.mediaDevices.getUserMedia({audio:!1,video:{width:1e3,height:560}}).then(o=>{n(0,i=!0);let s=document.getElementById(l);console.log(l),s.srcObject=o,s.onloadedmetadata=()=>{s.play()}}).catch(o=>{console.log(o)}),[i,l,()=>{let o=document.getElementById(l);const s=document.createElement("canvas");s.width=o.videoWidth,s.height=o.videoHeight,s.getContext("2d").drawImage(o,0,0,s.width,s.height);let a=document.createElement("a");s.toBlob(u=>{a.href=URL.createObjectURL(u),a.download="picture.png",a.click()})}]}class Ct extends q{constructor(e){super(),F(this,e,jt,Lt,I,{})}}function Tt(t){let e,n;return e=new Ct({}),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function St(t){let e,n;return e=new Wt({}),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function Ot(t){let e,n;return e=new mt({}),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function Bt(t){let e,n;return e=new ut({}),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function Dt(t){let e,n;return e=new _t({}),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function It(t){let e,n,l,i,r,o,s,c,a,u,p,_,f,d,w,M,z;const y=[Dt,Bt,Ot,St,Tt],W=[];function N(k,v){return k[0]==="Files"?0:k[0]==="Alacritty"?1:k[0]==="Settings"?2:k[0]==="Text Editor"?3:k[0]==="Camera"?4:-1}return~(f=N(t))&&(d=W[f]=y[f](t)),{c(){e=g("div"),n=g("div"),l=g("button"),i=j(),r=g("button"),o=j(),s=g("button"),c=j(),a=g("div"),u=H(t[0]),_=j(),d&&d.c(),m(l,"class","titlebar-btn close-btn svelte-lqsrh8"),m(r,"class","titlebar-btn maximize-btn svelte-lqsrh8"),m(s,"class","titlebar-btn minimize-btn svelte-lqsrh8"),m(a,"class","window-title svelte-lqsrh8"),m(n,"class","window-titlebar svelte-lqsrh8"),m(n,"id",p=`${t[1]}titlebar`),m(e,"id",t[1]),m(e,"class","window svelte-lqsrh8"),U(e,"top",t[8]),U(e,"left",t[7]),U(e,"height",t[6]),U(e,"width",t[5]),we(e,"focused",t[2])},m(k,v){A(k,e,v),h(e,n),h(n,l),h(n,i),h(n,r),h(n,o),h(n,s),h(n,c),h(n,a),h(a,u),h(e,_),~f&&W[f].m(e,null),w=!0,M||(z=[T(l,"click",t[13]),T(r,"click",t[14]),T(s,"click",t[15]),T(n,"mousedown",t[16]),T(e,"mousedown",t[17])],M=!0)},p(k,[v]){(!w||v&1)&&K(u,k[0]),(!w||v&2&&p!==(p=`${k[1]}titlebar`))&&m(n,"id",p);let B=f;f=N(k),f!==B&&(d&&(X(),$(W[B],1,1,()=>{W[B]=null}),G()),~f?(d=W[f],d||(d=W[f]=y[f](k),d.c()),b(d,1),d.m(e,null)):d=null),(!w||v&2)&&m(e,"id",k[1]),(!w||v&256)&&U(e,"top",k[8]),(!w||v&128)&&U(e,"left",k[7]),(!w||v&64)&&U(e,"height",k[6]),(!w||v&32)&&U(e,"width",k[5]),(!w||v&4)&&we(e,"focused",k[2])},i(k){w||(b(d),w=!0)},o(k){$(d),w=!1},d(k){k&&E(e),~f&&W[f].d(),M=!1,J(z)}}}function Ft(t,e,n){let l,i,r,o,s=V(),{app:c}=e,{number:a}=e,{focused:u}=e,{initalTop:p}=e,{initalLeft:_}=e;Be("window_id",a);let f=!1,d=!0;var w=0,M=0,z=0,y=0;let W;function N(L){W=document.getElementById(a),s("focusWindow",a),L=L,z=L.clientX,y=L.clientY,document.onmouseup=v,document.onmousemove=k}function k(L){L=L,L.preventDefault(),w=z-L.clientX,M=y-L.clientY,z=L.clientX,y=L.clientY,W.style.top=W.offsetTop-M+"px",W.style.left=W.offsetLeft-w+"px"}function v(){document.onmouseup=null,document.onmousemove=null,s("windowMoved",{number:a,top:W.style.top,left:W.style.left})}const B=()=>s("closeWindow",{number:a}),P=()=>{n(4,d=!1),n(3,f=!0)},Y=()=>{n(3,f=!1),n(4,d=!0)},Ie=L=>N(L),Fe=()=>s("focusWindow",a);return t.$$set=L=>{"app"in L&&n(0,c=L.app),"number"in L&&n(1,a=L.number),"focused"in L&&n(2,u=L.focused),"initalTop"in L&&n(11,p=L.initalTop),"initalLeft"in L&&n(12,_=L.initalLeft)},t.$$.update=()=>{t.$$.dirty&2056&&n(8,l=f?"22px":p),t.$$.dirty&4104&&n(7,i=f?"0px":_),t.$$.dirty&8&&n(6,r=f?"calc(100% - 62px)":"750px"),t.$$.dirty&8&&n(5,o=f?"100%":"1000px")},[c,a,u,f,d,o,r,i,l,s,N,p,_,B,P,Y,Ie,Fe]}class qt extends q{constructor(e){super(),F(this,e,Ft,It,I,{app:0,number:1,focused:2,initalTop:11,initalLeft:12})}}function zt(t){let e,n,l,i,r,o,s,c;return{c(){e=g("div"),n=g("img"),i=j(),r=g("br"),o=H(t[0]),oe(n.src,l="/Nexion/src/assets/icons/apps/"+t[0].toLowerCase()+".svg")||m(n,"src",l),m(n,"alt",t[0]),m(e,"class","applications-menu-app svelte-1sjgoao"),m(e,"title",t[0])},m(a,u){A(a,e,u),h(e,n),h(e,i),h(e,r),h(e,o),s||(c=T(e,"click",t[2]),s=!0)},p(a,[u]){u&1&&!oe(n.src,l="/Nexion/src/assets/icons/apps/"+a[0].toLowerCase()+".svg")&&m(n,"src",l),u&1&&m(n,"alt",a[0]),u&1&&K(o,a[0]),u&1&&m(e,"title",a[0])},i:C,o:C,d(a){a&&E(e),s=!1,c()}}}function Nt(t,e,n){const l=V();let{app:i}=e;const r=()=>{l("newWindow",{app:i,focused:!0})};return t.$$set=o=>{"app"in o&&n(0,i=o.app)},[i,l,r]}class Pt extends q{constructor(e){super(),F(this,e,Nt,zt,I,{app:0})}}function Ht(t){let e,n,l;return{c(){e=g("input"),m(e,"type","text"),m(e,"id","applications-menu-search"),m(e,"placeholder","Search..."),m(e,"class","svelte-nrj43d")},m(i,r){A(i,e,r),se(e,t[0]),n||(l=[T(e,"input",t[3]),T(e,"keyup",t[1])],n=!0)},p(i,[r]){r&1&&e.value!==i[0]&&se(e,i[0])},i:C,o:C,d(i){i&&E(e),n=!1,J(l)}}}function Ut(t,e){return t.indexOf(e)!=-1}function Jt(t,e,n){let l,{apps_list:i}=e;const r=V();let o="";function s(a){if(a.key=="Escape"){r("closeApplicationMenu");return}l==""&&r("showApps",i);let u=[];for(let p of i)Ut(p.toLowerCase(),l)&&u.push(p);r("showApps",u)}function c(){o=this.value,n(0,o)}return t.$$set=a=>{"apps_list"in a&&n(2,i=a.apps_list)},t.$$.update=()=>{t.$$.dirty&1&&(l=o.trim().toLocaleLowerCase())},[o,s,i,c]}class Rt extends q{constructor(e){super(),F(this,e,Jt,Ht,I,{apps_list:2})}}function Me(t,e,n){const l=t.slice();return l[5]=e[n],l}function Ae(t){let e,n;return e=new Pt({props:{app:t[5]}}),e.$on("newWindow",t[4]),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.app=l[5]),e.$set(r)},i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function Yt(t){let e,n,l,i,r,o,s,c;n=new Rt({props:{apps_list:t[1]}}),n.$on("closeApplicationMenu",t[3]),n.$on("showApps",t[2]);let a=t[0],u=[];for(let _=0;_<a.length;_+=1)u[_]=Ae(Me(t,a,_));const p=_=>$(u[_],1,1,()=>{u[_]=null});return{c(){e=g("div"),D(n.$$.fragment),l=j(),i=g("br"),r=g("br"),o=j(),s=g("div");for(let _=0;_<u.length;_+=1)u[_].c();m(s,"id","apps-container"),m(s,"class","svelte-hqyyom"),m(e,"id","applications-menu"),m(e,"class","svelte-hqyyom")},m(_,f){A(_,e,f),S(n,e,null),h(e,l),h(e,i),h(e,r),h(e,o),h(e,s);for(let d=0;d<u.length;d+=1)u[d].m(s,null);c=!0},p(_,[f]){if(f&1){a=_[0];let d;for(d=0;d<a.length;d+=1){const w=Me(_,a,d);u[d]?(u[d].p(w,f),b(u[d],1)):(u[d]=Ae(w),u[d].c(),b(u[d],1),u[d].m(s,null))}for(X(),d=a.length;d<u.length;d+=1)p(d);G()}},i(_){if(!c){b(n.$$.fragment,_);for(let f=0;f<a.length;f+=1)b(u[f]);c=!0}},o(_){$(n.$$.fragment,_),u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)$(u[f]);c=!1},d(_){_&&E(e),O(n),ce(u,_)}}}function Kt(t,e,n){let l=he("apps_list"),i=JSON.parse(JSON.stringify(l));function r(c){n(0,i=c.detail)}Ye(()=>{document.getElementById("applications-menu-search").focus()});function o(c){re.call(this,t,c)}function s(c){re.call(this,t,c)}return[i,l,r,o,s]}class Vt extends q{constructor(e){super(),F(this,e,Kt,Yt,I,{})}}function We(t){let e,n;return e=new Vt({}),e.$on("closeApplicationMenu",t[4]),e.$on("newWindow",t[5]),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},p:C,i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function Xt(t){let e,n,l,i,r,o,s,c,a,u,p,_=t[0]&&We(t);return{c(){e=g("div"),n=g("span"),n.textContent="Applications",l=j(),_&&_.c(),i=j(),r=g("span"),o=H(t[1]),s=j(),c=g("span"),c.textContent="\uF1EB \uF028 \uF240",m(n,"id","applications-menu-launcher"),m(n,"class","svelte-1mspgo8"),m(r,"id","date-time"),m(r,"class","svelte-1mspgo8"),m(c,"id","sys-tray"),m(c,"class","svelte-1mspgo8"),m(e,"id","topbar"),m(e,"class","svelte-1mspgo8")},m(f,d){A(f,e,d),h(e,n),h(e,l),_&&_.m(e,null),h(e,i),h(e,r),h(r,o),h(e,s),h(e,c),a=!0,u||(p=T(n,"click",t[3]),u=!0)},p(f,[d]){f[0]?_?(_.p(f,d),d&1&&b(_,1)):(_=We(f),_.c(),b(_,1),_.m(e,i)):_&&(X(),$(_,1,1,()=>{_=null}),G()),(!a||d&2)&&K(o,f[1])},i(f){a||(b(_),a=!0)},o(f){$(_),a=!1},d(f){f&&E(e),_&&_.d(),u=!1,p()}}}function Gt(t,e,n){let l=V(),i;const r=["January","February","March","April","May","June","July","August","September","October","November","December"];function o(){const p=new Date;let _=p.getHours(),f=p.getSeconds()<10?`0${p.getSeconds()}`:p.getSeconds(),d=p.getMinutes()<10?`0${p.getMinutes()}`:p.getMinutes();p.getHours()<12;let w=p.getDay(),M;switch(w){case 0:M="Sun";break;case 1:M="Mon";break;case 2:M="Tue";break;case 3:M="Wed";break;case 4:M="Thu";break;case 5:M="Fri";break;case 6:M="Sat";break}n(1,i=`${M} ${r[p.getMonth()].slice(0,3)} ${p.getDate()} ${_}:${d}:${f}`)}o(),setInterval(o,1e3);let{applications_menu_show:s=!1}=e;console.log(s);const c=()=>{n(0,s=!s)},a=()=>{n(0,s=!1)},u=p=>{n(0,s=!1),l("newWindow",p.detail)};return t.$$set=p=>{"applications_menu_show"in p&&n(0,s=p.applications_menu_show)},[s,i,l,c,a,u]}class Qt extends q{constructor(e){super(),F(this,e,Gt,Xt,I,{applications_menu_show:0})}}function Le(t,e,n){const l=t.slice();return l[10]=e[n],l}function je(t){let e,n;return e=new qt({props:{app:t[10].app,number:t[10].number,focused:t[10].focused,initalTop:t[10].top,initalLeft:t[10].left}}),e.$on("focusWindow",t[4]),e.$on("closeWindow",t[6]),e.$on("windowMoved",t[5]),{c(){D(e.$$.fragment)},m(l,i){S(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.app=l[10].app),i&1&&(r.number=l[10].number),i&1&&(r.focused=l[10].focused),i&1&&(r.initalTop=l[10].top),i&1&&(r.initalLeft=l[10].left),e.$set(r)},i(l){n||(b(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function Zt(t){let e,n,l,i,r,o;n=new Qt({props:{applications_menu_show:t[1]}}),n.$on("newWindow",t[2]),i=new st({}),i.$on("newWindow",t[2]);let s=t[0],c=[];for(let u=0;u<s.length;u+=1)c[u]=je(Le(t,s,u));const a=u=>$(c[u],1,1,()=>{c[u]=null});return{c(){e=g("div"),D(n.$$.fragment),l=j(),D(i.$$.fragment),r=j();for(let u=0;u<c.length;u+=1)c[u].c();m(e,"id","container")},m(u,p){A(u,e,p),S(n,e,null),h(e,l),S(i,e,null),h(e,r);for(let _=0;_<c.length;_+=1)c[_].m(e,null);o=!0},p(u,[p]){const _={};if(p&2&&(_.applications_menu_show=u[1]),n.$set(_),p&57){s=u[0];let f;for(f=0;f<s.length;f+=1){const d=Le(u,s,f);c[f]?(c[f].p(d,p),b(c[f],1)):(c[f]=je(d),c[f].c(),b(c[f],1),c[f].m(e,null))}for(X(),f=s.length;f<c.length;f+=1)a(f);G()}},i(u){if(!o){b(n.$$.fragment,u),b(i.$$.fragment,u);for(let p=0;p<s.length;p+=1)b(c[p]);o=!0}},o(u){$(n.$$.fragment,u),$(i.$$.fragment,u),c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)$(c[p]);o=!1},d(u){u&&E(e),O(n),O(i),ce(c,u)}}}function xt(t,e,n){Be("apps_list",["Files","Firefox","Alacritty","Camera","Pycharm Community Edition","Text Editor","Visual Studio Code"]);let i=[],r=[],o=!1;function s(f){n(1,o=!1),console.log(o);let d=f.detail;for(;;){if(d.number=Math.floor(Math.random()*1e3),i.length==0){i=[...i,d.number];break}if(i.indexOf(d.number)==-1)break}d.top="100px",d.left="100px",n(0,r=[...r,d]),a({detail:d.number})}function c(f){for(var d=0;d<r.length;d++)r[d].number===f&&(r.splice(d,1),n(0,r))}function a(f){let d=f.detail;for(let w of r)w.focused=!1;for(let w of r)w.number==d&&(w.focused=!0);n(0,r)}function u(f){for(const d of r)if(d.number==f)return d}function p(f){let d=f.detail.top,w=f.detail.left,M=u(f.detail.number);M.top=d,M.left=w}return[r,o,s,c,a,p,f=>c(f.detail.number)]}class en extends q{constructor(e){super(),F(this,e,xt,Zt,I,{})}}new en({target:document.getElementById("app")});
