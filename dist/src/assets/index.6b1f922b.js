(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function j(){}function qe(n,e){for(const t in e)n[t]=e[t];return n}function Le(n){return n()}function ge(){return Object.create(null)}function x(n){n.forEach(Le)}function Ce(n){return typeof n=="function"}function O(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let ne;function ee(n,e){return ne||(ne=document.createElement("a")),ne.href=e,n===ne.href}function ze(n){return Object.keys(n).length===0}function Ne(n,e,t,l){if(n){const i=De(n,e,t,l);return n[0](i)}}function De(n,e,t,l){return n[1]&&l?qe(t.ctx.slice(),n[1](l(e))):t.ctx}function Pe(n,e,t,l){if(n[2]&&l){const i=n[2](l(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let r=0;r<o;r+=1)s[r]=e.dirty[r]|i[r];return s}return e.dirty|i}return e.dirty}function He(n,e,t,l,i,s){if(i){const o=De(e,t,l,s);n.p(o,i)}}function Ue(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function h(n,e){n.appendChild(e)}function A(n,e,t){n.insertBefore(e,t||null)}function y(n){n.parentNode.removeChild(n)}function ce(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function g(n){return document.createElement(n)}function U(n){return document.createTextNode(n)}function L(){return U(" ")}function Te(){return U("")}function T(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function xe(n){return Array.from(n.childNodes)}function Y(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function se(n,e){n.value=e==null?"":e}function H(n,e,t,l){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,l?"important":"")}function we(n,e,t){n.classList[t?"add":"remove"](e)}function Je(n,e,{bubbles:t=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,l,e),i}let te;function Z(n){te=n}function ae(){if(!te)throw new Error("Function called outside component initialization");return te}function Re(n){ae().$$.on_mount.push(n)}function V(){const n=ae();return(e,t,{cancelable:l=!1}={})=>{const i=n.$$.callbacks[e];if(i){const s=Je(e,t,{cancelable:l});return i.slice().forEach(o=>{o.call(n,s)}),!s.defaultPrevented}return!0}}function Se(n,e){return ae().$$.context.set(n,e),e}function he(n){return ae().$$.context.get(n)}function re(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Q=[],de=[],ie=[],pe=[],Ye=Promise.resolve();let _e=!1;function Ve(){_e||(_e=!0,Ye.then(Fe))}function me(n){ie.push(n)}function Ke(n){pe.push(n)}const ue=new Set;let le=0;function Fe(){const n=te;do{for(;le<Q.length;){const e=Q[le];le++,Z(e),Xe(e.$$)}for(Z(null),Q.length=0,le=0;de.length;)de.pop()();for(let e=0;e<ie.length;e+=1){const t=ie[e];ue.has(t)||(ue.add(t),t())}ie.length=0}while(Q.length);for(;pe.length;)pe.pop()();_e=!1,ue.clear(),Z(n)}function Xe(n){if(n.fragment!==null){n.update(),x(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(me)}}const oe=new Set;let J;function K(){J={r:0,c:[],p:J}}function X(){J.r||x(J.c),J=J.p}function b(n,e){n&&n.i&&(oe.delete(n),n.i(e))}function k(n,e,t,l){if(n&&n.o){if(oe.has(n))return;oe.add(n),J.c.push(()=>{oe.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}function Ge(n,e){n.d(1),e.delete(n.key)}function Qe(n,e,t,l,i,s,o,r,c,u,a,p){let _=n.length,f=s.length,d=_;const w={};for(;d--;)w[n[d].key]=d;const E=[],z=new Map,$=new Map;for(d=f;d--;){const v=p(i,s,d),F=t(v);let P=o.get(F);P?l&&P.p(v,e):(P=u(F,v),P.c()),z.set(F,E[d]=P),F in w&&$.set(F,Math.abs(d-w[F]))}const B=new Set,N=new Set;function M(v){b(v,1),v.m(r,a),o.set(v.key,v),a=v.first,f--}for(;_&&f;){const v=E[f-1],F=n[_-1],P=v.key,R=F.key;v===F?(a=v.first,_--,f--):z.has(R)?!o.has(P)||B.has(P)?M(v):N.has(R)?_--:$.get(P)>$.get(R)?(N.add(P),M(v)):(B.add(R),_--):(c(F,o),_--)}for(;_--;){const v=n[_];z.has(v.key)||c(v,o)}for(;f;)M(E[f-1]);return E}function Ze(n,e,t){const l=n.$$.props[e];l!==void 0&&(n.$$.bound[l]=t,t(n.$$.ctx[l]))}function S(n){n&&n.c()}function C(n,e,t,l){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),l||me(()=>{const o=n.$$.on_mount.map(Le).filter(Ce);n.$$.on_destroy?n.$$.on_destroy.push(...o):x(o),n.$$.on_mount=[]}),s.forEach(me)}function D(n,e){const t=n.$$;t.fragment!==null&&(x(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function et(n,e){n.$$.dirty[0]===-1&&(Q.push(n),Ve(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function I(n,e,t,l,i,s,o,r=[-1]){const c=te;Z(n);const u=n.$$={fragment:null,ctx:[],props:s,update:j,not_equal:i,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ge(),dirty:r,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);let a=!1;if(u.ctx=t?t(n,e.props||{},(p,_,...f)=>{const d=f.length?f[0]:_;return u.ctx&&i(u.ctx[p],u.ctx[p]=d)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](d),a&&et(n,p)),_}):[],u.update(),a=!0,x(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const p=xe(e.target);u.fragment&&u.fragment.l(p),p.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&b(n.$$.fragment),C(n,e.target,e.anchor,e.customElement),Fe()}Z(c)}class q{$destroy(){D(this,1),this.$destroy=j}$on(e,t){if(!Ce(t))return j;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const i=l.indexOf(t);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!ze(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function tt(n){let e,t,l,i,s;return{c(){e=g("span"),t=g("img"),ee(t.src,l=`/Nexion/src/assets/icons/apps/${n[0].toLowerCase()}.svg`)||m(t,"src",l),m(t,"alt",n[0]),m(t,"class","dock-item-icon svelte-1kztcyd"),m(e,"class","dock-item svelte-1kztcyd")},m(o,r){A(o,e,r),h(e,t),i||(s=T(e,"click",n[2]),i=!0)},p(o,[r]){r&1&&!ee(t.src,l=`/Nexion/src/assets/icons/apps/${o[0].toLowerCase()}.svg`)&&m(t,"src",l),r&1&&m(t,"alt",o[0])},i:j,o:j,d(o){o&&y(e),i=!1,s()}}}function nt(n,e,t){let l=V(),{app:i}=e;const s=()=>{l("newWindow",{app:i,focused:!0})};return n.$$set=o=>{"app"in o&&t(0,i=o.app)},[i,l,s]}class lt extends q{constructor(e){super(),I(this,e,nt,tt,O,{app:0})}}function be(n,e,t){const l=n.slice();return l[2]=e[t],l}function ve(n){let e,t;return e=new lt({props:{app:n[2]}}),e.$on("newWindow",n[1]),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},p:j,i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function it(n){let e,t,l=n[0],i=[];for(let o=0;o<l.length;o+=1)i[o]=ve(be(n,l,o));const s=o=>k(i[o],1,1,()=>{i[o]=null});return{c(){e=g("div");for(let o=0;o<i.length;o+=1)i[o].c();m(e,"id","dock"),m(e,"class","panel-dock svelte-14fgh07")},m(o,r){A(o,e,r);for(let c=0;c<i.length;c+=1)i[c].m(e,null);t=!0},p(o,[r]){if(r&1){l=o[0];let c;for(c=0;c<l.length;c+=1){const u=be(o,l,c);i[c]?(i[c].p(u,r),b(i[c],1)):(i[c]=ve(u),i[c].c(),b(i[c],1),i[c].m(e,null))}for(K(),c=l.length;c<i.length;c+=1)s(c);X()}},i(o){if(!t){for(let r=0;r<l.length;r+=1)b(i[r]);t=!0}},o(o){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)k(i[r]);t=!1},d(o){o&&y(e),ce(i,o)}}}function ot(n){let e=["Files","Firefox","Alacritty","Pycharm Community Edition","Visual Studio Code"];function t(l){re.call(this,n,l)}return[e,t]}class st extends q{constructor(e){super(),I(this,e,ot,it,O,{})}}function ye(n,e,t){const l=n.slice();return l[3]=e[t],l}function $e(n,e){let t,l=e[3].output+"",i,s,o,r,c,u,a,p;function _(...f){return e[2](e[3],...f)}return{key:n,first:null,c(){t=g("div"),s=L(),o=g("input"),m(t,"id",i="output"+e[3].id),m(t,"class","shell-output svelte-ox6ijp"),m(o,"id",r="prompt"+e[3].id),o.disabled=c=e[3].disabled,o.value=u=e[3].text,m(o,"type","text"),m(o,"class","shell-prompt svelte-ox6ijp"),this.first=t},m(f,d){A(f,t,d),t.innerHTML=l,A(f,s,d),A(f,o,d),a||(p=T(o,"keyup",_),a=!0)},p(f,d){e=f,d&1&&l!==(l=e[3].output+"")&&(t.innerHTML=l),d&1&&i!==(i="output"+e[3].id)&&m(t,"id",i),d&1&&r!==(r="prompt"+e[3].id)&&m(o,"id",r),d&1&&c!==(c=e[3].disabled)&&(o.disabled=c),d&1&&u!==(u=e[3].text)&&o.value!==u&&(o.value=u)},d(f){f&&y(t),f&&y(s),f&&y(o),a=!1,p()}}}function rt(n){let e,t=[],l=new Map,i=n[0];const s=o=>o[3].id;for(let o=0;o<i.length;o+=1){let r=ye(n,i,o),c=s(r);l.set(c,t[o]=$e(c,r))}return{c(){e=g("div");for(let o=0;o<t.length;o+=1)t[o].c();m(e,"class","window-container svelte-ox6ijp")},m(o,r){A(o,e,r);for(let c=0;c<t.length;c+=1)t[c].m(e,null)},p(o,[r]){r&3&&(i=o[0],t=Qe(t,r,s,1,o,i,l,e,Ge,$e,null,ye))},i:j,o:j,d(o){o&&y(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}let G="~ $ ";function ct(n,e,t){let l=[{id:0,text:G,disabled:!1,output:""}];function i(o,r){if(o.key=="Enter"){let c="",u=o.target.value.trim();u===`${G}sudo rm -rf /`?c="rm: it is dangerous to operate recursively on '/'<br>rm: use --no-preserve-root to override this failsafe":u===`${G}sudo rm -rf / --no-preserve-root`?document.body.innerHTML="":u===`${G}ls`&&(c='<pre><span style="color:#9B6BDF; font-weight: bold;">Desktop</span>   <span style="color:#9B6BDF; font-weight: bold;">Downloads</span>   <span style="color:#9B6BDF; font-weight: bold;">Music</span>   <span style="color:#9B6BDF; font-weight: bold;">Pictures</span>   <span style="color:#9B6BDF; font-weight: bold;">Templates</span>   <span style="color:#9B6BDF; font-weight: bold;">Documents</span>   <span style="color:#9B6BDF; font-weight: bold;">Public</span>   <span style="color:#9B6BDF; font-weight: bold;">Videos</span></pre>');let a={id:l.length,text:G,disabled:!1,output:c};l.at(-1).disabled=!0,l.push(a),t(0,l),setTimeout(()=>{document.getElementById("prompt"+a.id).focus()},20)}else o.key==="ArrowUp"&&(o.preventDefault(),l.length!=1&&(t(0,l[r].text=document.getElementById("prompt"+(r-1)).value,l),console.log(l[r].text),t(0,l)))}return[l,i,(o,r)=>i(r,o.id)]}class at extends q{constructor(e){super(),I(this,e,ct,rt,O,{})}}function ut(n,e,t){const l=n.slice();return l[1]=e[t],l}function ft(n){let e;return{c(){e=g("span"),m(e,"class","folder-icon svelte-1jy8t44")},m(t,l){A(t,e,l)},p:j,d(t){t&&y(e)}}}function dt(n){let e,t,l,i,s=n[0],o=[];for(let r=0;r<s.length;r+=1)o[r]=ft(ut(n,s,r));return{c(){e=g("div"),t=g("div"),t.innerHTML=`<div class="files-sidebar-link svelte-1jy8t44">\uF7DB Home <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF6C3 Desktop <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF718 Documents <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF6D9 Downloads <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF1C5 Pictures <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uFA66 Videos <br/></div> 
        <div class="files-sidebar-link svelte-1jy8t44">\uF014 Trash <br/></div>`,l=L(),i=g("div");for(let r=0;r<o.length;r+=1)o[r].c();m(t,"class","sidebar svelte-1jy8t44"),m(i,"class","main-content svelte-1jy8t44"),m(e,"class","window-container svelte-1jy8t44")},m(r,c){A(r,e,c),h(e,t),h(e,l),h(e,i);for(let u=0;u<o.length;u+=1)o[u].m(i,null)},p:j,i:j,o:j,d(r){r&&y(e),ce(o,r)}}}function pt(n){return[Array(20).fill(0)]}class _t extends q{constructor(e){super(),I(this,e,pt,dt,O,{})}}class mt extends q{constructor(e){super(),I(this,e,null,null,O,{})}}function ht(n){let e,t,l,i,s,o;return{c(){e=g("input"),t=L(),l=g("label"),i=U(n[0]),m(e,"type","file"),m(e,"id",n[4]),H(e,"display","none"),m(l,"for",n[4]),m(l,"class","svelte-193v6ke")},m(r,c){A(r,e,c),A(r,t,c),A(r,l,c),h(l,i),s||(o=[T(e,"change",n[6]),T(e,"change",n[7])],s=!0)},p(r,c){c&1&&Y(i,r[0])},d(r){r&&y(e),r&&y(t),r&&y(l),s=!1,x(o)}}}function gt(n){let e,t,l,i;return{c(){e=g("button"),t=U(n[0]),m(e,"title",n[1]),m(e,"class","svelte-193v6ke")},m(s,o){A(s,e,o),h(e,t),l||(i=T(e,"click",n[5]),l=!0)},p(s,o){o&1&&Y(t,s[0]),o&2&&m(e,"title",s[1])},d(s){s&&y(e),l=!1,i()}}}function wt(n){let e;function t(s,o){return s[1]!=="Open"?gt:ht}let l=t(n),i=l(n);return{c(){i.c(),e=Te()},m(s,o){i.m(s,o),A(s,e,o)},p(s,[o]){l===(l=t(s))&&i?i.p(s,o):(i.d(1),i=l(s),i&&(i.c(),i.m(e.parentNode,e)))},i:j,o:j,d(s){i.d(s),s&&y(e)}}}function bt(n,e,t){let{text:l}=e,{title:i}=e;const s=V();let o;const r=he("window_id")+"file_input";function c(p){re.call(this,n,p)}const u=()=>{t(2,o=document.getElementById(r).files),s("fileOpen",{files:o})};function a(){o=this.files,t(2,o)}return n.$$set=p=>{"text"in p&&t(0,l=p.text),"title"in p&&t(1,i=p.title)},[l,i,o,s,r,c,u,a]}class fe extends q{constructor(e){super(),I(this,e,bt,wt,O,{text:0,title:1})}}function ke(n){let e,t,l,i,s,o,r;const c=n[2].default,u=Ne(c,n,n[1],null);return{c(){e=g("div"),t=g("div"),u&&u.c(),l=L(),i=g("button"),i.textContent="Close",m(t,"class","modal svelte-1a3y4ns"),m(e,"class","backdrop svelte-1a3y4ns")},m(a,p){A(a,e,p),h(e,t),u&&u.m(t,null),h(t,l),h(t,i),s=!0,o||(r=T(i,"click",n[3]),o=!0)},p(a,p){u&&u.p&&(!s||p&2)&&He(u,c,a,a[1],s?Pe(c,a[1],p,null):Ue(a[1]),null)},i(a){s||(b(u,a),s=!0)},o(a){k(u,a),s=!1},d(a){a&&y(e),u&&u.d(a),o=!1,r()}}}function vt(n){let e,t,l=n[0]&&ke(n);return{c(){l&&l.c(),e=Te()},m(i,s){l&&l.m(i,s),A(i,e,s),t=!0},p(i,[s]){i[0]?l?(l.p(i,s),s&1&&b(l,1)):(l=ke(i),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(K(),k(l,1,1,()=>{l=null}),X())},i(i){t||(b(l),t=!0)},o(i){k(l),t=!1},d(i){l&&l.d(i),i&&y(e)}}}function yt(n,e,t){let{$$slots:l={},$$scope:i}=e,{show_modal:s=!1}=e;const o=()=>t(0,s=!1);return n.$$set=r=>{"show_modal"in r&&t(0,s=r.show_modal),"$$scope"in r&&t(1,i=r.$$scope)},[s,i,l,o]}class $t extends q{constructor(e){super(),I(this,e,yt,vt,O,{show_modal:0})}}function kt(n){let e,t,l,i,s,o;return{c(){e=g("h1"),e.textContent="You have unsaved work!",t=L(),l=g("h3"),i=U("Your changes to "),s=U(n[1]),o=U(" will be lost if you don't save them.")},m(r,c){A(r,e,c),A(r,t,c),A(r,l,c),h(l,i),h(l,s),h(l,o)},p(r,c){c&2&&Y(s,r[1])},d(r){r&&y(e),r&&y(t),r&&y(l)}}}function At(n){let e,t,l,i,s,o,r,c,u,a,p,_,f,d,w;l=new fe({props:{text:"\uEA7F",title:"New"}}),l.$on("click",n[4]),s=new fe({props:{text:"\uEB4B",title:"Save"}}),s.$on("click",n[3]),r=new fe({props:{text:"\uEAF7",title:"Open"}}),r.$on("fileOpen",n[5]);function E($){n[8]($)}let z={$$slots:{default:[kt]},$$scope:{ctx:n}};return n[2]!==void 0&&(z.show_modal=n[2]),p=new $t({props:z}),de.push(()=>Ze(p,"show_modal",E)),{c(){e=g("div"),t=g("div"),S(l.$$.fragment),i=L(),S(s.$$.fragment),o=L(),S(r.$$.fragment),c=L(),u=g("textarea"),a=L(),S(p.$$.fragment),m(t,"class","toolbar svelte-aninbu"),m(u,"wrap",Mt),m(u,"class","svelte-aninbu"),m(e,"class","window-container svelte-aninbu")},m($,B){A($,e,B),h(e,t),C(l,t,null),h(t,i),C(s,t,null),h(t,o),C(r,t,null),h(e,c),h(e,u),se(u,n[0]),h(e,a),C(p,e,null),f=!0,d||(w=T(u,"input",n[7]),d=!0)},p($,[B]){B&1&&se(u,$[0]);const N={};B&2050&&(N.$$scope={dirty:B,ctx:$}),!_&&B&4&&(_=!0,N.show_modal=$[2],Ke(()=>_=!1)),p.$set(N)},i($){f||(b(l.$$.fragment,$),b(s.$$.fragment,$),b(r.$$.fragment,$),b(p.$$.fragment,$),f=!0)},o($){k(l.$$.fragment,$),k(s.$$.fragment,$),k(r.$$.fragment,$),k(p.$$.fragment,$),f=!1},d($){$&&y(e),D(l),D(s),D(r),D(p),d=!1,w()}}}let Mt="off";function Et(n,e,t){let l,i=new FileReader,s,o,r="Untitled.txt",c=!1;const u=()=>{let d=s,w=document.createElement("a"),E=new Blob([d],{type:"text/plain"});w.href=window.URL.createObjectURL(E),w.download=r,w.click(),l=!0},a=()=>{l?t(0,s=""):t(2,c=!0)},p=d=>{let w=d.detail.files[0];i.onload=()=>{t(0,s=t(6,o=i.result.toString()))},i.readAsText(w),t(1,r=w.name)};function _(){s=this.value,t(0,s)}function f(d){c=d,t(2,c)}return n.$$.update=()=>{n.$$.dirty&65&&(l=o==s)},[s,r,c,u,a,p,o,_,f]}class Bt extends q{constructor(e){super(),I(this,e,Et,At,O,{})}}function Ae(n){let e;return{c(){e=g("div"),e.innerHTML="<h2>Click &quot;Allow&quot; in the browser prompt to use your camera.</h2>",m(e,"class","grant-permission svelte-ujczn")},m(t,l){A(t,e,l)},d(t){t&&y(e)}}}function Wt(n){let e,t,l,i,s,o,r,c,u,a=!n[0]&&Ae();return{c(){e=g("div"),t=g("div"),l=g("video"),i=L(),a&&a.c(),s=L(),o=g("div"),r=g("button"),r.textContent="\uEADA",m(l,"id",n[1]),m(l,"class","svelte-ujczn"),m(t,"class","video-container svelte-ujczn"),m(r,"class","photo-btn svelte-ujczn"),m(o,"class","controls svelte-ujczn"),m(e,"class","window-container svelte-ujczn")},m(p,_){A(p,e,_),h(e,t),h(t,l),h(t,i),a&&a.m(t,null),h(e,s),h(e,o),h(o,r),c||(u=T(r,"click",n[2]),c=!0)},p(p,[_]){p[0]?a&&(a.d(1),a=null):a||(a=Ae(),a.c(),a.m(t,null))},i:j,o:j,d(p){p&&y(e),a&&a.d(),c=!1,u()}}}function jt(n,e,t){let l=he("window_id")+"video",i=!1;return navigator.mediaDevices.getUserMedia({audio:!1,video:{width:1e3,height:560}}).then(o=>{t(0,i=!0);let r=document.getElementById(l);console.log(l),r.srcObject=o,r.onloadedmetadata=()=>{r.play()}}).catch(o=>{console.log(o)}),[i,l,()=>{let o=document.getElementById(l);const r=document.createElement("canvas");r.width=o.videoWidth,r.height=o.videoHeight,r.getContext("2d").drawImage(o,0,0,r.width,r.height);let u=document.createElement("a");r.toBlob(a=>{u.href=URL.createObjectURL(a),u.download="picture.png",u.click()})}]}class Lt extends q{constructor(e){super(),I(this,e,jt,Wt,O,{})}}function Ct(n){let e;return{c(){e=g("div"),e.innerHTML='<iframe src="/Nexion/src/assets/Asteroids.html" title="Asteroids" frameborder="0" class="svelte-1witeso"></iframe>',m(e,"class","window-container svelte-1witeso")},m(t,l){A(t,e,l)},p:j,i:j,o:j,d(t){t&&y(e)}}}class Dt extends q{constructor(e){super(),I(this,e,null,Ct,O,{})}}function Tt(n){let e,t;return e=new Dt({}),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function St(n){let e,t;return e=new Lt({}),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function Ft(n){let e,t;return e=new Bt({}),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function Ot(n){let e,t;return e=new mt({}),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function It(n){let e,t;return e=new at({}),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function qt(n){let e,t;return e=new _t({}),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function zt(n){let e,t,l,i,s,o,r,c,u,a,p,_,f,d,w,E,z;const $=[qt,It,Ot,Ft,St,Tt],B=[];function N(M,v){return M[0]==="Files"?0:M[0]==="Alacritty"?1:M[0]==="Settings"?2:M[0]==="Text Editor"?3:M[0]==="Camera"?4:M[0]==="Asteroids"?5:-1}return~(f=N(n))&&(d=B[f]=$[f](n)),{c(){e=g("div"),t=g("div"),l=g("button"),i=L(),s=g("button"),o=L(),r=g("button"),c=L(),u=g("div"),a=U(n[0]),_=L(),d&&d.c(),m(l,"class","titlebar-btn close-btn svelte-lqsrh8"),m(s,"class","titlebar-btn maximize-btn svelte-lqsrh8"),m(r,"class","titlebar-btn minimize-btn svelte-lqsrh8"),m(u,"class","window-title svelte-lqsrh8"),m(t,"class","window-titlebar svelte-lqsrh8"),m(t,"id",p=`${n[1]}titlebar`),m(e,"id",n[1]),m(e,"class","window svelte-lqsrh8"),H(e,"top",n[8]),H(e,"left",n[7]),H(e,"height",n[6]),H(e,"width",n[5]),we(e,"focused",n[2])},m(M,v){A(M,e,v),h(e,t),h(t,l),h(t,i),h(t,s),h(t,o),h(t,r),h(t,c),h(t,u),h(u,a),h(e,_),~f&&B[f].m(e,null),w=!0,E||(z=[T(l,"click",n[13]),T(s,"click",n[14]),T(r,"click",n[15]),T(t,"mousedown",n[16]),T(e,"mousedown",n[17])],E=!0)},p(M,[v]){(!w||v&1)&&Y(a,M[0]),(!w||v&2&&p!==(p=`${M[1]}titlebar`))&&m(t,"id",p);let F=f;f=N(M),f!==F&&(d&&(K(),k(B[F],1,1,()=>{B[F]=null}),X()),~f?(d=B[f],d||(d=B[f]=$[f](M),d.c()),b(d,1),d.m(e,null)):d=null),(!w||v&2)&&m(e,"id",M[1]),(!w||v&256)&&H(e,"top",M[8]),(!w||v&128)&&H(e,"left",M[7]),(!w||v&64)&&H(e,"height",M[6]),(!w||v&32)&&H(e,"width",M[5]),(!w||v&4)&&we(e,"focused",M[2])},i(M){w||(b(d),w=!0)},o(M){k(d),w=!1},d(M){M&&y(e),~f&&B[f].d(),E=!1,x(z)}}}function Nt(n,e,t){let l,i,s,o,r=V(),{app:c}=e,{number:u}=e,{focused:a}=e,{initalTop:p}=e,{initalLeft:_}=e;Se("window_id",u);let f=!1,d=!0;var w=0,E=0,z=0,$=0;let B;function N(W){B=document.getElementById(u),r("focusWindow",u),W=W,z=W.clientX,$=W.clientY,document.onmouseup=v,document.onmousemove=M}function M(W){W=W,W.preventDefault(),w=z-W.clientX,E=$-W.clientY,z=W.clientX,$=W.clientY,B.style.top=B.offsetTop-E+"px",B.style.left=B.offsetLeft-w+"px"}function v(){document.onmouseup=null,document.onmousemove=null,r("windowMoved",{number:u,top:B.style.top,left:B.style.left})}const F=()=>r("closeWindow",{number:u}),P=()=>{t(4,d=!1),t(3,f=!0)},R=()=>{t(3,f=!1),t(4,d=!0)},Oe=W=>N(W),Ie=()=>r("focusWindow",u);return n.$$set=W=>{"app"in W&&t(0,c=W.app),"number"in W&&t(1,u=W.number),"focused"in W&&t(2,a=W.focused),"initalTop"in W&&t(11,p=W.initalTop),"initalLeft"in W&&t(12,_=W.initalLeft)},n.$$.update=()=>{n.$$.dirty&2056&&t(8,l=f?"22px":p),n.$$.dirty&4104&&t(7,i=f?"0px":_),n.$$.dirty&8&&t(6,s=f?"calc(100% - 62px)":"750px"),n.$$.dirty&8&&t(5,o=f?"100%":"1000px")},[c,u,a,f,d,o,s,i,l,r,N,p,_,F,P,R,Oe,Ie]}class Pt extends q{constructor(e){super(),I(this,e,Nt,zt,O,{app:0,number:1,focused:2,initalTop:11,initalLeft:12})}}function Ht(n){let e,t;return{c(){e=g("img"),ee(e.src,t="/Nexion/src/assets/icons/apps/asteroids.png")||m(e,"src",t),m(e,"alt",n[0]),H(e,"width","64px"),H(e,"height","54px"),H(e,"margin-bottom","10px")},m(l,i){A(l,e,i)},p(l,i){i&1&&m(e,"alt",l[0])},d(l){l&&y(e)}}}function Ut(n){let e,t;return{c(){e=g("img"),ee(e.src,t="/Nexion/src/assets/icons/apps/"+n[0].toLowerCase()+".svg")||m(e,"src",t),m(e,"alt",n[0])},m(l,i){A(l,e,i)},p(l,i){i&1&&!ee(e.src,t="/Nexion/src/assets/icons/apps/"+l[0].toLowerCase()+".svg")&&m(e,"src",t),i&1&&m(e,"alt",l[0])},d(l){l&&y(e)}}}function xt(n){let e,t,l,i,s,o;function r(a,p){return a[0]!="Asteroids"?Ut:Ht}let c=r(n),u=c(n);return{c(){e=g("div"),u.c(),t=L(),l=g("br"),i=U(n[0]),m(e,"class","applications-menu-app svelte-1sjgoao"),m(e,"title",n[0])},m(a,p){A(a,e,p),u.m(e,null),h(e,t),h(e,l),h(e,i),s||(o=T(e,"click",n[2]),s=!0)},p(a,[p]){c===(c=r(a))&&u?u.p(a,p):(u.d(1),u=c(a),u&&(u.c(),u.m(e,t))),p&1&&Y(i,a[0]),p&1&&m(e,"title",a[0])},i:j,o:j,d(a){a&&y(e),u.d(),s=!1,o()}}}function Jt(n,e,t){const l=V();let{app:i}=e;const s=()=>{l("newWindow",{app:i,focused:!0})};return n.$$set=o=>{"app"in o&&t(0,i=o.app)},[i,l,s]}class Rt extends q{constructor(e){super(),I(this,e,Jt,xt,O,{app:0})}}function Yt(n){let e,t,l;return{c(){e=g("input"),m(e,"type","text"),m(e,"id","applications-menu-search"),m(e,"placeholder","Search..."),m(e,"class","svelte-nrj43d")},m(i,s){A(i,e,s),se(e,n[0]),t||(l=[T(e,"input",n[3]),T(e,"keyup",n[1])],t=!0)},p(i,[s]){s&1&&e.value!==i[0]&&se(e,i[0])},i:j,o:j,d(i){i&&y(e),t=!1,x(l)}}}function Vt(n,e){return n.indexOf(e)!=-1}function Kt(n,e,t){let l,{apps_list:i}=e;const s=V();let o="";function r(u){if(u.key=="Escape"){s("closeApplicationMenu");return}l==""&&s("showApps",i);let a=[];for(let p of i)Vt(p.toLowerCase(),l)&&a.push(p);s("showApps",a)}function c(){o=this.value,t(0,o)}return n.$$set=u=>{"apps_list"in u&&t(2,i=u.apps_list)},n.$$.update=()=>{n.$$.dirty&1&&(l=o.trim().toLocaleLowerCase())},[o,r,i,c]}class Xt extends q{constructor(e){super(),I(this,e,Kt,Yt,O,{apps_list:2})}}function Me(n,e,t){const l=n.slice();return l[5]=e[t],l}function Ee(n){let e,t;return e=new Rt({props:{app:n[5]}}),e.$on("newWindow",n[4]),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},p(l,i){const s={};i&1&&(s.app=l[5]),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function Gt(n){let e,t,l,i,s,o,r,c;t=new Xt({props:{apps_list:n[1]}}),t.$on("closeApplicationMenu",n[3]),t.$on("showApps",n[2]);let u=n[0],a=[];for(let _=0;_<u.length;_+=1)a[_]=Ee(Me(n,u,_));const p=_=>k(a[_],1,1,()=>{a[_]=null});return{c(){e=g("div"),S(t.$$.fragment),l=L(),i=g("br"),s=g("br"),o=L(),r=g("div");for(let _=0;_<a.length;_+=1)a[_].c();m(r,"id","apps-container"),m(r,"class","svelte-hqyyom"),m(e,"id","applications-menu"),m(e,"class","svelte-hqyyom")},m(_,f){A(_,e,f),C(t,e,null),h(e,l),h(e,i),h(e,s),h(e,o),h(e,r);for(let d=0;d<a.length;d+=1)a[d].m(r,null);c=!0},p(_,[f]){if(f&1){u=_[0];let d;for(d=0;d<u.length;d+=1){const w=Me(_,u,d);a[d]?(a[d].p(w,f),b(a[d],1)):(a[d]=Ee(w),a[d].c(),b(a[d],1),a[d].m(r,null))}for(K(),d=u.length;d<a.length;d+=1)p(d);X()}},i(_){if(!c){b(t.$$.fragment,_);for(let f=0;f<u.length;f+=1)b(a[f]);c=!0}},o(_){k(t.$$.fragment,_),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)k(a[f]);c=!1},d(_){_&&y(e),D(t),ce(a,_)}}}function Qt(n,e,t){let l=he("apps_list"),i=JSON.parse(JSON.stringify(l));function s(c){t(0,i=c.detail)}Re(()=>{document.getElementById("applications-menu-search").focus()});function o(c){re.call(this,n,c)}function r(c){re.call(this,n,c)}return[i,l,s,o,r]}class Zt extends q{constructor(e){super(),I(this,e,Qt,Gt,O,{})}}function Be(n){let e,t;return e=new Zt({}),e.$on("closeApplicationMenu",n[4]),e.$on("newWindow",n[5]),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},p:j,i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function en(n){let e,t,l,i,s,o,r,c,u,a,p,_=n[0]&&Be(n);return{c(){e=g("div"),t=g("span"),t.textContent="Applications",l=L(),_&&_.c(),i=L(),s=g("span"),o=U(n[1]),r=L(),c=g("span"),c.textContent="\uF1EB \uF028 \uF240",m(t,"id","applications-menu-launcher"),m(t,"class","svelte-1mspgo8"),m(s,"id","date-time"),m(s,"class","svelte-1mspgo8"),m(c,"id","sys-tray"),m(c,"class","svelte-1mspgo8"),m(e,"id","topbar"),m(e,"class","svelte-1mspgo8")},m(f,d){A(f,e,d),h(e,t),h(e,l),_&&_.m(e,null),h(e,i),h(e,s),h(s,o),h(e,r),h(e,c),u=!0,a||(p=T(t,"click",n[3]),a=!0)},p(f,[d]){f[0]?_?(_.p(f,d),d&1&&b(_,1)):(_=Be(f),_.c(),b(_,1),_.m(e,i)):_&&(K(),k(_,1,1,()=>{_=null}),X()),(!u||d&2)&&Y(o,f[1])},i(f){u||(b(_),u=!0)},o(f){k(_),u=!1},d(f){f&&y(e),_&&_.d(),a=!1,p()}}}function tn(n,e,t){let l=V(),i;const s=["January","February","March","April","May","June","July","August","September","October","November","December"];function o(){const p=new Date;let _=p.getHours(),f=p.getSeconds()<10?`0${p.getSeconds()}`:p.getSeconds(),d=p.getMinutes()<10?`0${p.getMinutes()}`:p.getMinutes();p.getHours()<12;let w=p.getDay(),E;switch(w){case 0:E="Sun";break;case 1:E="Mon";break;case 2:E="Tue";break;case 3:E="Wed";break;case 4:E="Thu";break;case 5:E="Fri";break;case 6:E="Sat";break}t(1,i=`${E} ${s[p.getMonth()].slice(0,3)} ${p.getDate()} ${_}:${d}:${f}`)}o(),setInterval(o,1e3);let{applications_menu_show:r=!1}=e;console.log(r);const c=()=>{t(0,r=!r)},u=()=>{t(0,r=!1)},a=p=>{t(0,r=!1),l("newWindow",p.detail)};return n.$$set=p=>{"applications_menu_show"in p&&t(0,r=p.applications_menu_show)},[r,i,l,c,u,a]}class nn extends q{constructor(e){super(),I(this,e,tn,en,O,{applications_menu_show:0})}}function We(n,e,t){const l=n.slice();return l[10]=e[t],l}function je(n){let e,t;return e=new Pt({props:{app:n[10].app,number:n[10].number,focused:n[10].focused,initalTop:n[10].top,initalLeft:n[10].left}}),e.$on("focusWindow",n[4]),e.$on("closeWindow",n[6]),e.$on("windowMoved",n[5]),{c(){S(e.$$.fragment)},m(l,i){C(e,l,i),t=!0},p(l,i){const s={};i&1&&(s.app=l[10].app),i&1&&(s.number=l[10].number),i&1&&(s.focused=l[10].focused),i&1&&(s.initalTop=l[10].top),i&1&&(s.initalLeft=l[10].left),e.$set(s)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function ln(n){let e,t,l,i,s,o;t=new nn({props:{applications_menu_show:n[1]}}),t.$on("newWindow",n[2]),i=new st({}),i.$on("newWindow",n[2]);let r=n[0],c=[];for(let a=0;a<r.length;a+=1)c[a]=je(We(n,r,a));const u=a=>k(c[a],1,1,()=>{c[a]=null});return{c(){e=g("div"),S(t.$$.fragment),l=L(),S(i.$$.fragment),s=L();for(let a=0;a<c.length;a+=1)c[a].c();m(e,"id","container")},m(a,p){A(a,e,p),C(t,e,null),h(e,l),C(i,e,null),h(e,s);for(let _=0;_<c.length;_+=1)c[_].m(e,null);o=!0},p(a,[p]){const _={};if(p&2&&(_.applications_menu_show=a[1]),t.$set(_),p&57){r=a[0];let f;for(f=0;f<r.length;f+=1){const d=We(a,r,f);c[f]?(c[f].p(d,p),b(c[f],1)):(c[f]=je(d),c[f].c(),b(c[f],1),c[f].m(e,null))}for(K(),f=r.length;f<c.length;f+=1)u(f);X()}},i(a){if(!o){b(t.$$.fragment,a),b(i.$$.fragment,a);for(let p=0;p<r.length;p+=1)b(c[p]);o=!0}},o(a){k(t.$$.fragment,a),k(i.$$.fragment,a),c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)k(c[p]);o=!1},d(a){a&&y(e),D(t),D(i),ce(c,a)}}}function on(n,e,t){Se("apps_list",["Files","Firefox","Asteroids","Alacritty","Camera","Pycharm Community Edition","Text Editor","Visual Studio Code"]);let i=[],s=[],o=!1;function r(f){t(1,o=!1),console.log(o);let d=f.detail;for(;;){if(d.number=Math.floor(Math.random()*1e3),i.length==0){i=[...i,d.number];break}if(i.indexOf(d.number)==-1)break}d.top="100px",d.left="100px",t(0,s=[...s,d]),u({detail:d.number})}function c(f){for(var d=0;d<s.length;d++)s[d].number===f&&(s.splice(d,1),t(0,s))}function u(f){let d=f.detail;for(let w of s)w.focused=!1;for(let w of s)w.number==d&&(w.focused=!0);t(0,s)}function a(f){for(const d of s)if(d.number==f)return d}function p(f){let d=f.detail.top,w=f.detail.left,E=a(f.detail.number);E.top=d,E.left=w}return[s,o,r,c,u,p,f=>c(f.detail.number)]}class sn extends q{constructor(e){super(),I(this,e,on,ln,O,{})}}new sn({target:document.getElementById("app")});
