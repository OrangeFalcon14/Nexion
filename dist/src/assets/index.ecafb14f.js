(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function D(){}function it(l,e){for(const t in e)l[t]=e[t];return l}function nt(l){return l()}function Ne(){return Object.create(null)}function Y(l){l.forEach(nt)}function lt(l){return typeof l=="function"}function O(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let me;function se(l,e){return me||(me=document.createElement("a")),me.href=e,l===me.href}function rt(l){return Object.keys(l).length===0}function ct(l,e,t,n){if(l){const o=ot(l,e,t,n);return l[0](o)}}function ot(l,e,t,n){return l[1]&&n?it(t.ctx.slice(),l[1](n(e))):t.ctx}function at(l,e,t,n){if(l[2]&&n){const o=l[2](n(t));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],s=Math.max(e.dirty.length,o.length);for(let r=0;r<s;r+=1)i[r]=e.dirty[r]|o[r];return i}return e.dirty|o}return e.dirty}function ut(l,e,t,n,o,i){if(o){const s=ot(e,t,n,i);l.p(s,o)}}function ft(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function dt(l){return l==null?"":l}function m(l,e){l.appendChild(e)}function T(l,e,t){l.insertBefore(e,t||null)}function S(l){l.parentNode.removeChild(l)}function de(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function g(l){return document.createElement(l)}function R(l){return document.createTextNode(l)}function $(){return R(" ")}function Ae(){return R("")}function E(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function f(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function pt(l){return l===""?null:+l}function _t(l){return Array.from(l.childNodes)}function G(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function V(l,e){l.value=e==null?"":e}function P(l,e,t,n){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Oe(l,e){for(let t=0;t<l.options.length;t+=1){const n=l.options[t];if(n.__value===e){n.selected=!0;return}}l.selectedIndex=-1}function mt(l){const e=l.querySelector(":checked")||l.options[0];return e&&e.__value}function U(l,e,t){l.classList[t?"add":"remove"](e)}function ht(l,e,{bubbles:t=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(l,t,n,e),o}let fe;function ue(l){fe=l}function ke(){if(!fe)throw new Error("Function called outside component initialization");return fe}function qe(l){ke().$$.on_mount.push(l)}function te(){const l=ke();return(e,t,{cancelable:n=!1}={})=>{const o=l.$$.callbacks[e];if(o){const i=ht(e,t,{cancelable:n});return o.slice().forEach(s=>{s.call(l,i)}),!i.defaultPrevented}return!0}}function oe(l,e){return ke().$$.context.set(l,e),e}function ne(l){return ke().$$.context.get(l)}function we(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const ae=[],Se=[],ge=[],Te=[],gt=Promise.resolve();let Me=!1;function bt(){Me||(Me=!0,gt.then(st))}function ve(l){ge.push(l)}function wt(l){Te.push(l)}const $e=new Set;let he=0;function st(){const l=fe;do{for(;he<ae.length;){const e=ae[he];he++,ue(e),vt(e.$$)}for(ue(null),ae.length=0,he=0;Se.length;)Se.pop()();for(let e=0;e<ge.length;e+=1){const t=ge[e];$e.has(t)||($e.add(t),t())}ge.length=0}while(ae.length);for(;Te.length;)Te.pop()();Me=!1,$e.clear(),ue(l)}function vt(l){if(l.fragment!==null){l.update(),Y(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(ve)}}const be=new Set;let le;function Z(){le={r:0,c:[],p:le}}function Q(){le.r||Y(le.c),le=le.p}function C(l,e){l&&l.i&&(be.delete(l),l.i(e))}function A(l,e,t,n){if(l&&l.o){if(be.has(l))return;be.add(l),le.c.push(()=>{be.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function kt(l,e){l.d(1),e.delete(l.key)}function yt(l,e,t,n,o,i,s,r,u,a,c,d){let h=l.length,p=i.length,_=h;const v={};for(;_--;)v[l[_].key]=_;const y=[],k=new Map,b=new Map;for(_=p;_--;){const q=d(o,i,_),j=t(q);let N=s.get(j);N?n&&N.p(q,e):(N=a(j,q),N.c()),k.set(j,y[_]=N),j in v&&b.set(j,Math.abs(_-v[j]))}const w=new Set,W=new Set;function M(q){C(q,1),q.m(r,c),s.set(q.key,q),c=q.first,p--}for(;h&&p;){const q=y[p-1],j=l[h-1],N=q.key,X=j.key;q===j?(c=q.first,h--,p--):k.has(X)?!s.has(N)||w.has(N)?M(q):W.has(X)?h--:b.get(N)>b.get(X)?(W.add(N),M(q)):(w.add(X),h--):(u(j,s),h--)}for(;h--;){const q=l[h];k.has(q.key)||u(q,s)}for(;p;)M(y[p-1]);return y}function $t(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function z(l){l&&l.c()}function B(l,e,t,n){const{fragment:o,after_update:i}=l.$$;o&&o.m(e,t),n||ve(()=>{const s=l.$$.on_mount.map(nt).filter(lt);l.$$.on_destroy?l.$$.on_destroy.push(...s):Y(s),l.$$.on_mount=[]}),i.forEach(ve)}function I(l,e){const t=l.$$;t.fragment!==null&&(Y(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ct(l,e){l.$$.dirty[0]===-1&&(ae.push(l),bt(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function F(l,e,t,n,o,i,s,r=[-1]){const u=fe;ue(l);const a=l.$$={fragment:null,ctx:[],props:i,update:D,not_equal:o,bound:Ne(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ne(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let c=!1;if(a.ctx=t?t(l,e.props||{},(d,h,...p)=>{const _=p.length?p[0]:h;return a.ctx&&o(a.ctx[d],a.ctx[d]=_)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](_),c&&Ct(l,d)),h}):[],a.update(),c=!0,Y(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const d=_t(e.target);a.fragment&&a.fragment.l(d),d.forEach(S)}else a.fragment&&a.fragment.c();e.intro&&C(l.$$.fragment),B(l,e.target,e.anchor,e.customElement),st()}ue(u)}class H{$destroy(){I(this,1),this.$destroy=D}$on(e,t){if(!lt(t))return D;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const o=n.indexOf(t);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!rt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function St(l){let e,t;return{c(){e=g("img"),se(e.src,t="/Nexion/src/assets/icons/apps/asteroids.png")||f(e,"src",t),f(e,"alt",l[1]),f(e,"class","dock-item-icon svelte-19cqtqb")},m(n,o){T(n,e,o)},p(n,o){o&2&&f(e,"alt",n[1])},d(n){n&&S(e)}}}function Tt(l){let e,t;return{c(){e=g("img"),se(e.src,t=`/Nexion/src/assets/icons/apps/${l[1].toLowerCase()}.svg`)||f(e,"src",t),f(e,"alt",l[1]),f(e,"class","dock-item-icon svelte-19cqtqb")},m(n,o){T(n,e,o)},p(n,o){o&2&&!se(e.src,t=`/Nexion/src/assets/icons/apps/${n[1].toLowerCase()}.svg`)&&f(e,"src",t),o&2&&f(e,"alt",n[1])},d(n){n&&S(e)}}}function Mt(l){let e,t,n,o,i;function s(a,c){return a[1]!="Asteroids"?Tt:St}let r=s(l),u=r(l);return{c(){e=g("span"),u.c(),t=$(),n=g("span"),f(n,"class","running-indicator svelte-19cqtqb"),U(n,"hide",!l[0]),f(e,"class","dock-item svelte-19cqtqb"),U(e,"focused",l[2])},m(a,c){T(a,e,c),u.m(e,null),m(e,t),m(e,n),o||(i=E(e,"click",l[4]),o=!0)},p(a,[c]){r===(r=s(a))&&u?u.p(a,c):(u.d(1),u=r(a),u&&(u.c(),u.m(e,t))),c&1&&U(n,"hide",!a[0]),c&4&&U(e,"focused",a[2])},i:D,o:D,d(a){a&&S(e),u.d(),o=!1,i()}}}function At(l,e,t){let n=te(),{running:o}=e,{app:i}=e,{focused:s}=e;const r=()=>{n("newWindow",{app:i,focused:!0})};return l.$$set=u=>{"running"in u&&t(0,o=u.running),"app"in u&&t(1,i=u.app),"focused"in u&&t(2,s=u.focused)},[o,i,s,n,r]}class qt extends H{constructor(e){super(),F(this,e,At,Mt,O,{running:0,app:1,focused:2})}}function Fe(l,e,t){const n=l.slice();return n[3]=e[t],n}function He(l){let e,t;return e=new qt({props:{app:l[3].name,running:l[3].running,focused:l[3].focused}}),e.$on("newWindow",l[2]),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.app=n[3].name),o&1&&(i.running=n[3].running),o&1&&(i.focused=n[3].focused),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Wt(l){let e,t,n=l[0],o=[];for(let s=0;s<n.length;s+=1)o[s]=He(Fe(l,n,s));const i=s=>A(o[s],1,1,()=>{o[s]=null});return{c(){e=g("div");for(let s=0;s<o.length;s+=1)o[s].c();f(e,"id","dock"),f(e,"class",dt(l[1])+" svelte-uufmbn")},m(s,r){T(s,e,r);for(let u=0;u<o.length;u+=1)o[u].m(e,null);t=!0},p(s,[r]){if(r&1){n=s[0];let u;for(u=0;u<n.length;u+=1){const a=Fe(s,n,u);o[u]?(o[u].p(a,r),C(o[u],1)):(o[u]=He(a),o[u].c(),C(o[u],1),o[u].m(e,null))}for(Z(),u=n.length;u<o.length;u+=1)i(u);Q()}},i(s){if(!t){for(let r=0;r<n.length;r+=1)C(o[r]);t=!0}},o(s){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)A(o[r]);t=!1},d(s){s&&S(e),de(o,s)}}}function Et(l,e,t){let n=localStorage.getItem("dockStyle")||"panel-dock",{apps_list:o}=e;function i(s){we.call(this,l,s)}return l.$$set=s=>{"apps_list"in s&&t(0,o=s.apps_list)},[o,n,i]}class Dt extends H{constructor(e){super(),F(this,e,Et,Wt,O,{apps_list:0})}}function je(l,e,t){const n=l.slice();return n[3]=e[t],n}function Ve(l,e){let t,n=e[3].output+"",o,i,s,r,u,a,c,d;function h(...p){return e[2](e[3],...p)}return{key:l,first:null,c(){t=g("div"),i=$(),s=g("input"),f(t,"id",o="output"+e[3].id),f(t,"class","shell-output svelte-186f04z"),f(s,"id",r="prompt"+e[3].id),s.disabled=u=e[3].disabled,s.value=a=e[3].text,f(s,"type","text"),f(s,"class","shell-prompt svelte-186f04z"),this.first=t},m(p,_){T(p,t,_),t.innerHTML=n,T(p,i,_),T(p,s,_),c||(d=E(s,"keyup",h),c=!0)},p(p,_){e=p,_&1&&n!==(n=e[3].output+"")&&(t.innerHTML=n),_&1&&o!==(o="output"+e[3].id)&&f(t,"id",o),_&1&&r!==(r="prompt"+e[3].id)&&f(s,"id",r),_&1&&u!==(u=e[3].disabled)&&(s.disabled=u),_&1&&a!==(a=e[3].text)&&s.value!==a&&(s.value=a)},d(p){p&&S(t),p&&S(i),p&&S(s),c=!1,d()}}}function Lt(l){let e,t=[],n=new Map,o=l[0];const i=s=>s[3].id;for(let s=0;s<o.length;s+=1){let r=je(l,o,s),u=i(r);n.set(u,t[s]=Ve(u,r))}return{c(){e=g("div");for(let s=0;s<t.length;s+=1)t[s].c();f(e,"class","window-container svelte-186f04z")},m(s,r){T(s,e,r);for(let u=0;u<t.length;u+=1)t[u].m(e,null)},p(s,[r]){r&3&&(o=s[0],t=yt(t,r,i,1,s,o,n,e,kt,Ve,null,je))},i:D,o:D,d(s){s&&S(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}let ce="~ $ ";function Bt(l,e,t){let n=[{id:0,text:ce,disabled:!1,output:""}];function o(s,r){if(s.key=="Enter"){let u="",a=s.target.value.trim();a===`${ce}sudo rm -rf /`?u="rm: it is dangerous to operate recursively on '/'<br>rm: use --no-preserve-root to override this failsafe":a===`${ce}sudo rm -rf / --no-preserve-root`?document.body.innerHTML="":a===`${ce}ls`&&(u='<pre><span style="color:#9B6BDF; font-weight: bold;">Desktop</span>   <span style="color:#9B6BDF; font-weight: bold;">Downloads</span>   <span style="color:#9B6BDF; font-weight: bold;">Music</span>   <span style="color:#9B6BDF; font-weight: bold;">Pictures</span>   <span style="color:#9B6BDF; font-weight: bold;">Templates</span>   <span style="color:#9B6BDF; font-weight: bold;">Documents</span>   <span style="color:#9B6BDF; font-weight: bold;">Public</span>   <span style="color:#9B6BDF; font-weight: bold;">Videos</span></pre>');let c={id:n.length,text:ce,disabled:!1,output:u};n.at(-1).disabled=!0,n.push(c),t(0,n),setTimeout(()=>{document.getElementById("prompt"+c.id).focus()},20)}else s.key==="ArrowUp"&&(s.preventDefault(),n.length!=1&&(t(0,n[r].text=document.getElementById("prompt"+(r-1)).value,n),console.log(n[r].text),t(0,n)))}return[n,o,(s,r)=>o(r,s.id)]}class It extends H{constructor(e){super(),F(this,e,Bt,Lt,O,{})}}function zt(l,e,t){const n=l.slice();return n[1]=e[t],n}function Nt(l){let e;return{c(){e=g("span"),f(e,"class","folder-icon svelte-kgqlpk")},m(t,n){T(t,e,n)},p:D,d(t){t&&S(e)}}}function Ot(l){let e,t,n,o,i=l[0],s=[];for(let r=0;r<i.length;r+=1)s[r]=Nt(zt(l,i,r));return{c(){e=g("div"),t=g("div"),t.innerHTML=`<div class="files-sidebar-link svelte-kgqlpk">\uF7DB Home <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF6C3 Desktop <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF718 Documents <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF6D9 Downloads <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF1C5 Pictures <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uFA66 Videos <br/></div> 
        <div class="files-sidebar-link svelte-kgqlpk">\uF014 Trash <br/></div>`,n=$(),o=g("div");for(let r=0;r<s.length;r+=1)s[r].c();f(t,"class","sidebar svelte-kgqlpk"),f(o,"class","main-content svelte-kgqlpk"),f(e,"class","window-container svelte-kgqlpk")},m(r,u){T(r,e,u),m(e,t),m(e,n),m(e,o);for(let a=0;a<s.length;a+=1)s[a].m(o,null)},p:D,i:D,o:D,d(r){r&&S(e),de(s,r)}}}function Ft(l){return[Array(20).fill(0)]}class Ht extends H{constructor(e){super(),F(this,e,Ft,Ot,O,{})}}function jt(l){let e,t,n,o,i,s,r,u,a,c,d,h,p,_,v,y,k,b,w,W,M,q,j,N,X,pe,_e,L,We,x,Ee,De,Le,ie,Be,J,Ie,re,ye,ze;return{c(){e=g("div"),t=g("label"),t.textContent="Dock Style",n=$(),o=g("select"),i=g("option"),i.textContent="Panel (Full width)",s=g("option"),s.textContent="Compact (MacOS style)",r=$(),u=g("br"),a=$(),c=g("label"),c.innerHTML=`Color 1 <br/> 
        <span class="desc svelte-7wih97">Window titlebars, applications menu, dock, topbar and other system components</span>`,d=$(),h=g("input"),p=$(),_=g("br"),v=$(),y=g("label"),y.innerHTML=`Color 2 <br/> 
        <span class="desc svelte-7wih97">Window background</span>`,k=$(),b=g("input"),w=$(),W=g("br"),M=$(),q=g("label"),q.innerHTML=`Color 3 <br/> 
        <span class="desc svelte-7wih97">Misc. components</span>`,j=$(),N=g("input"),X=$(),pe=g("br"),_e=$(),L=g("label"),L.innerHTML=`Accent Color <br/> 
        <span class="desc svelte-7wih97">Accent color used for borders, buttons, etc</span>`,We=$(),x=g("input"),Ee=$(),De=g("br"),Le=$(),ie=g("label"),ie.innerHTML=`Blur<br/> 
        <span class="desc svelte-7wih97">Window backgrounds, system components</span>`,Be=$(),J=g("input"),Ie=$(),re=g("button"),re.textContent="Reset",f(t,"for","dock-style-selector"),f(t,"class","svelte-7wih97"),i.__value="panel-dock",i.value=i.__value,s.__value="compact-dock",s.value=s.__value,f(o,"name","dock-style-selector"),f(o,"id","dock-style-selector"),l[0]===void 0&&ve(()=>l[7].call(o)),f(c,"for","--color1"),f(c,"class","svelte-7wih97"),f(h,"type","color"),f(h,"name","--color1"),f(h,"id","--color1"),f(y,"for","--color2"),f(y,"class","svelte-7wih97"),f(b,"type","color"),f(b,"name","--color2"),f(b,"id","--color2"),f(q,"for","--color3"),f(q,"class","svelte-7wih97"),f(N,"type","color"),f(N,"name","--color3"),f(N,"id","--color3"),f(L,"for","--accent-color"),f(L,"class","svelte-7wih97"),f(x,"type","color"),f(x,"name","--accent-color"),f(x,"id","--accent-color"),f(ie,"for","--blur"),f(ie,"class","svelte-7wih97"),f(J,"type","range"),f(J,"min","0"),f(J,"max","100"),f(J,"name","--blur"),f(J,"id","--blur"),f(re,"class","svelte-7wih97"),f(e,"class","customize-container svelte-7wih97")},m(K,ee){T(K,e,ee),m(e,t),m(e,n),m(e,o),m(o,i),m(o,s),Oe(o,l[0]),m(e,r),m(e,u),m(e,a),m(e,c),m(e,d),m(e,h),V(h,l[1]),m(e,p),m(e,_),m(e,v),m(e,y),m(e,k),m(e,b),V(b,l[2]),m(e,w),m(e,W),m(e,M),m(e,q),m(e,j),m(e,N),V(N,l[3]),m(e,X),m(e,pe),m(e,_e),m(e,L),m(e,We),m(e,x),V(x,l[4]),m(e,Ee),m(e,De),m(e,Le),m(e,ie),m(e,Be),m(e,J),V(J,l[5]),m(e,Ie),m(e,re),ye||(ze=[E(o,"change",l[7]),E(h,"input",l[8]),E(b,"input",l[9]),E(N,"input",l[10]),E(x,"input",l[11]),E(J,"change",l[12]),E(J,"input",l[12]),E(re,"click",l[6])],ye=!0)},p(K,[ee]){ee&1&&Oe(o,K[0]),ee&2&&V(h,K[1]),ee&4&&V(b,K[2]),ee&8&&V(N,K[3]),ee&16&&V(x,K[4]),ee&32&&V(J,K[5])},i:D,o:D,d(K){K&&S(e),ye=!1,Y(ze)}}}function Vt(l,e,t){let n=localStorage.getItem("dockStyle")||"panel-dock",o=ne("colorConfig")||{},i=ne("defaultCSSVars"),s=o["--color1"]||"#060610ae",r=o["--color2"]||"#161620cf",u=o["--color3"]||"#111118cf",a=o["--accent-color"]||"#736099",c=o["--blur"]||20;const d=ne("setCSSVar");ne("getCSSVar");function h(){t(1,s=i["--color1"]),t(2,r=i["--color2"]),t(3,u=i["--color3"]),t(4,a=i["--accent-color"]),t(5,c=i["--blur"]),d("--color1",i["--color1"]),d("--color2",i["--color2"]),d("--color3",i["--color3"]),d("--accent-color",i["--accent-color"]),d("--blur",i["--blur"]+"px")}function p(){n=mt(this),t(0,n)}function _(){s=this.value,t(1,s)}function v(){r=this.value,t(2,r)}function y(){u=this.value,t(3,u)}function k(){a=this.value,t(4,a)}function b(){c=pt(this.value),t(5,c)}return l.$$.update=()=>{l.$$.dirty&1&&(console.log(n),document.querySelector("#dock").classList.remove(n=="compact-dock"?"panel-dock":"compact-dock"),document.querySelector("#dock").classList.add(n=="compact-dock"?"compact-dock":"panel-dock"),localStorage.setItem("dockStyle",n)),l.$$.dirty&62&&(d("--color1",s),d("--color2",r),d("--color3",u),d("--accent-color",a),d("--blur",c+"px"),localStorage.setItem("colorConfig",JSON.stringify({"--color1":s,"--color2":r,"--color3":u,"--accent-color":a,"--blur":c})))},[n,s,r,u,a,c,h,p,_,v,y,k,b]}class Pt extends H{constructor(e){super(),F(this,e,Vt,jt,O,{})}}function Pe(l){let e,t;return e=new Pt({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Rt(l){let e,t,n,o,i,s,r,u,a=l[0]==="Customize"&&Pe();return{c(){e=g("div"),t=g("div"),n=g("div"),n.textContent="\uF77B Customize",o=$(),i=g("div"),a&&a.c(),f(n,"class","sidebar-link svelte-1vdha6f"),U(n,"active",l[0]==="Customize"),f(t,"class","sidebar svelte-1vdha6f"),f(i,"class","main-content svelte-1vdha6f"),f(e,"class","window-container svelte-1vdha6f")},m(c,d){T(c,e,d),m(e,t),m(t,n),m(e,o),m(e,i),a&&a.m(i,null),s=!0,r||(u=E(n,"click",l[1]),r=!0)},p(c,[d]){(!s||d&1)&&U(n,"active",c[0]==="Customize"),c[0]==="Customize"?a?d&1&&C(a,1):(a=Pe(),a.c(),C(a,1),a.m(i,null)):a&&(Z(),A(a,1,1,()=>{a=null}),Q())},i(c){s||(C(a),s=!0)},o(c){A(a),s=!1},d(c){c&&S(e),a&&a.d(),r=!1,u()}}}function Ut(l,e,t){let n="Customize";return[n,()=>t(0,n="Customize")]}class Jt extends H{constructor(e){super(),F(this,e,Ut,Rt,O,{})}}function Yt(l){let e,t,n,o,i,s;return{c(){e=g("input"),t=$(),n=g("label"),o=R(l[0]),f(e,"type","file"),f(e,"id",l[4]),P(e,"display","none"),f(n,"for",l[4]),f(n,"class","svelte-193v6ke")},m(r,u){T(r,e,u),T(r,t,u),T(r,n,u),m(n,o),i||(s=[E(e,"change",l[6]),E(e,"change",l[7])],i=!0)},p(r,u){u&1&&G(o,r[0])},d(r){r&&S(e),r&&S(t),r&&S(n),i=!1,Y(s)}}}function Kt(l){let e,t,n,o;return{c(){e=g("button"),t=R(l[0]),f(e,"title",l[1]),f(e,"class","svelte-193v6ke")},m(i,s){T(i,e,s),m(e,t),n||(o=E(e,"click",l[5]),n=!0)},p(i,s){s&1&&G(t,i[0]),s&2&&f(e,"title",i[1])},d(i){i&&S(e),n=!1,o()}}}function Xt(l){let e;function t(i,s){return i[1]!=="Open"?Kt:Yt}let n=t(l),o=n(l);return{c(){o.c(),e=Ae()},m(i,s){o.m(i,s),T(i,e,s)},p(i,[s]){n===(n=t(i))&&o?o.p(i,s):(o.d(1),o=n(i),o&&(o.c(),o.m(e.parentNode,e)))},i:D,o:D,d(i){o.d(i),i&&S(e)}}}function Gt(l,e,t){let{text:n}=e,{title:o}=e;const i=te();let s;const r=ne("window_id")+"file_input";function u(d){we.call(this,l,d)}const a=()=>{t(2,s=document.getElementById(r).files),i("fileOpen",{files:s})};function c(){s=this.files,t(2,s)}return l.$$set=d=>{"text"in d&&t(0,n=d.text),"title"in d&&t(1,o=d.title)},[n,o,s,i,r,u,a,c]}class Ce extends H{constructor(e){super(),F(this,e,Gt,Xt,O,{text:0,title:1})}}function Re(l){let e,t,n,o,i,s,r;const u=l[2].default,a=ct(u,l,l[1],null);return{c(){e=g("div"),t=g("div"),a&&a.c(),n=$(),o=g("button"),o.textContent="Close",f(t,"class","modal svelte-1a3y4ns"),f(e,"class","backdrop svelte-1a3y4ns")},m(c,d){T(c,e,d),m(e,t),a&&a.m(t,null),m(t,n),m(t,o),i=!0,s||(r=E(o,"click",l[3]),s=!0)},p(c,d){a&&a.p&&(!i||d&2)&&ut(a,u,c,c[1],i?at(u,c[1],d,null):ft(c[1]),null)},i(c){i||(C(a,c),i=!0)},o(c){A(a,c),i=!1},d(c){c&&S(e),a&&a.d(c),s=!1,r()}}}function Zt(l){let e,t,n=l[0]&&Re(l);return{c(){n&&n.c(),e=Ae()},m(o,i){n&&n.m(o,i),T(o,e,i),t=!0},p(o,[i]){o[0]?n?(n.p(o,i),i&1&&C(n,1)):(n=Re(o),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(Z(),A(n,1,1,()=>{n=null}),Q())},i(o){t||(C(n),t=!0)},o(o){A(n),t=!1},d(o){n&&n.d(o),o&&S(e)}}}function Qt(l,e,t){let{$$slots:n={},$$scope:o}=e,{show_modal:i=!1}=e;const s=()=>t(0,i=!1);return l.$$set=r=>{"show_modal"in r&&t(0,i=r.show_modal),"$$scope"in r&&t(1,o=r.$$scope)},[i,o,n,s]}class xt extends H{constructor(e){super(),F(this,e,Qt,Zt,O,{show_modal:0})}}function en(l){let e,t,n,o,i,s;return{c(){e=g("h1"),e.textContent="You have unsaved work!",t=$(),n=g("h3"),o=R("Your changes to "),i=R(l[1]),s=R(" will be lost if you don't save them.")},m(r,u){T(r,e,u),T(r,t,u),T(r,n,u),m(n,o),m(n,i),m(n,s)},p(r,u){u&2&&G(i,r[1])},d(r){r&&S(e),r&&S(t),r&&S(n)}}}function tn(l){let e,t,n,o,i,s,r,u,a,c,d,h,p,_,v;n=new Ce({props:{text:"\uEA7F",title:"New"}}),n.$on("click",l[4]),i=new Ce({props:{text:"\uEB4B",title:"Save"}}),i.$on("click",l[3]),r=new Ce({props:{text:"\uEAF7",title:"Open"}}),r.$on("fileOpen",l[5]);function y(b){l[8](b)}let k={$$slots:{default:[en]},$$scope:{ctx:l}};return l[2]!==void 0&&(k.show_modal=l[2]),d=new xt({props:k}),Se.push(()=>$t(d,"show_modal",y)),{c(){e=g("div"),t=g("div"),z(n.$$.fragment),o=$(),z(i.$$.fragment),s=$(),z(r.$$.fragment),u=$(),a=g("textarea"),c=$(),z(d.$$.fragment),f(t,"class","toolbar svelte-aninbu"),f(a,"wrap",nn),f(a,"class","svelte-aninbu"),f(e,"class","window-container svelte-aninbu")},m(b,w){T(b,e,w),m(e,t),B(n,t,null),m(t,o),B(i,t,null),m(t,s),B(r,t,null),m(e,u),m(e,a),V(a,l[0]),m(e,c),B(d,e,null),p=!0,_||(v=E(a,"input",l[7]),_=!0)},p(b,[w]){w&1&&V(a,b[0]);const W={};w&2050&&(W.$$scope={dirty:w,ctx:b}),!h&&w&4&&(h=!0,W.show_modal=b[2],wt(()=>h=!1)),d.$set(W)},i(b){p||(C(n.$$.fragment,b),C(i.$$.fragment,b),C(r.$$.fragment,b),C(d.$$.fragment,b),p=!0)},o(b){A(n.$$.fragment,b),A(i.$$.fragment,b),A(r.$$.fragment,b),A(d.$$.fragment,b),p=!1},d(b){b&&S(e),I(n),I(i),I(r),I(d),_=!1,v()}}}let nn="off";function ln(l,e,t){let n,o=new FileReader,i,s,r="Untitled.txt",u=!1;const a=()=>{let _=i,v=document.createElement("a"),y=new Blob([_],{type:"text/plain"});v.href=window.URL.createObjectURL(y),v.download=r,v.click(),n=!0},c=()=>{n?t(0,i=""):t(2,u=!0)},d=_=>{let v=_.detail.files[0];o.onload=()=>{t(0,i=t(6,s=o.result.toString()))},o.readAsText(v),t(1,r=v.name)};function h(){i=this.value,t(0,i)}function p(_){u=_,t(2,u)}return l.$$.update=()=>{l.$$.dirty&65&&(n=s==i)},[i,r,u,a,c,d,s,h,p]}class on extends H{constructor(e){super(),F(this,e,ln,tn,O,{})}}function Ue(l){let e;return{c(){e=g("div"),e.innerHTML="<h2>Click &quot;Allow&quot; in the browser prompt to use your camera.</h2>",f(e,"class","grant-permission svelte-ujczn")},m(t,n){T(t,e,n)},d(t){t&&S(e)}}}function sn(l){let e,t,n,o,i,s,r,u,a,c=!l[0]&&Ue();return{c(){e=g("div"),t=g("div"),n=g("video"),o=$(),c&&c.c(),i=$(),s=g("div"),r=g("button"),r.textContent="\uEADA",f(n,"id",l[1]),f(n,"class","svelte-ujczn"),f(t,"class","video-container svelte-ujczn"),f(r,"class","photo-btn svelte-ujczn"),f(s,"class","controls svelte-ujczn"),f(e,"class","window-container svelte-ujczn")},m(d,h){T(d,e,h),m(e,t),m(t,n),m(t,o),c&&c.m(t,null),m(e,i),m(e,s),m(s,r),u||(a=E(r,"click",l[2]),u=!0)},p(d,[h]){d[0]?c&&(c.d(1),c=null):c||(c=Ue(),c.c(),c.m(t,null))},i:D,o:D,d(d){d&&S(e),c&&c.d(),u=!1,a()}}}function rn(l,e,t){let n=ne("window_id")+"video",o=!1;return navigator.mediaDevices.getUserMedia({audio:!1,video:{width:1e3,height:560}}).then(s=>{t(0,o=!0);let r=document.getElementById(n);console.log(n),r.srcObject=s,r.onloadedmetadata=()=>{r.play()}}).catch(s=>{console.log(s)}),[o,n,()=>{let s=document.getElementById(n);const r=document.createElement("canvas");r.width=s.videoWidth,r.height=s.videoHeight,r.getContext("2d").drawImage(s,0,0,r.width,r.height);let a=document.createElement("a");r.toBlob(c=>{a.href=URL.createObjectURL(c),a.download="picture.png",a.click()})}]}class cn extends H{constructor(e){super(),F(this,e,rn,sn,O,{})}}function an(l){let e;return{c(){e=g("div"),e.innerHTML='<iframe src="/Nexion/src/assets/Asteroids.html" title="Asteroids" frameborder="0" class="svelte-1witeso"></iframe>',f(e,"class","window-container svelte-1witeso")},m(t,n){T(t,e,n)},p:D,i:D,o:D,d(t){t&&S(e)}}}class un extends H{constructor(e){super(),F(this,e,null,an,O,{})}}function Je(l){let e,t,n,o;return{c(){e=g("br"),t=$(),n=g("div"),o=R(l[2]),f(n,"class","error svelte-tntr7w")},m(i,s){T(i,e,s),T(i,t,s),T(i,n,s),m(n,o)},p(i,s){s&4&&G(o,i[2])},d(i){i&&S(e),i&&S(t),i&&S(n)}}}function fn(l){let e,t,n,o,i,s,r,u,a,c,d,h,p,_,v,y,k=l[2]&&Je(l);return{c(){e=g("div"),t=g("div"),n=g("p"),n.textContent="Add Todo",o=$(),i=g("input"),s=$(),k&&k.c(),r=$(),u=g("br"),a=$(),c=g("textarea"),d=$(),h=g("br"),p=$(),_=g("button"),_.textContent="Add",f(n,"class","svelte-tntr7w"),f(i,"type","text"),f(i,"class","svelte-tntr7w"),f(c,"type","text"),f(c,"class","svelte-tntr7w"),f(_,"class","svelte-tntr7w"),f(t,"class","add-todo-container svelte-tntr7w"),f(e,"class","backdrop svelte-tntr7w")},m(b,w){T(b,e,w),m(e,t),m(t,n),m(t,o),m(t,i),V(i,l[0]),m(t,s),k&&k.m(t,null),m(t,r),m(t,u),m(t,a),m(t,c),V(c,l[1]),m(t,d),m(t,h),m(t,p),m(t,_),v||(y=[E(i,"input",l[5]),E(c,"input",l[6]),E(_,"click",l[3]),E(e,"keyup",l[4])],v=!0)},p(b,[w]){w&1&&i.value!==b[0]&&V(i,b[0]),b[2]?k?k.p(b,w):(k=Je(b),k.c(),k.m(t,r)):k&&(k.d(1),k=null),w&2&&V(c,b[1])},i:D,o:D,d(b){b&&S(e),k&&k.d(),v=!1,Y(y)}}}function dn(l,e,t){const n=te();let o="",i="",s="";const r=()=>{o.trim()!==""?n("addTodoItem",{title:o,content:i}):t(2,s="Title cannot be empty!")},u=d=>{d.key=="Escape"&&n("closeModal")};qe(()=>{document.querySelector(".add-todo-container input").focus()});function a(){o=this.value,t(0,o)}function c(){i=this.value,t(1,i)}return[o,i,s,r,u,a,c]}class pn extends H{constructor(e){super(),F(this,e,dn,fn,O,{})}}function _n(l){let e,t,n,o,i,s,r,u,a,c,d,h,p,_,v,y;return{c(){e=g("div"),t=g("div"),n=g("h4"),o=R(l[0]),i=$(),s=g("span"),r=R(l[3]),u=$(),a=g("div"),c=g("div"),d=$(),h=g("button"),h.textContent="\uF62B",p=$(),_=g("button"),_.textContent="\uF6BF",f(n,"class","svelte-funw"),U(n,"done",l[2]),f(s,"class","toggle-btn svelte-funw"),f(t,"class","title svelte-funw"),f(c,"class","content svelte-funw"),f(h,"class","done-btn svelte-funw"),f(_,"class","delete-btn svelte-funw"),f(a,"class","content-container svelte-funw"),U(a,"show",l[4]),f(e,"class","todo-item svelte-funw")},m(k,b){T(k,e,b),m(e,t),m(t,n),m(n,o),m(t,i),m(t,s),m(s,r),m(e,u),m(e,a),m(a,c),c.innerHTML=l[1],m(a,d),m(a,h),m(a,p),m(a,_),v||(y=[E(t,"click",l[5]),E(h,"click",l[6]),E(_,"click",l[7])],v=!0)},p(k,[b]){b&1&&G(o,k[0]),b&4&&U(n,"done",k[2]),b&8&&G(r,k[3]),b&2&&(c.innerHTML=k[1]),b&16&&U(a,"show",k[4])},i:D,o:D,d(k){k&&S(e),v=!1,Y(y)}}}function mn(l,e,t){let{id:n}=e,{title:o}=e,{content:i}=e,{done:s}=e;const r=te();let u="+",a=!1;const c=()=>{t(4,a=!a),a?t(3,u="-"):t(3,u="+")},d=()=>{r("taskDone",n)},h=()=>{r("taskDelete",n)};return l.$$set=p=>{"id"in p&&t(8,n=p.id),"title"in p&&t(0,o=p.title),"content"in p&&t(1,i=p.content),"done"in p&&t(2,s=p.done)},[o,i,s,u,a,c,d,h,n]}class hn extends H{constructor(e){super(),F(this,e,mn,_n,O,{id:8,title:0,content:1,done:2})}}function Ye(l,e,t){const n=l.slice();return n[7]=e[t],n}function Ke(l){let e;return{c(){e=g("h5"),e.textContent="Click the + button below to add your first todo!",P(e,"text-align","center")},m(t,n){T(t,e,n)},p:D,d(t){t&&S(e)}}}function Xe(l){let e,t;return e=new hn({props:{title:l[7].title,content:l[7].content,done:l[7].done,id:l[7].id}}),e.$on("taskDone",l[3]),e.$on("taskDelete",l[4]),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.title=n[7].title),o&1&&(i.content=n[7].content),o&1&&(i.done=n[7].done),o&1&&(i.id=n[7].id),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ge(l){let e,t;return e=new pn({}),e.$on("addTodoItem",l[2]),e.$on("closeModal",l[6]),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p:D,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gn(l){let e,t,n,o,i,s,r,u,a,c,d,h=l[0],p=[];for(let k=0;k<h.length;k+=1)p[k]=Xe(Ye(l,h,k));const _=k=>A(p[k],1,1,()=>{p[k]=null});let v=null;h.length||(v=Ke());let y=l[1]&&Ge(l);return{c(){e=g("div"),t=g("h2"),t.textContent="Your Todos",n=$(),o=g("br"),i=$();for(let k=0;k<p.length;k+=1)p[k].c();v&&v.c(),s=$(),r=g("button"),r.textContent="+",u=$(),y&&y.c(),f(r,"class","add-todo-btn svelte-sr8q5g"),f(e,"class","window-container svelte-sr8q5g")},m(k,b){T(k,e,b),m(e,t),m(e,n),m(e,o),m(e,i);for(let w=0;w<p.length;w+=1)p[w].m(e,null);v&&v.m(e,null),m(e,s),m(e,r),m(e,u),y&&y.m(e,null),a=!0,c||(d=E(r,"click",l[5]),c=!0)},p(k,[b]){if(b&25){h=k[0];let w;for(w=0;w<h.length;w+=1){const W=Ye(k,h,w);p[w]?(p[w].p(W,b),C(p[w],1)):(p[w]=Xe(W),p[w].c(),C(p[w],1),p[w].m(e,s))}for(Z(),w=h.length;w<p.length;w+=1)_(w);Q(),!h.length&&v?v.p(k,b):h.length?v&&(v.d(1),v=null):(v=Ke(),v.c(),v.m(e,s))}k[1]?y?(y.p(k,b),b&2&&C(y,1)):(y=Ge(k),y.c(),C(y,1),y.m(e,null)):y&&(Z(),A(y,1,1,()=>{y=null}),Q())},i(k){if(!a){for(let b=0;b<h.length;b+=1)C(p[b]);C(y),a=!0}},o(k){p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)A(p[b]);A(y),a=!1},d(k){k&&S(e),de(p,k),v&&v.d(),y&&y.d(),c=!1,d()}}}function bn(l,e,t){let n=[],o=!1;return[n,o,c=>{t(1,o=!1);let{title:d,content:h}=c.detail;h=h.replaceAll(`
`,"<br>");let p=Math.floor(Math.random()*1e3);n.push({id:p,title:d,content:h,done:!1}),t(0,n),localStorage.setItem("todos",n.toString())},c=>{let d=c.detail;for(let h of n)h.id==d&&(h.done=!0);t(0,n)},c=>{let d=c.detail;n.forEach((h,p)=>{h.id==d&&n.splice(p,1)}),t(0,n)},()=>{t(1,o=!o)},()=>t(1,o=!1)]}class wn extends H{constructor(e){super(),F(this,e,bn,gn,O,{})}}function vn(l){let e;return{c(){e=g("div"),e.innerHTML=`<div class="content-container svelte-scqifq"><h1 class="svelte-scqifq">Welcome to Nexion!</h1> 

        <p style="text-align: center; color: #ddd">Nexion is an online desktop inspired by <a href="https://www.gnome.org/" class="svelte-scqifq">GNOME</a>.</p> 
        <br/> 
        <h2 class="svelte-scqifq">Before you start</h2> 
        <ul style="list-style-type:square"><li>Enter fullscreen mode</li> 
            <li>Zoom out intil this welcome window is completely visible.</li></ul> 

        <h2 class="svelte-scqifq">My aim</h2> 
        <p>To create a beautiful extensible portable online desktop that looks consistent wherever you go.</p> 
        <p>Contributions are welcome. Refer the README for more details</p> 

        <footer class="svelte-scqifq"><a href="https://github.com/OrangeFalcon14/Nexion" class="svelte-scqifq">\uEA84 GitHub</a></footer></div>`,f(e,"class","window-container svelte-scqifq")},m(t,n){T(t,e,n)},p:D,i:D,o:D,d(t){t&&S(e)}}}class kn extends H{constructor(e){super(),F(this,e,null,vn,O,{})}}function yn(l){let e,t;return e=new kn({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $n(l){let e,t;return e=new wn({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Cn(l){let e,t;return e=new un({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sn(l){let e,t;return e=new cn({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Tn(l){let e,t;return e=new on({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mn(l){let e,t;return e=new Jt({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function An(l){let e,t;return e=new It({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qn(l){let e,t;return e=new Ht({}),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Wn(l){let e,t,n,o,i,s,r,u,a,c,d,h,p,_,v,y,k;const b=[qn,An,Mn,Tn,Sn,Cn,$n,yn],w=[];function W(M,q){return M[0]==="Files"?0:M[0]==="Alacritty"?1:M[0]==="Settings"?2:M[0]==="Text Editor"?3:M[0]==="Camera"?4:M[0]==="Asteroids"?5:M[0]==="Todo"?6:M[0]==="Welcome"?7:-1}return~(p=W(l))&&(_=w[p]=b[p](l)),{c(){e=g("div"),t=g("div"),n=g("button"),o=$(),i=g("button"),s=$(),r=g("button"),u=$(),a=g("div"),c=R(l[0]),h=$(),_&&_.c(),f(n,"class","titlebar-btn close-btn svelte-4x6te9"),f(i,"class","titlebar-btn maximize-btn svelte-4x6te9"),f(r,"class","titlebar-btn minimize-btn svelte-4x6te9"),f(a,"class","window-title svelte-4x6te9"),f(t,"class","window-titlebar svelte-4x6te9"),f(t,"id",d=`${l[1]}titlebar`),f(e,"id",l[1]),f(e,"class","window svelte-4x6te9"),P(e,"top",l[8]),P(e,"left",l[7]),P(e,"height",l[6]),P(e,"width",l[5]),U(e,"focused",l[2])},m(M,q){T(M,e,q),m(e,t),m(t,n),m(t,o),m(t,i),m(t,s),m(t,r),m(t,u),m(t,a),m(a,c),m(e,h),~p&&w[p].m(e,null),v=!0,y||(k=[E(n,"click",l[13]),E(i,"click",l[14]),E(r,"click",l[15]),E(t,"mousedown",l[16]),E(e,"mousedown",l[17])],y=!0)},p(M,[q]){(!v||q&1)&&G(c,M[0]),(!v||q&2&&d!==(d=`${M[1]}titlebar`))&&f(t,"id",d);let j=p;p=W(M),p!==j&&(_&&(Z(),A(w[j],1,1,()=>{w[j]=null}),Q()),~p?(_=w[p],_||(_=w[p]=b[p](M),_.c()),C(_,1),_.m(e,null)):_=null),(!v||q&2)&&f(e,"id",M[1]),(!v||q&256)&&P(e,"top",M[8]),(!v||q&128)&&P(e,"left",M[7]),(!v||q&64)&&P(e,"height",M[6]),(!v||q&32)&&P(e,"width",M[5]),(!v||q&4)&&U(e,"focused",M[2])},i(M){v||(C(_),v=!0)},o(M){A(_),v=!1},d(M){M&&S(e),~p&&w[p].d(),y=!1,Y(k)}}}function En(l,e,t){let n,o,i,s,r=te(),{app:u}=e,{number:a}=e,{focused:c}=e,{initalTop:d}=e,{initalLeft:h}=e;oe("window_id",a);let p=!1,_=!0;var v=0,y=0,k=0,b=0;let w;function W(L){w=document.getElementById(a),r("focusWindow",{number:a,app:u}),L=L,k=L.clientX,b=L.clientY,document.onmouseup=q,document.onmousemove=M}function M(L){L=L,L.preventDefault(),v=k-L.clientX,y=b-L.clientY,k=L.clientX,b=L.clientY,w.style.top=w.offsetTop-y+"px",w.style.left=w.offsetLeft-v+"px"}function q(){document.onmouseup=null,document.onmousemove=null,r("windowMoved",{number:a,top:w.style.top,left:w.style.left})}const j=()=>r("closeWindow",{app:u,number:a}),N=()=>{t(4,_=!1),t(3,p=!0)},X=()=>{t(3,p=!1),t(4,_=!0)},pe=L=>W(L),_e=()=>r("focusWindow",{number:a,app:u});return l.$$set=L=>{"app"in L&&t(0,u=L.app),"number"in L&&t(1,a=L.number),"focused"in L&&t(2,c=L.focused),"initalTop"in L&&t(11,d=L.initalTop),"initalLeft"in L&&t(12,h=L.initalLeft)},l.$$.update=()=>{l.$$.dirty&2056&&t(8,n=p?"22px":d),l.$$.dirty&4104&&t(7,o=p?"0px":h),l.$$.dirty&8&&t(6,i=p?"calc(100% - 62px)":"750px"),l.$$.dirty&8&&t(5,s=p?"100%":"1000px")},[u,a,c,p,_,s,i,o,n,r,W,d,h,j,N,X,pe,_e]}class Dn extends H{constructor(e){super(),F(this,e,En,Wn,O,{app:0,number:1,focused:2,initalTop:11,initalLeft:12})}}function Ln(l){let e,t;return{c(){e=g("img"),se(e.src,t="/Nexion/src/assets/icons/apps/asteroids.png")||f(e,"src",t),f(e,"alt",l[0]),P(e,"width","64px"),P(e,"height","54px"),P(e,"margin-bottom","10px")},m(n,o){T(n,e,o)},p(n,o){o&1&&f(e,"alt",n[0])},d(n){n&&S(e)}}}function Bn(l){let e,t;return{c(){e=g("img"),se(e.src,t="/Nexion/src/assets/icons/apps/"+l[0].toLowerCase()+".svg")||f(e,"src",t),f(e,"alt",l[0]),P(e,"height","64px")},m(n,o){T(n,e,o)},p(n,o){o&1&&!se(e.src,t="/Nexion/src/assets/icons/apps/"+n[0].toLowerCase()+".svg")&&f(e,"src",t),o&1&&f(e,"alt",n[0])},d(n){n&&S(e)}}}function In(l){let e,t,n,o,i,s;function r(c,d){return c[0]!="Asteroids"?Bn:Ln}let u=r(l),a=u(l);return{c(){e=g("div"),a.c(),t=$(),n=g("br"),o=R(l[0]),f(e,"class","applications-menu-app svelte-2kdast"),f(e,"title",l[0])},m(c,d){T(c,e,d),a.m(e,null),m(e,t),m(e,n),m(e,o),i||(s=E(e,"click",l[2]),i=!0)},p(c,[d]){u===(u=r(c))&&a?a.p(c,d):(a.d(1),a=u(c),a&&(a.c(),a.m(e,t))),d&1&&G(o,c[0]),d&1&&f(e,"title",c[0])},i:D,o:D,d(c){c&&S(e),a.d(),i=!1,s()}}}function zn(l,e,t){const n=te();let{app:o}=e;const i=()=>{n("newWindow",{app:o,focused:!0})};return l.$$set=s=>{"app"in s&&t(0,o=s.app)},[o,n,i]}class Nn extends H{constructor(e){super(),F(this,e,zn,In,O,{app:0})}}function On(l){let e,t,n;return{c(){e=g("input"),f(e,"type","text"),f(e,"id","applications-menu-search"),f(e,"placeholder","Search..."),f(e,"class","svelte-nrj43d")},m(o,i){T(o,e,i),V(e,l[0]),t||(n=[E(e,"input",l[3]),E(e,"keyup",l[1])],t=!0)},p(o,[i]){i&1&&e.value!==o[0]&&V(e,o[0])},i:D,o:D,d(o){o&&S(e),t=!1,Y(n)}}}function Fn(l,e){return l.indexOf(e)!=-1}function Hn(l,e,t){let n,{apps_list:o}=e;const i=te();let s="";function r(a){if(a.key=="Escape"){i("closeApplicationMenu");return}n==""&&i("showApps",o);let c=[];for(let d of o)Fn(d.toLowerCase(),n)&&c.push(d);i("showApps",c)}function u(){s=this.value,t(0,s)}return l.$$set=a=>{"apps_list"in a&&t(2,o=a.apps_list)},l.$$.update=()=>{l.$$.dirty&1&&(n=s.trim().toLocaleLowerCase())},[s,r,o,u]}class jn extends H{constructor(e){super(),F(this,e,Hn,On,O,{apps_list:2})}}function Ze(l,e,t){const n=l.slice();return n[5]=e[t],n}function Qe(l){let e,t;return e=new Nn({props:{app:l[5]}}),e.$on("newWindow",l[4]),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p(n,o){const i={};o&1&&(i.app=n[5]),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vn(l){let e,t,n,o,i,s,r,u;t=new jn({props:{apps_list:l[1]}}),t.$on("closeApplicationMenu",l[3]),t.$on("showApps",l[2]);let a=l[0],c=[];for(let h=0;h<a.length;h+=1)c[h]=Qe(Ze(l,a,h));const d=h=>A(c[h],1,1,()=>{c[h]=null});return{c(){e=g("div"),z(t.$$.fragment),n=$(),o=g("br"),i=g("br"),s=$(),r=g("div");for(let h=0;h<c.length;h+=1)c[h].c();f(r,"id","apps-container"),f(r,"class","svelte-1meoz1g"),f(e,"id","applications-menu"),f(e,"class","svelte-1meoz1g")},m(h,p){T(h,e,p),B(t,e,null),m(e,n),m(e,o),m(e,i),m(e,s),m(e,r);for(let _=0;_<c.length;_+=1)c[_].m(r,null);u=!0},p(h,[p]){if(p&1){a=h[0];let _;for(_=0;_<a.length;_+=1){const v=Ze(h,a,_);c[_]?(c[_].p(v,p),C(c[_],1)):(c[_]=Qe(v),c[_].c(),C(c[_],1),c[_].m(r,null))}for(Z(),_=a.length;_<c.length;_+=1)d(_);Q()}},i(h){if(!u){C(t.$$.fragment,h);for(let p=0;p<a.length;p+=1)C(c[p]);u=!0}},o(h){A(t.$$.fragment,h),c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)A(c[p]);u=!1},d(h){h&&S(e),I(t),de(c,h)}}}function Pn(l,e,t){let n=ne("apps_list"),o=JSON.parse(JSON.stringify(n));function i(u){t(0,o=u.detail)}qe(()=>{document.getElementById("applications-menu-search").focus()});function s(u){we.call(this,l,u)}function r(u){we.call(this,l,u)}return[o,n,i,s,r]}class Rn extends H{constructor(e){super(),F(this,e,Pn,Vn,O,{})}}function xe(l){let e,t;return e=new Rn({}),e.$on("closeApplicationMenu",l[4]),e.$on("newWindow",l[5]),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p:D,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Un(l){let e,t,n,o,i,s,r,u,a,c,d,h,p=l[0]&&xe(l);return{c(){e=g("div"),t=g("span"),t.textContent="Applications",n=$(),o=g("span"),i=R(l[1]),s=$(),r=g("span"),r.textContent="\uF1EB \uF028 \uF240",u=$(),p&&p.c(),a=Ae(),f(t,"id","applications-menu-launcher"),f(t,"class","svelte-1r8fkfh"),f(o,"id","date-time"),f(o,"class","svelte-1r8fkfh"),f(r,"id","sys-tray"),f(r,"class","svelte-1r8fkfh"),f(e,"id","topbar"),f(e,"class","svelte-1r8fkfh")},m(_,v){T(_,e,v),m(e,t),m(e,n),m(e,o),m(o,i),m(e,s),m(e,r),T(_,u,v),p&&p.m(_,v),T(_,a,v),c=!0,d||(h=E(t,"click",l[3]),d=!0)},p(_,[v]){(!c||v&2)&&G(i,_[1]),_[0]?p?(p.p(_,v),v&1&&C(p,1)):(p=xe(_),p.c(),C(p,1),p.m(a.parentNode,a)):p&&(Z(),A(p,1,1,()=>{p=null}),Q())},i(_){c||(C(p),c=!0)},o(_){A(p),c=!1},d(_){_&&S(e),_&&S(u),p&&p.d(_),_&&S(a),d=!1,h()}}}function Jn(l,e,t){let n=te(),o;const i=["January","February","March","April","May","June","July","August","September","October","November","December"];function s(){const d=new Date;let h=d.getHours(),p=d.getSeconds()<10?`0${d.getSeconds()}`:d.getSeconds(),_=d.getMinutes()<10?`0${d.getMinutes()}`:d.getMinutes();d.getHours()<12;let v=d.getDay(),y;switch(v){case 0:y="Sun";break;case 1:y="Mon";break;case 2:y="Tue";break;case 3:y="Wed";break;case 4:y="Thu";break;case 5:y="Fri";break;case 6:y="Sat";break}t(1,o=`${y} ${i[d.getMonth()].slice(0,3)} ${d.getDate()} ${h}:${_}:${p}`)}s(),setInterval(s,1e3);let{applications_menu_show:r=!1}=e;console.log(r);const u=()=>{t(0,r=!r)},a=()=>{t(0,r=!1)},c=d=>{t(0,r=!1),n("newWindow",d.detail)};return l.$$set=d=>{"applications_menu_show"in d&&t(0,r=d.applications_menu_show)},[r,o,n,u,a,c]}class Yn extends H{constructor(e){super(),F(this,e,Jn,Un,O,{applications_menu_show:0})}}function et(l,e,t){const n=l.slice();return n[15]=e[t],n}function tt(l){let e,t;return e=new Dn({props:{app:l[15].app,number:l[15].number,focused:l[15].focused,initalTop:l[15].top,initalLeft:l[15].left}}),e.$on("focusWindow",l[5]),e.$on("closeWindow",l[4]),e.$on("windowMoved",l[6]),{c(){z(e.$$.fragment)},m(n,o){B(e,n,o),t=!0},p(n,o){const i={};o&2&&(i.app=n[15].app),o&2&&(i.number=n[15].number),o&2&&(i.focused=n[15].focused),o&2&&(i.initalTop=n[15].top),o&2&&(i.initalLeft=n[15].left),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Kn(l){let e,t,n,o,i,s;t=new Yn({props:{applications_menu_show:l[2]}}),t.$on("newWindow",l[3]),o=new Dt({props:{apps_list:l[0]}}),o.$on("newWindow",l[3]);let r=l[1],u=[];for(let c=0;c<r.length;c+=1)u[c]=tt(et(l,r,c));const a=c=>A(u[c],1,1,()=>{u[c]=null});return{c(){e=g("div"),z(t.$$.fragment),n=$(),z(o.$$.fragment),i=$();for(let c=0;c<u.length;c+=1)u[c].c();f(e,"id","container")},m(c,d){T(c,e,d),B(t,e,null),m(e,n),B(o,e,null),m(e,i);for(let h=0;h<u.length;h+=1)u[h].m(e,null);s=!0},p(c,[d]){const h={};d&4&&(h.applications_menu_show=c[2]),t.$set(h);const p={};if(d&1&&(p.apps_list=c[0]),o.$set(p),d&114){r=c[1];let _;for(_=0;_<r.length;_+=1){const v=et(c,r,_);u[_]?(u[_].p(v,d),C(u[_],1)):(u[_]=tt(v),u[_].c(),C(u[_],1),u[_].m(e,null))}for(Z(),_=r.length;_<u.length;_+=1)a(_);Q()}},i(c){if(!s){C(t.$$.fragment,c),C(o.$$.fragment,c);for(let d=0;d<r.length;d+=1)C(u[d]);s=!0}},o(c){A(t.$$.fragment,c),A(o.$$.fragment,c),u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)A(u[d]);s=!1},d(c){c&&S(e),I(t),I(o),de(u,c)}}}function Xn(l,e,t){oe("apps_list",["Files","Firefox","Asteroids","Alacritty","Camera","Pycharm Community Edition","Settings","Text Editor","Todo","Visual Studio Code"]);let o=[{name:"Files",running:!1,focused:!1},{name:"Firefox",running:!1,focused:!1},{name:"Alacritty",running:!1,focused:!1},{name:"Pycharm Community Edition",running:!1,focused:!1},{name:"Visual Studio Code",running:!1,focused:!1}],i=[],s=[],r=!1;function u(b){t(2,r=!1);let w=b.detail;for(;;){if(w.number=Math.floor(Math.random()*1e3),i.length==0){i=[...i,w.number];break}if(i.indexOf(w.number)==-1)break}w.top="100px",w.left="100px",t(1,s=[...s,w]),c({detail:{number:w.number,app:w.app}});let W=!1;o.forEach(M=>{M.name===w.app&&(M.running=!0,W=!0)}),!W&&w.app!=="Welcome"&&o.push({name:w.app,running:!0,focused:!0}),t(0,o)}function a(b){for(var w=0;w<s.length;w++)s[w].number===b.detail.number&&(s.splice(w,1),t(1,s));o.forEach(W=>{if(W.name===b.detail.app){let M=!1;for(let q of s)q.app===b.detail.app&&(M=!0);M||(W.running=!1,W.focused=!1)}}),t(0,o)}function c(b){let w=b.detail.number;for(let W of s)W.focused=!1;for(let W of s)W.number==w&&(W.focused=!0);t(1,s);for(let W of o)W.name==b.detail.app?W.focused=!0:W.focused=!1;t(0,o)}function d(b){for(const w of s)if(w.number==b)return w}function h(b){let w=b.detail.top,W=b.detail.left,M=d(b.detail.number);M.top=w,M.left=W}const p=document.querySelector(":root");function _(b,w){p.style.setProperty(b,w)}function v(b){getComputedStyle(p).getPropertyValue(b)}oe("setCSSVar",_),oe("getCSSVar",v);let y=JSON.parse(localStorage.getItem("colorConfig"))||void 0;return y&&(_("--color1",y["--color1"]),_("--color2",y["--color2"]),_("--color3",y["--color3"]),_("--accent-color",y["--accent-color"]),_("--blur",y["--blur"]+"px")),oe("colorConfig",y),oe("defaultCSSVars",{"--color1":"#060610ae","--color2":"#161620cf","--color3":"#111118cf","--accent-color":"#736099","--blur":20}),qe(()=>{u({detail:{app:"Welcome",focused:!0}})}),[o,s,r,u,a,c,h]}class Gn extends H{constructor(e){super(),F(this,e,Xn,Kn,O,{})}}new Gn({target:document.getElementById("app")});
